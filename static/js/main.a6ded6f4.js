!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=74)}([function(e,t,n){"use strict";e.exports=n(80)},function(e,t,n){var r=n(59);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return O})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return E})),n.d(t,"q",(function(){return T}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const o=e[t],i=t+1<e.length,a=i?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,u=o>>2,c=(3&o)<<4|a>>4;let f=(15&a)<<2|l>>6,d=63&l;s||(d=64,i||(f=64)),r.push(n[u],n[c],n[f],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const o=n[e.charAt(t++)],i=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const l=t<e.length?n[e.charAt(t)]:64;if(++t,null==o||null==i||null==s||null==l)throw new a;const u=o<<2|i>>4;if(r.push(u),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){try{return i.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,u=()=>{try{return l()||(()=>{if(void 0===r)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-25089589-5"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&s(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},c=e=>{var t,n;return null===(n=null===(t=u())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},f=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_"+e]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){const e=d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}class v extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,v.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y.prototype.create)}}class y{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],i=o?function(e,t){return e.replace(b,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(o,n):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new v(r,a,n)}}const b=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function w(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(S(n)&&S(i)){if(!w(n,i))return!1}else if(n!==i)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function S(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function E(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function T(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function k(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(e,t){const n=new C(e,t);return n.subscribe.bind(n)}class C{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=P),void 0===r.error&&(r.error=P),void 0===r.complete&&(r.complete=P);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function O(e){return e&&e._delegate?e._delegate:e}}).call(this,n(22),n(26))},function(e,t,n){e.exports=n(113)()},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(59);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports={API_BASE:"https://gifx.co/chip",CATALOG_PREFIX:"https://gifx.co/music",FORMATS:["ay","gbs","it","mdx","mid","midi","miniusf","mod","nsf","nsfe","spc","s3m","smf","v2m","vgm","vgz","xm"],MAX_SAMPLE_RATE:48e3,MAX_VOICES:64,REPLACE_STATE_ON_SEEK:!1,SOUNDFONT_MOUNTPOINT:"/soundfonts",SOUNDFONT_URL_PATH:"https://gifx.co/soundfonts/",SOUNDFONTS:[{label:"User SoundFonts (Drop .sf2 to add)",items:[]},{label:"Small Soundfonts",items:[{label:"GMGSx Plus (6.2 MB)",value:"gmgsx-plus.sf2"},{label:"Roland SC-55/SCC1 (3.3 MB)",value:"Scc1t2.sf2"},{label:"Yamaha DB50XG (3.9 MB)",value:"Yamaha DB50XG.sf2"},{label:"Gravis Ultrasound (5.9 MB)",value:"Gravis_Ultrasound_Classic_PachSet_v1.6.sf2"},{label:"Tim GM (6 MB)",value:"TimGM6mb.sf2"},{label:"Alan Chan 5MBGMGS (4.9 MB)",value:"5MBGMGS.SF2"},{label:"E-mu 2MBGMGS (2.1 MB)",value:"2MBGMGS.SF2"},{label:"E-mu 8MBGMGS (8.2 MB)",value:"8MBGMGS.SF2"},{label:"Phoenix MT-32 (6.3 MB)",value:"Phoenix_MT-32.sf2"}]},{label:"Large Soundfonts",items:[{label:"Masquerade 55 v006 (18.4 MB)",value:"masquerade55v006.sf2"},{label:"GeneralUser GS v1.471 (31.3 MB)",value:"generaluser.sf2"},{label:"GeneralUser GS v2.0.1 (32.3 MB)",value:"generaluser2.sf2"},{label:"Chorium Revision A (28.9 MB)",value:"choriumreva.sf2"},{label:"Unison (29.3 MB)",value:"Unison.SF2"},{label:"Creative 28MBGM (29.7 MB)",value:"28MBGM.sf2"},{label:"Musica Theoria 2 (30.5 MB)",value:"mustheory2.sf2"},{label:"Personal Copy Lite (31.4 MB)",value:"PCLite.sf2"},{label:"AnotherXG (31.4 MB)",value:"bennetng_AnotherXG_v2-1.sf2"},{label:"NTONYX 32Mb GM Stereo (32.5 MB)",value:"32MbGMStereo.sf2"},{label:"Weeds GM 3 (54.9 MB)",value:"weedsgm3.sf2"},{label:"Weeds GM 4 (68.5 MB)",value:"WeedsGM4.sf2"},{label:"EmperorGrieferus SC-55 (58.7 MB)",value:"SC-55.sf2"}]},{label:"Novelty Soundfonts",items:[{label:"PC Beep (31 KB)",value:"pcbeep.sf2"},{label:"Nokia 6230i (227 KB)",value:"Nokia_6230i_RM-72_.sf2"},{label:"Kirby's Dream Land (271 KB)",value:"Kirby's_Dream_Land_3.sf2"},{label:"Vintage Waves v2 (315 KB)",value:"Vintage Dreams Waves v2.sf2"},{label:"Setzer's SPC Soundfont (1.2 MB)",value:"Setzer's_SPC_Soundfont.sf2"},{label:"SNES GM (1.9 MB)",value:"Super_Nintendo_Unofficial_update.sf2"},{label:"Nokia 30 (2.2 MB)",value:"Nokia_30.sf2"},{label:"LG Wink/Motorola ROKR (3.3 MB)",value:"LG_Wink_Style_T310_Soundfont.sf2"},{label:"Diddy Kong Racing DS (13.7 MB)",value:"Diddy_Kong_Racing_DS_Soundfont.sf2"},{label:"Regression FM v1.99g (14.4 MB)",value:"R_FM_v1.99g-beta.sf2"},{label:"Ultimate Megadrive (63.2 MB)",value:"The Ultimate Megadrive Soundfont.sf2"}]},{label:"Piano Soundfonts",items:[{label:"Yamaha Grand Lite v1.1 (21.8 MB)",value:"Yamaha-Grand-Lite-v1.1.sf2"},{label:"Abbey Steinway D v1.9 (40.2 MB)",value:"Abbey-Steinway-D-v1.9.sf2"},{label:"Chateau Grand Lite v1.0 (49.1 MB)",value:"Chateau Grand Lite-v1.0.sf2"},{label:"Steinway Grand v1.0 (145 MB)",value:"Steinway Grand-SF4U-v1.sf2"}]}]}},function(e,t,n){var r=n(27).default,o=n(128);e.exports=function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(129);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,{include:t,exclude:n}={}){const r=e=>{const r=t=>"string"==typeof t?e===t:t.test(e);return t?t.some(r):!n||!n.some(r)};for(const[t,n]of(e=>{const t=new Set;do{for(const n of Reflect.ownKeys(e))t.add([e,n])}while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t})(e.constructor.prototype)){if("constructor"===n||!r(n))continue;const o=Reflect.getOwnPropertyDescriptor(t,n);o&&"function"==typeof o.value&&(e[n]=e[n].bind(e))}return e}},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return y}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const o=e[t],i=t+1<e.length,a=i?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,u=o>>2,c=(3&o)<<4|a>>4;let f=(15&a)<<2|l>>6,d=63&l;s||(d=64,i||(f=64)),r.push(n[u],n[c],n[f],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const o=n[e.charAt(t++)],i=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const l=t<e.length?n[e.charAt(t)]:64;if(++t,null==o||null==i||null==s||null==l)throw new a;const u=o<<2|i>>4;if(r.push(u),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){return function(e){const t=o(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return i.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const u=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return u()||(()=>{if(void 0===r)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-25089589-5"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},f=e=>{const t=(e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(i)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,h.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p.prototype.create)}}class p{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],i=o?function(e,t){return e.replace(m,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(o,n):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new h(r,a,n)}}const m=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(v(n)&&v(i)){if(!g(n,i))return!1}else if(n!==i)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function v(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function y(e){return e&&e._delegate?e._delegate:e}}).call(this,n(22),n(26))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return M}));var r=n(21),o=n(0),i=n.n(o),a=n(3),s=n.n(a),l=n(19),u=n(20),c=n(14),f=n(45),d=n.n(f),h=(n(58),n(23)),p=n(65),m=n.n(p),g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:{};function v(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var y=i.a.createContext||function(e,t){var n,o,a="__create-react-context-"+function(){var e="__global_unique_id__";return g[e]=(g[e]||0)+1}()+"__",l=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).emitter=v(t.props.value),t}Object(r.a)(n,e);var o=n.prototype;return o.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},o.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;((i=r)===(a=o)?0!==i||1/i==1/a:i!=i&&a!=a)?n=0:(n="function"==typeof t?t(r,o):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var i,a},o.render=function(){return this.props.children},n}(i.a.Component);l.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(r.a)(n,t);var o=n.prototype;return o.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},o.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},o.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},o.getValue=function(){return this.context[a]?this.context[a].get():e},o.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.a.Component);return u.contextTypes=((o={})[a]=s.a.object,o),{Provider:l,Consumer:u}},b=function(e){var t=y();return t.displayName=e,t},_=b("Router-History"),w=b("Router"),S=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return i.a.createElement(w.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.a.createElement(_.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.a.Component);i.a.Component;i.a.Component;var E={},T=0;function k(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,i=void 0!==o&&o,a=n.strict,s=void 0!==a&&a,l=n.sensitive,u=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=E[n]||(E[n]={});if(r[e])return r[e];var o=[],i={regexp:d()(e,o,t),keys:o};return T<1e4&&(r[e]=i,T++),i}(n,{end:i,strict:s,sensitive:u}),o=r.regexp,a=r.keys,l=o.exec(e);if(!l)return null;var c=l[0],f=l.slice(1),h=e===c;return i&&!h?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var x=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(w.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?k(n.pathname,e.props):t.match,o=Object(c.a)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,f=a.render;return Array.isArray(s)&&function(e){return 0===i.a.Children.count(e)}(s)&&(s=null),i.a.createElement(w.Provider,{value:o},o.match?s?"function"==typeof s?s(o):s:l?i.a.createElement(l,o):f?f(o):null:"function"==typeof s?s(o):null)}))},t}(i.a.Component);function C(e){return"/"===e.charAt(0)?e:"/"+e}function P(e,t){if(!e)return t;var n=C(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function O(e){return"string"==typeof e?e:Object(l.e)(e)}function I(e){return function(){Object(u.a)(!1)}}function R(){}i.a.Component;var A=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(w.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,o=e.props.location||t.location;return i.a.Children.forEach(e.props.children,(function(e){if(null==r&&i.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?k(o.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),r?i.a.cloneElement(n,{location:o,computedMatch:r}):null}))},t}(i.a.Component);function M(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(h.a)(t,["wrappedComponentRef"]);return i.a.createElement(w.Consumer,null,(function(t){return t||Object(u.a)(!1),i.a.createElement(e,Object(c.a)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,m()(n,e)}var N=i.a.useContext;function D(){return N(_)}}).call(this,n(22))},function(e,t,n){"use strict";t.decode=t.parse=n(111),t.encode=t.stringify=n(112)},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new Error("MIDIEvents function not intended to be run.")}r.EVENT_META=255,r.EVENT_SYSEX=240,r.EVENT_DIVSYSEX=247,r.EVENT_MIDI=8,r.EVENT_META_SEQUENCE_NUMBER=0,r.EVENT_META_TEXT=1,r.EVENT_META_COPYRIGHT_NOTICE=2,r.EVENT_META_TRACK_NAME=3,r.EVENT_META_INSTRUMENT_NAME=4,r.EVENT_META_LYRICS=5,r.EVENT_META_MARKER=6,r.EVENT_META_CUE_POINT=7,r.EVENT_META_MIDI_CHANNEL_PREFIX=32,r.EVENT_META_END_OF_TRACK=47,r.EVENT_META_SET_TEMPO=81,r.EVENT_META_SMTPE_OFFSET=84,r.EVENT_META_TIME_SIGNATURE=88,r.EVENT_META_KEY_SIGNATURE=89,r.EVENT_META_SEQUENCER_SPECIFIC=127,r.EVENT_MIDI_NOTE_OFF=8,r.EVENT_MIDI_NOTE_ON=9,r.EVENT_MIDI_NOTE_AFTERTOUCH=10,r.EVENT_MIDI_CONTROLLER=11,r.EVENT_MIDI_PROGRAM_CHANGE=12,r.EVENT_MIDI_CHANNEL_AFTERTOUCH=13,r.EVENT_MIDI_PITCH_BEND=14,r.MIDI_1PARAM_EVENTS=[r.EVENT_MIDI_PROGRAM_CHANGE,r.EVENT_MIDI_CHANNEL_AFTERTOUCH],r.MIDI_2PARAMS_EVENTS=[r.EVENT_MIDI_NOTE_OFF,r.EVENT_MIDI_NOTE_ON,r.EVENT_MIDI_NOTE_AFTERTOUCH,r.EVENT_MIDI_CONTROLLER,r.EVENT_MIDI_PITCH_BEND],r.createParser=function(e,t,n){var o,i,a,s,l;if(e instanceof DataView&&(e={position:t||0,buffer:e,readUint8:function(){return this.buffer.getUint8(this.position++)},readUint16:function(){var e=this.buffer.getUint16(this.position);return this.position=this.position+2,e},readUint32:function(){var e=this.buffer.getUint16(this.position);return this.position=this.position+2,e},readVarInt:function(){for(var e,t=0,n=0;4>n++;){if(!(128&(e=this.readUint8())))return t+e;t+=127&e,t<<=7}throw new Error("0x"+this.position.toString(16)+": Variable integer length cannot exceed 4 bytes")},readBytes:function(e){for(var t=[];0<e;e--)t.push(this.readUint8());return t},pos:function(){return"0x"+(this.buffer.byteOffset+this.position).toString(16)},end:function(){return this.position===this.buffer.byteLength}},t=0),0<t)for(;t--;)e.readUint8();return{next:function(){if(e.end())return null;if(i={index:e.pos(),delta:e.readVarInt()},240==(240&(o=e.readUint8()))){if(o!==r.EVENT_META){if(o===r.EVENT_SYSEX||o===r.EVENT_DIVSYSEX)return i.type=o,i.length=e.readVarInt(),i.data=e.readBytes(i.length),i;if(n)throw new Error(e.pos()+" Unknown event type "+o.toString(16)+", Delta: "+i.delta+".");return i.type=o,i.badsubtype=e.readVarInt(),i.length=e.readUint8(),i.data=e.readBytes(i.length),i}switch(i.type=r.EVENT_META,i.subtype=e.readUint8(),i.length=e.readVarInt(),i.subtype){case r.EVENT_META_SEQUENCE_NUMBER:if(n&&2!==i.length)throw new Error(e.pos()+" Bad metaevent length.");return i.msb=e.readUint8(),i.lsb=e.readUint8(),i;case r.EVENT_META_TEXT:case r.EVENT_META_COPYRIGHT_NOTICE:case r.EVENT_META_TRACK_NAME:case r.EVENT_META_INSTRUMENT_NAME:case r.EVENT_META_LYRICS:case r.EVENT_META_MARKER:case r.EVENT_META_CUE_POINT:return i.data=e.readBytes(i.length),i;case r.EVENT_META_MIDI_CHANNEL_PREFIX:if(n&&1!==i.length)throw new Error(e.pos()+" Bad metaevent length.");return i.prefix=e.readUint8(),i;case r.EVENT_META_END_OF_TRACK:if(n&&0!==i.length)throw new Error(e.pos()+" Bad metaevent length.");return i;case r.EVENT_META_SET_TEMPO:if(n&&3!==i.length)throw new Error(e.pos()+" Tempo meta event length must be 3.");return i.tempo=(e.readUint8()<<16)+(e.readUint8()<<8)+e.readUint8(),i.tempoBPM=6e7/i.tempo,i;case r.EVENT_META_SMTPE_OFFSET:if(n&&5!==i.length)throw new Error(e.pos()+" Bad metaevent length.");if(i.hour=e.readUint8(),n&&23<i.hour)throw new Error(e.pos()+" SMTPE offset hour value must be part of 0-23.");if(i.minutes=e.readUint8(),n&&59<i.minutes)throw new Error(e.pos()+" SMTPE offset minutes value must be part of 0-59.");if(i.seconds=e.readUint8(),n&&59<i.seconds)throw new Error(e.pos()+" SMTPE offset seconds value must be part of 0-59.");if(i.frames=e.readUint8(),n&&30<i.frames)throw new Error(e.pos()+" SMTPE offset frames value must be part of 0-30.");if(i.subframes=e.readUint8(),n&&99<i.subframes)throw new Error(e.pos()+" SMTPE offset subframes value must be part of 0-99.");return i;case r.EVENT_META_KEY_SIGNATURE:if(n&&2!==i.length)throw new Error(e.pos()+" Bad metaevent length.");if(i.key=e.readUint8(),n&&(-7>i.key||7<i.key))throw new Error(e.pos()+" Bad metaevent length.");if(i.scale=e.readUint8(),n&&0!==i.scale&&1!==i.scale)throw new Error(e.pos()+" Key signature scale value must be 0 or 1.");return i;case r.EVENT_META_TIME_SIGNATURE:if(n&&4!==i.length)throw new Error(e.pos()+" Bad metaevent length.");return i.data=e.readBytes(i.length),i.param1=i.data[0],i.param2=i.data[1],i.param3=i.data[2],i.param4=i.data[3],i;case r.EVENT_META_SEQUENCER_SPECIFIC:return i.data=e.readBytes(i.length),i;default:if(n)throw new Error(e.pos()+" Unknown meta event type ("+i.subtype.toString(16)+").");return i.data=e.readBytes(i.length),i}}else{if(0==(128&o)){if(!a)throw new Error(e.pos()+" Running status without previous event");l=o}else a=o>>4,s=15&o,l=e.readUint8();switch(i.type=r.EVENT_MIDI,i.subtype=a,i.channel=s,i.param1=l,a){case r.EVENT_MIDI_NOTE_OFF:return i.param2=e.readUint8(),i;case r.EVENT_MIDI_NOTE_ON:return i.param2=e.readUint8(),i.param2||(i.subtype=r.EVENT_MIDI_NOTE_OFF,i.param2=127),i;case r.EVENT_MIDI_NOTE_AFTERTOUCH:case r.EVENT_MIDI_CONTROLLER:return i.param2=e.readUint8(),i;case r.EVENT_MIDI_PROGRAM_CHANGE:case r.EVENT_MIDI_CHANNEL_AFTERTOUCH:return i;case r.EVENT_MIDI_PITCH_BEND:return i.param2=e.readUint8(),i;default:if(n)throw new Error(e.pos()+" Unknown MIDI event type ("+a.toString(16)+").");return i}}}}},r.writeToTrack=function(e,t,n){var o,i,a,s,l=0;for(o=0,i=e.length;o<i;o++){if(e[o].delta>>>28)throw Error("Event #"+o+": Maximum delta time value reached ("+e[o].delta+"/134217728 max)");if(e[o].delta>>>21&&(t[l++]=e[o].delta>>>21&127|128),e[o].delta>>>14&&(t[l++]=e[o].delta>>>14&127|128),e[o].delta>>>7&&(t[l++]=e[o].delta>>>7&127|128),t[l++]=127&e[o].delta,e[o].type===r.EVENT_MIDI)t[l++]=(e[o].subtype<<4)+e[o].channel,t[l++]=e[o].param1,-1!==r.MIDI_2PARAMS_EVENTS.indexOf(e[o].subtype)&&(t[l++]=e[o].param2);else{if(t[l++]=e[o].type,e[o].type===r.EVENT_META&&(t[l++]=e[o].subtype),e[o].length>>>28)throw Error("Event #"+o+": Maximum length reached ("+e[o].length+"/134217728 max)");if(e[o].length>>>21&&(t[l++]=e[o].length>>>21&127|128),e[o].length>>>14&&(t[l++]=e[o].length>>>14&127|128),e[o].length>>>7&&(t[l++]=e[o].length>>>7&127|128),t[l++]=127&e[o].length,e[o].type===r.EVENT_META)switch(e[o].subtype){case r.EVENT_META_SEQUENCE_NUMBER:t[l++]=e[o].msb,t[l++]=e[o].lsb;break;case r.EVENT_META_TEXT:case r.EVENT_META_COPYRIGHT_NOTICE:case r.EVENT_META_TRACK_NAME:case r.EVENT_META_INSTRUMENT_NAME:case r.EVENT_META_LYRICS:case r.EVENT_META_MARKER:case r.EVENT_META_CUE_POINT:for(a=0,s=e[o].length;a<s;a++)t[l++]=e[o].data[a];break;case r.EVENT_META_MIDI_CHANNEL_PREFIX:t[l++]=e[o].prefix;break;case r.EVENT_META_END_OF_TRACK:break;case r.EVENT_META_SET_TEMPO:t[l++]=e[o].tempo>>16,t[l++]=e[o].tempo>>8&255,t[l++]=255&e[o].tempo;break;case r.EVENT_META_SMTPE_OFFSET:if(n&&23<e[o].hour)throw new Error("Event #"+o+": SMTPE offset hour value must be part of 0-23.");if(t[l++]=e[o].hour,n&&59<e[o].minutes)throw new Error("Event #"+o+": SMTPE offset minutes value must be part of 0-59.");if(t[l++]=e[o].minutes,n&&59<e[o].seconds)throw new Error("Event #"+o+": SMTPE offset seconds value must be part of 0-59.");if(t[l++]=e[o].seconds,n&&30<e[o].frames)throw new Error("Event #"+o+": SMTPE offset frames amount must be part of 0-30.");if(t[l++]=e[o].frames,n&&99<e[o].subframes)throw new Error("Event #"+o+": SMTPE offset subframes amount must be part of 0-99.");t[l++]=e[o].subframes;break;case r.EVENT_META_KEY_SIGNATURE:if("number"!=typeof e[o].key||-7>e[o].key||7<e[o].scale)throw new Error("Event #"+o+":The key signature key must be between -7 and 7");if("number"!=typeof e[o].scale||0>e[o].scale||1<e[o].scale)throw new Error("Event #"+o+":The key signature scale must be 0 or 1");t[l++]=e[o].key,t[l++]=e[o].scale;break;case r.EVENT_META_TIME_SIGNATURE:case r.EVENT_META_SEQUENCER_SPECIFIC:default:for(a=0,s=e[o].length;a<s;a++)t[l++]=e[o].data[a]}else for(a=0,s=e[o].length;a<s;a++)t[l++]=e[o].data[a]}}},r.getRequiredBufferLength=function(e){var t,n=0,o=0;for(o=0,t=e.length;o<t;o++)n+=e[o].delta>>>21?4:e[o].delta>>>14?3:e[o].delta>>>7?2:1,e[o].type===r.EVENT_MIDI?(n++,n++,-1!==r.MIDI_2PARAMS_EVENTS.indexOf(e[o].subtype)&&n++):(n++,e[o].type===r.EVENT_META&&n++,n+=e[o].length>>>21?4:e[o].length>>>14?3:e[o].length>>>7?2:1,n+=e[o].length);return n},e.exports=r},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return(o?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!o).join("/"))||"."},t.normalize=function(e){var i=t.isAbsolute(e),a="/"===o(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,l=0;l<a;l++)if(o[l]!==i[l]){s=l;break}var u=[];for(l=s;l<o.length;l++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(o=!1,r=a+1),46===s?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=a+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(26))},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return h}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const o=e[t],i=t+1<e.length,a=i?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,u=o>>2,c=(3&o)<<4|a>>4;let f=(15&a)<<2|l>>6,d=63&l;s||(d=64,i||(f=64)),r.push(n[u],n[c],n[f],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const o=n[e.charAt(t++)],i=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const l=t<e.length?n[e.charAt(t)]:64;if(++t,null==o||null==i||null==s||null==l)throw new a;const u=o<<2|i>>4;if(r.push(u),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){return function(e){const t=o(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return i.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const u=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return u()||(()=>{if(void 0===r)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-25089589-5"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},f=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config};function d(){try{return"object"==typeof indexedDB}catch(e){return!1}}function h(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}class p extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,p.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,m.prototype.create)}}class m{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],i=o?function(e,t){return e.replace(g,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(o,n):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new p(r,a,n)}}const g=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(y(n)&&y(i)){if(!v(n,i))return!1}else if(n!==i)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function y(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}).call(this,n(22),n(26))},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return P})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return p}));var r=n(14);function o(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&o(e),l=t&&o(t),u=s||l;if(e&&o(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var f=0,d=a.length;d>=0;d--){var h=a[d];"."===h?i(a,d):".."===h?(i(a,d),f++):f&&(i(a,d),f--)}if(!u)for(;f--;f)a.unshift("..");!u||""===a[0]||a[0]&&o(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var l=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=s(t),o=s(n);return r!==t||o!==n?e(r,o):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},u=n(20);function c(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function m(e,t,n,o){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=Object(r.a)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),o?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=a(i.pathname,o.pathname)):i.pathname=o.pathname:i.pathname||(i.pathname="/"),i}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"==typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}function _(){try{return window.history.state||{}}catch(e){return{}}}function w(e){void 0===e&&(e={}),y||Object(u.a)(!1);var t,n=window.history,o=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,s=a.forceRefresh,l=void 0!==s&&s,f=a.getUserConfirmation,g=void 0===f?b:f,w=a.keyLength,S=void 0===w?6:w,E=e.basename?h(c(e.basename)):"";function T(e){var t=e||{},n=t.key,r=t.state,o=window.location,i=o.pathname+o.search+o.hash;return E&&(i=d(i,E)),m(i,r,n)}function k(){return Math.random().toString(36).substr(2,S)}var x=v();function C(e){Object(r.a)(z,e),z.length=n.length,x.notifyListeners(z.location,z.action)}function P(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(T(e.state))}function O(){R(T(_()))}var I=!1;function R(e){if(I)I=!1,C();else{x.confirmTransitionTo(e,"POP",g,(function(t){t?C({action:"POP",location:e}):function(e){var t=z.location,n=M.indexOf(t.key);-1===n&&(n=0);var r=M.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(I=!0,D(o))}(e)}))}}var A=T(_()),M=[A.key];function N(e){return E+p(e)}function D(e){n.go(e)}var j=0;function L(e){1===(j+=e)&&1===e?(window.addEventListener("popstate",P),i&&window.addEventListener("hashchange",O)):0===j&&(window.removeEventListener("popstate",P),i&&window.removeEventListener("hashchange",O))}var F=!1;var z={length:n.length,action:"POP",location:A,createHref:N,push:function(e,t){var r=m(e,t,k(),z.location);x.confirmTransitionTo(r,"PUSH",g,(function(e){if(e){var t=N(r),i=r.key,a=r.state;if(o)if(n.pushState({key:i,state:a},null,t),l)window.location.href=t;else{var s=M.indexOf(z.location.key),u=M.slice(0,s+1);u.push(r.key),M=u,C({action:"PUSH",location:r})}else window.location.href=t}}))},replace:function(e,t){var r=m(e,t,k(),z.location);x.confirmTransitionTo(r,"REPLACE",g,(function(e){if(e){var t=N(r),i=r.key,a=r.state;if(o)if(n.replaceState({key:i,state:a},null,t),l)window.location.replace(t);else{var s=M.indexOf(z.location.key);-1!==s&&(M[s]=r.key),C({action:"REPLACE",location:r})}else window.location.replace(t)}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return F||(L(1),F=!0),function(){return F&&(F=!1,L(-1)),t()}},listen:function(e){var t=x.appendListener(e);return L(1),function(){L(-1),t()}}};return z}var S={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:c},slash:{encodePath:c,decodePath:c}};function E(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function T(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function k(e){window.location.replace(E(window.location.href)+"#"+e)}function x(e){void 0===e&&(e={}),y||Object(u.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),o=n.getUserConfirmation,i=void 0===o?b:o,a=n.hashType,s=void 0===a?"slash":a,l=e.basename?h(c(e.basename)):"",f=S[s],g=f.encodePath,_=f.decodePath;function w(){var e=_(T());return l&&(e=d(e,l)),m(e)}var x=v();function C(e){Object(r.a)(z,e),z.length=t.length,x.notifyListeners(z.location,z.action)}var P=!1,O=null;function I(){var e,t,n=T(),r=g(n);if(n!==r)k(r);else{var o=w(),a=z.location;if(!P&&(t=o,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(O===p(o))return;O=null,function(e){if(P)P=!1,C();else{x.confirmTransitionTo(e,"POP",i,(function(t){t?C({action:"POP",location:e}):function(e){var t=z.location,n=N.lastIndexOf(p(t));-1===n&&(n=0);var r=N.lastIndexOf(p(e));-1===r&&(r=0);var o=n-r;o&&(P=!0,D(o))}(e)}))}}(o)}}var R=T(),A=g(R);R!==A&&k(A);var M=w(),N=[p(M)];function D(e){t.go(e)}var j=0;function L(e){1===(j+=e)&&1===e?window.addEventListener("hashchange",I):0===j&&window.removeEventListener("hashchange",I)}var F=!1;var z={length:t.length,action:"POP",location:M,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=E(window.location.href)),n+"#"+g(l+p(e))},push:function(e,t){var n=m(e,void 0,void 0,z.location);x.confirmTransitionTo(n,"PUSH",i,(function(e){if(e){var t=p(n),r=g(l+t);if(T()!==r){O=t,function(e){window.location.hash=e}(r);var o=N.lastIndexOf(p(z.location)),i=N.slice(0,o+1);i.push(t),N=i,C({action:"PUSH",location:n})}else C()}}))},replace:function(e,t){var n=m(e,void 0,void 0,z.location);x.confirmTransitionTo(n,"REPLACE",i,(function(e){if(e){var t=p(n),r=g(l+t);T()!==r&&(O=t,k(r));var o=N.indexOf(p(z.location));-1!==o&&(N[o]=t),C({action:"REPLACE",location:n})}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return F||(L(1),F=!0),function(){return F&&(F=!1,L(-1)),t()}},listen:function(e){var t=x.appendListener(e);return L(1),function(){L(-1),t()}}};return z}function C(e,t,n){return Math.min(Math.max(e,t),n)}function P(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,o=t.initialEntries,i=void 0===o?["/"]:o,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,u=void 0===l?6:l,c=v();function f(e){Object(r.a)(_,e),_.length=_.entries.length,c.notifyListeners(_.location,_.action)}function d(){return Math.random().toString(36).substr(2,u)}var h=C(s,0,i.length-1),g=i.map((function(e){return m(e,void 0,"string"==typeof e?d():e.key||d())})),y=p;function b(e){var t=C(_.index+e,0,_.entries.length-1),r=_.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var _={length:g.length,action:"POP",location:g[h],index:h,entries:g,createHref:y,push:function(e,t){var r=m(e,t,d(),_.location);c.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=_.index+1,n=_.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=m(e,t,d(),_.location);c.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(_.entries[_.index]=r,f({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=_.index+e;return t>=0&&t<_.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return _}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r="Invariant failed";function o(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return o}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(130);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(32),o=n(117),i=n(39),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,f,d,h,p=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=u;return l=u=void 0,p=t,f=e.apply(r,n)}function b(e){return p=e,d=setTimeout(w,t),m?y(e):f}function _(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-p>=c}function w(){var e=o();if(_(e))return S(e);d=setTimeout(w,function(e){var n=t-(e-h);return g?s(n,c-(e-p)):n}(e))}function S(e){return d=void 0,v&&l?y(e):(l=u=void 0,f)}function E(){var e=o(),n=_(e);if(l=arguments,u=this,h=e,n){if(void 0===d)return b(h);if(g)return clearTimeout(d),d=setTimeout(w,t),y(h)}return void 0===d&&(d=setTimeout(w,t)),f}return t=i(t)||0,r(n)&&(m=!!n.leading,c=(g="maxWait"in n)?a(i(n.maxWait)||0,t):c,v="trailing"in n?!!n.trailing:v),E.cancel=function(){void 0!==d&&clearTimeout(d),p=0,l=h=u=d=void 0},E.flush=function(){return void 0===d?f:S(o())},E}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(81)},function(e,t,n){var r=n(89),o=n(92),i=n(42);e.exports=function(e){return(i(e)?r:o)(e)}},function(e,t,n){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,t){if("string"==typeof e)return l(e);if("number"==typeof e)return s(e,t);return null},e.exports.format=s,e.exports.parse=l;var r=/\B(?=(\d{3})+(?!\d))/g,o=/(?:\.0*|(\.[^0]+)0+)$/,i={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},a=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function s(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),a=t&&t.thousandsSeparator||"",s=t&&t.unitSeparator||"",l=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,u=Boolean(t&&t.fixedDecimals),c=t&&t.unit||"";c&&i[c.toLowerCase()]||(c=n>=i.pb?"PB":n>=i.tb?"TB":n>=i.gb?"GB":n>=i.mb?"MB":n>=i.kb?"KB":"B");var f=(e/i[c.toLowerCase()]).toFixed(l);return u||(f=f.replace(o,"$1")),a&&(f=f.split(".").map((function(e,t){return 0===t?e.replace(r,a):e})).join(".")),f+s+c}function l(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=a.exec(e),r="b";return n?(t=parseFloat(n[1]),r=n[4].toLowerCase()):(t=parseInt(e,10),r="b"),isNaN(t)?null:Math.floor(i[r]*t)}},function(e,t,n){e.exports=function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return o(t[a][1][e]||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var i=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";t.exports={CalcCascades:e("./src/calcCascades"),Fft:e("./src/fft"),FirCoeffs:e("./src/firCoeffs"),FirFilter:e("./src/firFilter"),IirCoeffs:e("./src/iirCoeffs"),IirFilter:e("./src/iirFilter"),TestFilter:e("./src/testFilter")}},{"./src/calcCascades":2,"./src/fft":3,"./src/firCoeffs":4,"./src/firFilter":5,"./src/iirCoeffs":6,"./src/iirFilter":7,"./src/testFilter":8}],2:[function(e,t,n){"use strict";var r=new(e("./iirCoeffs")),o={bessel:{q:[[.57735026919],[.805538281842,.521934581669],[1.02331395383,.611194546878,.510317824749],[1.22566942541,.710852074442,.559609164796,.505991069397],[1.41530886916,.809790964842,.620470155556,.537552151325,.503912727276],[1.59465693507,.905947107025,.684008068137,.579367238641,.525936202016,.502755558204],[1.76552743493,.998998442993,.747625068271,.624777082395,.556680772868,.519027293158,.502045428643],[1.9292718407,1.08906376917,.810410302962,.671382379377,.591144659703,.542678365981,.514570953471,.501578400482],[2.08691792612,1.17637337045,.872034231424,.718163551101,.627261751983,.569890924765,.533371782078,.511523796759,.50125489338],[2.23926560629,1.26117120993,.932397288146,.764647810579,.664052481472,.598921924986,.555480327396,.526848630061,.509345928377,.501021580965],[2.38695091667,1.34368488961,.991497755204,.81060830488,.701011199665,.628878390935,.57943181849,.545207253735,.52208637596,.507736060535,.500847111042],[2.53048919562,1.42411783481,1.04937620183,.85593899901,.737862159044,.659265671705,.604435823473,.565352679646,.537608804383,.51849505465,.506508536474,.500715908905]],f3dB:[[1.27201964951],[1.60335751622,1.43017155999],[1.9047076123,1.68916826762,1.60391912877],[2.18872623053,1.95319575902,1.8320926012,1.77846591177],[2.45062684305,2.20375262593,2.06220731793,1.98055310881,1.94270419166],[2.69298925084,2.43912611431,2.28431825401,2.18496722634,2.12472538477,2.09613322542],[2.91905714471,2.66069088948,2.49663434571,2.38497976939,2.30961462222,2.26265746534,2.24005716132],[3.13149167404,2.87016099416,2.69935018044,2.57862945683,2.49225505119,2.43227707449,2.39427710712,2.37582307687],[3.33237300564,3.06908580184,2.89318259511,2.76551588399,2.67073340527,2.60094950474,2.55161764546,2.52001358804,2.50457164552],[3.52333123464,3.25877569704,3.07894353744,2.94580435024,2.84438325189,2.76691082498,2.70881411245,2.66724655259,2.64040228249,2.62723439989],[3.70566068548,3.44032173223,3.2574059854,3.11986367838,3.01307175388,2.92939234605,2.86428726094,2.81483068055,2.77915465405,2.75596888377,2.74456638588],[3.88040469682,3.61463243697,3.4292654707,3.28812274966,3.17689762788,3.08812364257,3.01720732972,2.96140104561,2.91862858495,2.88729479473,2.8674198668,2.8570800015]],f1dB:[[2.16477559371],[2.70320928596,2.41122332505],[3.25676581436,2.88822569572,2.74246238837],[3.76153580353,3.35675411406,3.14862673032,3.05646412475],[4.22174260104,3.79644757806,3.55260471864,3.41193742197,3.34673435508],[4.64584812552,4.20789257981,3.94082363122,3.76942681446,3.66549975744,3.61617359345],[5.04060395196,4.5944592201,4.3111677248,4.11836351827,3.98822359814,3.90713836715,3.86811234525],[5.41107948467,4.95951159709,4.66435804468,4.45575796102,4.30650679478,4.20286750045,4.13720522991,4.10531748119],[5.76110791853,5.30592898465,5.00182215701,4.7811081045,4.61724509926,4.49660100894,4.41131378918,4.35667671372,4.32997951075],[6.09364309488,5.63609116014,5.32506930789,5.09480346139,4.91939504255,4.78540258409,4.68493280536,4.61302286993,4.56661931366,4.54382759952],[6.41100731543,5.95195558182,5.63550073656,5.39754464742,5.21278891332,5.06801430334,4.95539684456,4.8697869429,4.80814951843,4.76793469612,4.74828032403],[6.71506056052,6.25514029778,5.9343616072,5.69011422355,5.49763642361,5.34401973764,5.22125973611,5.12485045619,5.05037962112,4.99699982231,4.96155789635,4.94441828777]]}},i={bessel:{as:[[1.3617],[1.3397,.7743],[1.2217,.9686,.5131],[1.1112,.9754,.7202,.3728],[1.0215,.9393,.7815,.5604,.2883]],bs:[[.618],[.4889,.389],[.3887,.3505,.2756],[.3162,.2979,.2621,.2087],[.265,.2549,.2351,.2059,.1665]]},butterworth:{as:[[1.4142],[1.8478,.7654],[1.9319,1.4142,.5176],[1.9616,1.6629,1.1111,.3902],[1.9754,1.782,1.4142,.908,.3129]],bs:[[1],[1,1],[1,1,1],[1,1,1,1],[1,1,1,1,1]]},tschebyscheff05:{as:[[1.3614],[2.6282,.3648],[3.8645,.7528,.1589],[5.1117,1.0639,.3439,.0885],[6.3648,1.3582,.4822,.1994,.0563]],bs:[[1.3827],[3.4341,1.1509],[6.9797,1.8573,1.0711],[11.9607,2.9365,1.4206,1.0407],[18.3695,4.3453,1.944,1.252,1.0263]]},tschebyscheff1:{as:[[1.3022],[2.5904,.3039],[3.8437,.6292,.1296],[5.1019,.8916,.2806,.0717],[6.3634,1.1399,.3939,.1616,.0455]],bs:[[1.5515],[4.1301,1.1697],[8.5529,1.9124,1.0766],[14.7608,3.0426,1.4334,1.0432],[22.7468,4.5167,1.9665,1.2569,1.0277]]},tschebyscheff2:{as:[[1.1813],[2.4025,.2374],[3.588,.4925,.0995],[4.7743,.6991,.2153,.0547],[5.9618,.8947,.3023,.1233,.0347]],bs:[[1.7775],[4.9862,1.1896],[10.4648,1.9622,1.0826],[18.151,3.1353,1.4449,1.0461],[28.0376,4.6644,1.9858,1.2614,1.0294]]},tschebyscheff3:{as:[[1.065],[2.1853,.1964],[3.2721,.4077,.0815],[4.3583,.5791,.1765,.0448],[5.4449,.7414,.2479,.1008,.0283]],bs:[[1.9305],[5.5339,1.2009],[11.6773,1.9873,1.0861],[20.2948,3.1808,1.4507,1.0478],[31.3788,4.7363,1.9952,1.2638,1.0304]]},allpass:{as:[[1.6278],[2.337,1.3506],[2.6117,2.0706,1.0967],[2.7541,2.4174,1.785,.9239],[2.8406,2.612,2.1733,1.5583,.8018]],bs:[[.8832],[1.4878,1.1837],[1.7763,1.6015,1.2596],[1.942,1.83,1.6101,1.2822],[2.049,1.9714,1.8184,1.5923,1.2877]]}},a=function(e){return function(t){return function(e,t){var n=[],a=0;if("fromPZ"!==t)for(e.order>12&&(e.order=12),a=0;a<e.order;a++){var s,l,u;"matchedZ"===e.transform?n.push(r.lowpassMZ({Fs:e.Fs,Fc:e.Fc,preGain:e.preGain,as:i[e.characteristic].as[e.order-1][a],bs:i[e.characteristic].bs[e.order-1][a]})):("butterworth"===e.characteristic?(s=.5/Math.sin(Math.PI/(2*e.order)*(a+.5)),l=1):(s=o[e.characteristic].q[e.order-1][a],l=e.oneDb?o[e.characteristic].f1dB[e.order-1][a]:o[e.characteristic].f3dB[e.order-1][a]),u="highpass"===t?e.Fc/l:e.Fc*l,"bandpass"!==t&&"bandstop"!==t||"bessel"===e.characteristic&&(u=Math.sqrt(e.order)*u/e.order),n.push(r[t]({Fs:e.Fs,Fc:u,Q:s,BW:e.BW||0,gain:e.gain||0,preGain:e.preGain||!1})))}else for(a=0;a<e.length;a++)n.push(r[t](e[a]));return n}(t,e)}},s={};t.exports=function(){var e=[];for(var t in r)s[t]=a(t),e.push(t);return s.available=function(){return e},s}},{"./iirCoeffs":6}],3:[function(e,t,n){"use strict";t.exports=function(e){if(!function(e){return!(e&e-1)}(e))return!1;var t={};t.length=e,t.buffer=new Float64Array(e),t.re=new Float64Array(e),t.im=new Float64Array(e),t.reI=new Float64Array(e),t.imI=new Float64Array(e),t.twiddle=new Int32Array(e),t.sinTable=new Float64Array(e-1),t.cosTable=new Float64Array(e-1);var n=2*Math.PI,r=Math.floor(Math.log(e)/Math.LN2);for(i=t.sinTable.length;i--;)t.sinTable[i]=Math.sin(n*(i/e)),t.cosTable[i]=Math.cos(n*(i/e));for(var o=e>>1,i=0,a=0;t.twiddle[i]=a,!(++i>=e);){for(r=o;r<=a;)a-=r,r>>=1;a+=r}var s=Math.PI,l=2*Math.PI,u=Math.abs,c=Math.pow,f=Math.cos,d=Math.sin,h=Math.E,p={rectangular:{calc:function(){return 1},values:[],correction:1},none:{calc:function(){return 1},values:[],correction:1},hanning:{calc:function(e,t){return.5*(1-f(l*e/(t-1)))},values:[],correction:2},hamming:{calc:function(e,t){return.54-.46*f(l*e/(t-1))},values:[],correction:1.8518999946875638},tukery:{calc:function(e,t,n){return e<n*(t-1)/2?.5*(1+f(s*(2*e/(n*(t-1))-1))):(t-1)*(1-n/2)<e?.5*(1+f(s*(2*e/(n*(t-1))-2/n+1))):1},values:[],correction:4/3},cosine:{calc:function(e,t){return d(s*e/(t-1))},values:[],correction:1.570844266360796},lanczos:{calc:function(e,t){return function(e){return d(s*e)/(s*e)}(2*e/(t-1)-1)},values:[],correction:1.6964337576195783},triangular:{calc:function(e,t){return 2/(t+1)*((t+1)/2-u(e-(t-1)/2))},values:[],correction:2},bartlett:{calc:function(e,t){return 2/(t-1)*((t-1)/2-u(e-(t-1)/2))},values:[],correction:2},gaussian:{calc:function(e,t,n){return c(h,-.5*c((e-(t-1)/2)/(n*(t-1)/2),2))},values:[],correction:5/3},bartlettHanning:{calc:function(e,t){var n=l*e/(t-1);return.62-.48*u(e/(t-1)-.5)-.38*f(n)},values:[],correction:2},blackman:{calc:function(e,t,n){var r=n/2,o=l*e/(t-1);return(1-n)/2-.5*f(o)+r*f(2*o)},values:[],correction:4/3},blackmanHarris:{calc:function(e,t){var n=l*e/(t-1);return.35875-.48829*f(n)+.14128*f(2*n)-.01168*f(3*n)},values:[],correction:1.5594508635},nuttall3:{calc:function(e,t){var n=l*e/(t-1);return.375-.5*f(n)+.125*f(2*n)},values:[],correction:1.56},nuttall3a:{calc:function(e,t){var n=l*e/(t-1);return.40897-.5*f(n)+.09103*f(2*n)},values:[],correction:1.692},nuttall3b:{calc:function(e,t){var n=l*e/(t-1);return.4243801-.4973406*f(n)+.078793*f(2*n)},values:[],correction:1.7372527},nuttall4:{calc:function(e,t){var n=l*e/(t-1);return.3125-.46875*f(n)+.1875*f(2*n)-.03125*f(3*n)},values:[],correction:1.454543},nuttall4a:{calc:function(e,t){var n=l*e/(t-1);return.338946-.481973*f(n)+.161054*f(2*n)-.018027*f(3*n)},values:[],correction:1.512732763},nuttall4b:{calc:function(e,t){var n=l*e/(t-1);return.355768-.481973*f(n)+.144232*f(2*n)-.012604*f(3*n)},values:[],correction:1.55223262},nuttall4c:{calc:function(e,t){var n=l*e/(t-1);return.3635819-.4891775*f(n)+.1365995*f(2*n)-.0106411*f(3*n)},values:[],correction:1.57129067},sft3f:{calc:function(e,t){var n=l*e/(t-1);return.26526-.5*f(n)+.23474*f(2*n)},values:[],correction:1.3610238},sft4f:{calc:function(e,t){var n=l*e/(t-1);return.21706-.42103*f(n)+.28294*f(2*n)-.07897*f(3*n)},values:[],correction:1.2773573},sft5f:{calc:function(e,t){var n=l*e/(t-1);return.1881-.36923*f(n)+.28702*f(2*n)-.13077*f(3*n)+.02488*f(4*n)},values:[],correction:1.23167769},sft3m:{calc:function(e,t){var n=l*e/(t-1);return.28235-.52105*f(n)+.19659*f(2*n)},values:[],correction:1.39343451},sft4m:{calc:function(e,t){var n=l*e/(t-1);return.241906-.460841*f(n)+.2552381*f(2*n)-.041872*f(3*n)},values:[],correction:1.3190596},sft5m:{calc:function(e,t){var n=l*e/(t-1);return.209671-.407331*f(n)+.281225*f(2*n)-.092669*f(3*n)+.0091036*f(4*n)},values:[],correction:1.26529456464},nift:{calc:function(e,t){var n=l*e/(t-1);return.2810639-.5208972*f(n)+.1980399*f(2*n)},values:[],correction:1.39094182},hpft:{calc:function(e,t){var n=l*e/(t-1);return(1-1.912510941*f(n)+1.079173272*f(2*n)-.1832630879*f(3*n))/t},values:[],correction:1},srft:{calc:function(e,t){var n=l*e/(t-1);return(1-1.93*f(n)+1.29*f(2*n)-.388*f(3*n)+.028*f(4*n))/t},values:[],correction:1},hft70:{calc:function(e,t){var n=l*e/(t-1);return(1-1.90796*f(n)+1.07349*f(2*n)-.18199*f(3*n))/t},values:[],correction:1},hft95:{calc:function(e,t){var n=l*e/(t-1);return(1-1.9383379*f(n)+1.3045202*f(2*n)-.402827*f(3*n)+.0350665*f(4*n))/t},values:[],correction:1},hft90d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.942604*f(n)+1.340318*f(2*n)-.440811*f(3*n)+.043097*f(4*n))/t},values:[],correction:1},hft116d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.9575375*f(n)+1.4780705*f(2*n)-.6367431*f(3*n)+.1228389*f(4*n)-.0066288*f(5*n))/t},values:[],correction:1},hft144d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.96760033*f(n)+1.57983607*f(2*n)-.81123644*f(3*n)+.22583558*f(4*n)-.02773848*f(5*n)+9036e-7*f(6*n))/t},values:[],correction:1},hft196d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.97441842*f(n)+1.65409888*f(2*n)-.95788186*f(3*n)+.3367342*f(4*n)-.06364621*f(5*n)+.00521942*f(6*n)-10599e-8*f(7*n))/t},values:[],correction:1},hft223d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.98298997309*f(n)+1.75556083063*f(2*n)-1.19037717712*f(3*n)+.56155440797*f(4*n)-.17296769663*f(5*n)+.03233247087*f(6*n)-.00324954578*f(7*n)+.0001380104*f(8*n)-132725e-11*f(9*n))/t},values:[],correction:1},hft248d:{calc:function(e,t){var n=l*e/(t-1);return(1-1.985844164102*f(n)+1.791176438506*f(2*n)-1.282075284005*f(3*n)+.667777530266*f(4*n)-.240160796576*f(5*n)+.056656381764*f(6*n)-.008134974479*f(7*n)+.00062454465*f(8*n)-19808998e-12*f(9*n)+1.32974e-7*f(10*n))/t},values:[],correction:1}},m=function(e){return p[e.name].values.length!==e.N?(0===e.n&&(p[e.name].values.length=0),p[e.name].values[e.n]=p[e.name].correction*p[e.name].calc(e.n,e.N,e.a),p[e.name].values[e.n]):p[e.name].values};return{forward:function(e,n){var r,o,i,a,s,l,u,c,f,d,h,p,g={name:n,N:i=t.buffer.length,a:.5,n:0},v=m(g);if("number"==typeof v)for(r=0;r<i;++r)g.n=r,t.buffer[r]=e[r]*m(g);else for(r=0;r<i;++r)t.buffer[r]=e[r]*v[r];for(r=i;r--;)t.re[r]=t.buffer[t.twiddle[r]],t.im[r]=0;for(a=1;a<i;a=s)for(l=0,u=i/(s=a+a),o=0;o<a;o++){for(c=t.cosTable[l],f=t.sinTable[l],r=o;r<i;r+=s)d=r+a,h=f*t.im[d]+c*t.re[d],p=c*t.im[d]-f*t.re[d],t.re[d]=t.re[r]-h,t.re[r]+=h,t.im[d]=t.im[r]-p,t.im[r]+=p;l+=u}return{re:t.re,im:t.im}},inverse:function(e,n){var r,o,i,a,s,l,u,c,f,d,h,p;for(r=i=e.length;r--;)o=t.twiddle[r],t.reI[r]=e[o],t.imI[r]=-n[o];for(a=1;a<i;a=s)for(l=0,u=i/(s=a+a),o=0;o<a;o++){for(c=t.cosTable[l],f=t.sinTable[l],r=o;r<i;r+=s)d=r+a,h=f*t.imI[d]+c*t.reI[d],p=c*t.imI[d]-f*t.reI[d],t.reI[d]=t.reI[r]-h,t.reI[r]+=h,t.imI[d]=t.imI[r]-p,t.imI[r]+=p;l+=u}for(r=i;r--;)t.buffer[r]=t.reI[r]/i;return t.buffer},magnitude:function(e){for(var t=[],n=0;n<e.re.length;n++)t.push(Math.sqrt(e.re[n]*e.re[n]+e.im[n]*e.im[n]));return t},magToDb:function(e){for(var t=[],n=0;n<e.length;n++)t.push(20*Math.log(e[n])*Math.LOG10E);return t},phase:function(e){for(var t=[],n=0;n<e.re.length;n++)t.push(Math.atan2(e.im[n],e.re[n]));return t},windows:function(){var e=[];for(var t in p)e.push(t);return e}}}},{}],4:[function(e,t,n){"use strict";t.exports=function(){var e=function(e){var t=e.Fs,n=e.Fc,r=e.order,o=2*Math.PI*n/t,i=0,a=0,s=[];for(i=0;i<=r;i++)i-r/2==0?s[i]=o:(s[i]=Math.sin(o*(i-r/2))/(i-r/2),s[i]*=.54-.46*Math.cos(2*Math.PI*i/r)),a+=s[i];for(i=0;i<=r;i++)s[i]/=a;return s},t=function(e){var t;for(t=0;t<e.length;t++)e[t]=-e[t];return e[(e.length-1)/2]++,e},n=function(n){for(var r=e({order:n.order,Fs:n.Fs,Fc:n.F2}),o=t(e({order:n.order,Fs:n.Fs,Fc:n.F1})),i=[],a=0;a<r.length;a++)i.push(r[a]+o[a]);return i};return{lowpass:function(t){return e(t)},highpass:function(n){return t(e(n))},bandstop:function(e){return n(e)},bandpass:function(e){return t(n(e))},kbFilter:function(e){return function(e){var t=e.Fs,n=e.Fa,r=e.Fb,o=e.order||51,i=e.Att||100,a=function(e){for(var t=0,n=1,r=1;n>1e-6*r;)r+=n*=e*e/((t+=2)*t);return r};o/2-Math.floor(o/2)==0&&o++;var s,l,u=(o-1)/2,c=[],f=0,d=[];for(c[0]=2*(r-n)/t,f=1;f<=u;f++)c[f]=(Math.sin(2*f*Math.PI*r/t)-Math.sin(2*f*Math.PI*n/t))/(f*Math.PI);for(s=a(l=i<21?0:i>50?.1102*(i-8.7):.5842*Math.pow(i-21,.4)+.07886*(i-21)),f=0;f<=u;f++)d[u+f]=c[f]*a(l*Math.sqrt(1-f*f/(u*u)))/s;for(f=0;f<u;f++)d[f]=d[o-1-f];return d}(e)},available:function(){return["lowpass","highpass","bandstop","bandpass","kbFilter"]}}}},{}],5:[function(e,t,n){"use strict";var r=e("./utils"),o=r.runMultiFilter,i=r.runMultiFilterReverse,a=r.complex,s=r.evaluatePhase;t.exports=function(e){var t=e,n=[],r=0;for(r=0;r<t.length;r++)n[r]={re:t[r],im:0};var l=function(e){var t,n=[];for(t=0;t<e;t++)n.push(0);return{buf:n,pointer:0}},u=l(t.length-1),c=function(e,n){n.buf[n.pointer]=e;var o=0;for(r=0;r<n.buf.length;r++)o+=t[r]*n.buf[(n.pointer+r)%n.buf.length];return n.pointer=(n.pointer+1)%n.buf.length,o},f=function(e){for(var r=e.Fs,o=e.Fr,i=-Math.PI*(o/r)*2,s={re:0,im:0},l=0;l<t.length-1;l++)s=a.add(s,a.mul(n[l],{re:Math.cos(i*l),im:Math.sin(i*l)}));var u=a.magnitude(s);return{magnitude:u,phase:a.phase(s),dBmagnitude:20*Math.log(u)*Math.LOG10E}};return{responsePoint:function(e){return f(e)},response:function(e){var t=[],n=0,r=2*(e=e||100);for(n=0;n<e;n++)t[n]=f({Fs:r,Fr:n});return s(t),t},simulate:function(e){return function(e){var n=l(t.length-1);return o(e,n,c)}(e)},singleStep:function(e){return c(e,u)},multiStep:function(e,t){return o(e,u,c,t)},filtfilt:function(e,t){return i(o(e,u,c,t),u,c,!0)},reinit:function(){u=l(t.length-1)}}}},{"./utils":9}],6:[function(e,t,n){"use strict";t.exports=function(){var e=function(e,t){var n=e.Q,r=e.Fc,o=e.Fs,i={},a=2*Math.PI*r/o;return e.BW?i.alpha=Math.sin(a)*Math.sinh(Math.log(2)/2*e.BW*a/Math.sin(a)):i.alpha=Math.sin(a)/(2*n),i.cw=Math.cos(a),i.a0=1+i.alpha,t.a0=i.a0,t.a.push(-2*i.cw/i.a0),t.k=1,t.a.push((1-i.alpha)/i.a0),i},t=function(e){var t=e.Q,n=e.Fc,r=e.Fs,o={},i=2*Math.PI*n/r;return o.alpha=Math.sin(i)/(2*t),o.cw=Math.cos(i),o.A=Math.pow(10,e.gain/40),o},n=function(){var e={z:[0,0],a:[],b:[]};return e};return{fromPZ:function(e){var t=n();return t.a0=1,t.b.push(1),t.b.push(-e.z0.re-e.z1.re),t.b.push(e.z0.re*e.z1.re-e.z0.im*e.z1.im),t.a.push(-e.p0.re-e.p1.re),t.a.push(e.p0.re*e.p1.re-e.p0.im*e.p1.im),"lowpass"===e.type?t.k=(1+t.a[0]+t.a[1])/(1+t.b[1]+t.b[2]):t.k=(1-t.a[0]+t.a[1])/(1-t.b[1]+t.b[2]),t},lowpassMZ:function(e){var t=n();t.a0=1;var r=e.as,o=e.bs,i=2*Math.PI*e.Fc/e.Fs,a=-r/(2*o);return t.a.push(2*-Math.pow(Math.E,a*i)*Math.cos(-i*Math.sqrt(Math.abs(Math.pow(r,2)/(4*Math.pow(o,2))-1/o)))),t.a.push(Math.pow(Math.E,2*a*i)),e.preGain?(t.b.push(1),t.k=t.a0+t.a[0]+t.a[1]):(t.b.push(t.a0+t.a[0]+t.a[1]),t.k=1),t.b.push(0),t.b.push(0),t},lowpassBT:function(e){var t=n();return e.Q=1,t.wp=Math.tan(2*Math.PI*e.Fc/(2*e.Fs)),t.wp2=t.wp*t.wp,e.BW&&delete e.BW,t.k=1,t.a0=3*t.wp+3*t.wp2+1,t.b.push(3*t.wp2*e.Q/t.a0),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t.a.push((6*t.wp2-2)/t.a0),t.a.push((3*t.wp2-3*t.wp+1)/t.a0),t},highpassBT:function(e){var t=n();return e.Q=1,t.wp=Math.tan(2*Math.PI*e.Fc/(2*e.Fs)),t.wp2=t.wp*t.wp,e.BW&&delete e.BW,t.k=1,t.a0=t.wp+t.wp2+3,t.b.push(3*e.Q/t.a0),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t.a.push((2*t.wp2-6)/t.a0),t.a.push((t.wp2-t.wp+3)/t.a0),t},lowpass:function(t){var r=n();t.BW&&delete t.BW;var o=e(t,r);return t.preGain?(r.k=.5*(1-o.cw),r.b.push(1/o.a0)):(r.k=1,r.b.push((1-o.cw)/(2*o.a0))),r.b.push(2*r.b[0]),r.b.push(r.b[0]),r},highpass:function(t){var r=n();t.BW&&delete t.BW;var o=e(t,r);return t.preGain?(r.k=.5*(1+o.cw),r.b.push(1/o.a0)):(r.k=1,r.b.push((1+o.cw)/(2*o.a0))),r.b.push(-2*r.b[0]),r.b.push(r.b[0]),r},allpass:function(t){var r=n();t.BW&&delete t.BW;var o=e(t,r);return r.k=1,r.b.push((1-o.alpha)/o.a0),r.b.push(-2*o.cw/o.a0),r.b.push((1+o.alpha)/o.a0),r},bandpassQ:function(t){var r=n(),o=e(t,r);return r.k=1,r.b.push(o.alpha*t.Q/o.a0),r.b.push(0),r.b.push(-r.b[0]),r},bandpass:function(t){var r=n(),o=e(t,r);return r.k=1,r.b.push(o.alpha/o.a0),r.b.push(0),r.b.push(-r.b[0]),r},bandstop:function(t){var r=n(),o=e(t,r);return r.k=1,r.b.push(1/o.a0),r.b.push(-2*o.cw/o.a0),r.b.push(r.b[0]),r},peak:function(e){var r=n(),o=t(e);return r.k=1,r.a0=1+o.alpha/o.A,r.a.push(-2*o.cw/r.a0),r.a.push((1-o.alpha/o.A)/r.a0),r.b.push((1+o.alpha*o.A)/r.a0),r.b.push(-2*o.cw/r.a0),r.b.push((1-o.alpha*o.A)/r.a0),r},lowshelf:function(e){var r=n();e.BW&&delete e.BW;var o=t(e);r.k=1;var i=2*Math.sqrt(o.A)*o.alpha;return r.a0=o.A+1+(o.A-1)*o.cw+i,r.a.push(-2*(o.A-1+(o.A+1)*o.cw)/r.a0),r.a.push((o.A+1+(o.A-1)*o.cw-i)/r.a0),r.b.push(o.A*(o.A+1-(o.A-1)*o.cw+i)/r.a0),r.b.push(2*o.A*(o.A-1-(o.A+1)*o.cw)/r.a0),r.b.push(o.A*(o.A+1-(o.A-1)*o.cw-i)/r.a0),r},highshelf:function(e){var r=n();e.BW&&delete e.BW;var o=t(e);r.k=1;var i=2*Math.sqrt(o.A)*o.alpha;return r.a0=o.A+1-(o.A-1)*o.cw+i,r.a.push(2*(o.A-1-(o.A+1)*o.cw)/r.a0),r.a.push((o.A+1-(o.A-1)*o.cw-i)/r.a0),r.b.push(o.A*(o.A+1+(o.A-1)*o.cw+i)/r.a0),r.b.push(-2*o.A*(o.A-1+(o.A+1)*o.cw)/r.a0),r.b.push(o.A*(o.A+1+(o.A-1)*o.cw-i)/r.a0),r},aweighting:function(e){var t=n();t.k=1;var r=2*Math.PI*e.Fc/e.Fs,o=2*Math.tan(r/2),i=e.Q,a=Math.pow(o,2);return t.a0=4*i+a*i+2*o,t.a.push(2*a*i-8*i),t.a.push(4*i+a*i-2*o),t.b.push(a*i),t.b.push(2*a*i),t.b.push(a*i),t}}}},{}],7:[function(e,t,n){"use strict";var r=e("./utils"),o=r.complex,i=r.runMultiFilter,a=r.runMultiFilterReverse,s=r.evaluatePhase;t.exports=function(e){for(var t=e,n={re:1,im:0},r=[],l=[],u=0;u<t.length;u++){r[u]={};var c=t[u];r[u].b0={re:c.b[0],im:0},r[u].b1={re:c.b[1],im:0},r[u].b2={re:c.b[2],im:0},r[u].a1={re:c.a[0],im:0},r[u].a2={re:c.a[1],im:0},r[u].k={re:c.k,im:0},r[u].z=[0,0],l[u]={},l[u].b1=c.b[1]/c.b[0],l[u].b2=c.b[2]/c.b[0],l[u].a1=c.a[0],l[u].a2=c.a[1]}var f=function(e,t){var n=t*e.k.re-e.a1.re*e.z[0]-e.a2.re*e.z[1],r=e.b0.re*n+e.b1.re*e.z[0]+e.b2.re*e.z[1];return e.z[1]=e.z[0],e.z[0]=n,r},d=function(e,t){var n=e,r=0;for(r=0;r<t.length;r++)n=f(t[r],n);return n},h=function(e,t){var r=e.Fs,i=e.Fr,a=-Math.PI*(i/r)*2,s={re:Math.cos(a),im:Math.sin(a)},l=o.mul(t.k,o.add(t.b0,o.mul(s,o.add(t.b1,o.mul(t.b2,s))))),u=o.add(n,o.mul(s,o.add(t.a1,o.mul(t.a2,s)))),c=o.div(l,u);return{magnitude:o.magnitude(c),phase:o.phase(c)}},p=function(e){var t=0,n={magnitude:1,phase:0};for(t=0;t<r.length;t++){var o=h(e,r[t]);n.magnitude*=o.magnitude,n.phase+=o.phase}return n.dBmagnitude=20*Math.log(n.magnitude)*Math.LOG10E,n},m=function(){for(var e=[],n=0;n<t.length;n++)e[n]={b0:{re:c.b[0],im:0},b1:{re:c.b[1],im:0},b2:{re:c.b[2],im:0},a1:{re:c.a[0],im:0},a2:{re:c.a[1],im:0},k:{re:c.k,im:0},z:[0,0]};return e},g=function(e){var t=m();return i(e,t,d)},v=function(e,t){var n={},r=[],o=0;for(o=0;o<t;o++)r.push(e(o));n.out=g(r);var i=!1,a=!1;for(o=0;o<t-1;o++)if(n.out[o]>n.out[o+1]&&!i&&(i=!0,n.max={sample:o,value:n.out[o]}),i&&!a&&n.out[o]<n.out[o+1]){a=!0,n.min={sample:o,value:n.out[o]};break}return n},y=function(e,t){var n=Math.pow(e/2,2)-t;return n<0?[{re:-e/2,im:Math.sqrt(Math.abs(n))},{re:-e/2,im:-Math.sqrt(Math.abs(n))}]:[{re:-e/2+Math.sqrt(n),im:0},{re:-e/2-Math.sqrt(n),im:0}]};return{singleStep:function(e){return d(e,r)},multiStep:function(e,t){return i(e,r,d,t)},filtfilt:function(e,t){return a(i(e,r,d,t),r,d,!0)},simulate:function(e){return g(e)},stepResponse:function(e){return v((function(){return 1}),e)},impulseResponse:function(e){return v((function(e){return 0===e?1:0}),e)},responsePoint:function(e){return p(e)},response:function(e){var t=[],n=0,r=2*(e=e||100);for(n=0;n<e;n++)t[n]=p({Fs:r,Fr:n});return s(t),t},polesZeros:function(){return function(){for(var e=[],t=0;t<l.length;t++)e[t]={},e[t].z=y(l[t].b1,l[t].b2),e[t].p=y(l[t].a1,l[t].a2);return e}()},reinit:function(){for(u=0;u<r.length;u++)r[u].z=[0,0]}}}},{"./utils":9}],8:[function(e,t,n){"use strict";t.exports=function(e){var t,n=e,r=[],o=function(e){for(t=0;t<e.steps;t++)r.push(n.singleStep((Math.random()-.5)*e.pp+e.offset))},i=function(e){var o=e.offset+e.pp,i=e.offset-e.pp;for(t=0;t<e.steps;t++)t%200<100?r.push(n.singleStep(o)):r.push(n.singleStep(i))},a=function(e){var o=e.offset+e.pp,i=e.offset-e.pp;for(t=0;t<e.steps;t++)t%100==0?r.push(n.singleStep(o)):r.push(n.singleStep(i))},s=function(e){var o=e.offset+e.pp,i=e.offset-e.pp,a=i,s=(o-i)/100;for(t=0;t<e.steps;t++)t%200<100?a+=s:a-=s,r.push(n.singleStep(a))};return{randomStability:function(e){for(n.reinit(),r.length=0,o(e),t=e.setup;t<r.length;t++)if(r[t]>e.maxStable||r[t]<e.minStable)return r[t];return!0},directedRandomStability:function(e){var l;for(n.reinit(),r.length=0,l=0;l<e.tests;l++){var u=Math.random();u<.25?o(e):u<.5?i(e):u<.75?a(e):s(e)}for(o(e),t=e.setup;t<r.length;t++)if(r[t]>e.maxStable||r[t]<e.minStable)return r[t];return!0},evaluateBehavior:function(){}}}},{}],9:[function(e,t,n){"use strict";n.evaluatePhase=function(e){var t=0,n=0,r=Math.PI,o=2*r,i=[];for(n=0;n<e.length;n++)i.push(e[n].phase);for(e[0].unwrappedPhase=e[0].phase,e[0].groupDelay=0,n=1;n<i.length;n++){var a=i[n]-i[n-1];if(a>r)for(t=n;t<i.length;t++)i[t]-=o;else if(a<-r)for(t=n;t<i.length;t++)i[t]+=o;i[n]<0?e[n].unwrappedPhase=-i[n]:e[n].unwrappedPhase=i[n],e[n].phaseDelay=e[n].unwrappedPhase/(n/e.length),e[n].groupDelay=(e[n].unwrappedPhase-e[n-1].unwrappedPhase)/(r/e.length),e[n].groupDelay<0&&(e[n].groupDelay=-e[n].groupDelay)}0!==e[0].magnitude?(e[0].phaseDelay=e[1].phaseDelay,e[0].groupDelay=e[1].groupDelay):(e[0].phaseDelay=e[2].phaseDelay,e[0].groupDelay=e[2].groupDelay,e[1].phaseDelay=e[2].phaseDelay,e[1].groupDelay=e[2].groupDelay)},n.runMultiFilter=function(e,t,n,r){var o,i=[];for(r&&(i=e),o=0;o<e.length;o++)i[o]=n(e[o],t);return i},n.runMultiFilterReverse=function(e,t,n,r){var o,i=[];for(r&&(i=e),o=e.length-1;o>=0;o--)i[o]=n(e[o],t);return i};var r=function(e,t){for(var n=!0;n;){var r=e,o=t;if(n=!1,o||(o=1),r!==Math.floor(r)||o!==Math.floor(o))return 1;if(0===r||1===r)return o;e=r-1,t=o*r,n=!0}};n.besselFactors=function(e){for(var t=[],n=0;n<e+1;n++){var o=r(2*e-n),i=Math.pow(2,e-n)*r(n)*r(e-n);t.unshift(Math.floor(o/i))}return t};var o=function(e,t){for(var n=0,r=0;r<t;r++){var o=1/Math.pow(2,r+1);e>o&&(e-=o,n+=o)}return n},i=function(e,t){return e&Math.pow(2,t)};n.fixedPoint={convert:function(e,t,n){return function(e,t,n){var r=Math.abs(e),a=e-r;return{number:i(r,t).toString(),fraction:o(a,n).toString(),numberBits:t,fractionBits:n}}(e,t,n)},add:function(e,t){},sub:function(e,t){},mul:function(e,t){},div:function(e,t){}},n.complex={div:function(e,t){var n=e.re,r=e.im,o=t.re,i=t.im,a=o*o+i*i;return{re:(n*o+r*i)/a,im:(r*o-n*i)/a}},mul:function(e,t){var n=e.re,r=e.im,o=t.re,i=t.im;return{re:n*o-r*i,im:(n+r)*(o+i)-n*o-r*i}},add:function(e,t){return{re:e.re+t.re,im:e.im+t.im}},sub:function(e,t){return{re:e.re-t.re,im:e.im-t.im}},phase:function(e){return Math.atan2(e.im,e.re)},magnitude:function(e){return Math.sqrt(e.re*e.re+e.im*e.im)}}},{}]},{},[1])(1)},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(40),o=n(87),i=n(88),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}v(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,o,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var o,i,a,s;if(u(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):g(o,o.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var u=l.length,c=g(l,u);for(n=0;n<u;++n)i(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r=n(118),o=n(119),i=n(15),a=n(120);function s(e,t){var n,i,a,s;if(e){if(25>(e=function(e){if(e){if(e instanceof ArrayBuffer)return e;if(e instanceof Uint8Array)return new Uint8Array(e).buffer}throw new Error("Unsupported buffer type, need ArrayBuffer or Uint8Array")}(e)).byteLength)throw new Error("A buffer of a valid MIDI file must have, at least, a size of 25bytes.");for(this.header=new r(e,t),this.tracks=[],i=r.HEADER_LENGTH,a=0,s=this.header.getTracksCount();a<s;a++){if(t&&i>=e.byteLength-1)throw new Error("Couldn't find datas corresponding to the track #"+a+".");n=new o(e,i,t),this.tracks.push(n),i+=n.getTrackLength()+8}if(t&&i!==e.byteLength)throw new Error("It seems that the buffer contains too much datas.")}else this.header=new r,this.tracks=[new o]}s.prototype.getEvents=function(e,t){var n,r,o,a,s,l,u=0,c=[],f=this.header.getFormat(),d=this.header.getTickResolution();if(1!==f||1===this.tracks.length)for(o=0,a=this.tracks.length;o<a;o++)for(u=2===f&&u?u:0,r=(n=i.createParser(this.tracks[o].getTrackContent(),0,!1)).next();r;)u+=r.delta?r.delta*d/1e3:0,r.type===i.EVENT_META&&r.subtype===i.EVENT_META_SET_TEMPO&&(d=this.header.getTickResolution(r.tempo)),e&&r.type!==e||t&&(!r.subtype||r.subtype!==t)||(r.playTime=u,c.push(r)),r=n.next();else{for(s=[],l=-1,o=0,a=this.tracks.length;o<a;o++)s[o]={},s[o].parser=i.createParser(this.tracks[o].getTrackContent(),0,!1),s[o].curEvent=s[o].parser.next();do{for(l=-1,o=0,a=s.length;o<a;o++)s[o].curEvent&&(-1===l||s[o].curEvent.delta<s[l].curEvent.delta)&&(l=o);if(-1!==l){for(o=0,a=s.length;o<a;o++)o!==l&&s[o].curEvent&&(s[o].curEvent.delta-=s[l].curEvent.delta);u+=(r=s[l].curEvent).delta?r.delta*d/1e3:0,r.type===i.EVENT_META&&r.subtype===i.EVENT_META_SET_TEMPO&&(d=this.header.getTickResolution(r.tempo)),e&&r.type!==e||t&&(!r.subtype||r.subtype!==t)||(r.playTime=u,r.track=l,c.push(r)),s[l].curEvent=s[l].parser.next()}}while(-1!==l)}return c},s.prototype.getMidiEvents=function(){return this.getEvents(i.EVENT_MIDI)},s.prototype.getLyrics=function(){var e,t,n,r=this.getEvents(i.EVENT_META),o=[],s=[];for(t=0,n=r.length;t<n;t++)(e=r[t]).subtype===i.EVENT_META_LYRICS?s.push(e):e.subtype===i.EVENT_META_TEXT&&("@"===String.fromCharCode(e.data[0])?"T"===String.fromCharCode(e.data[1])||"I"===String.fromCharCode(e.data[1])||String.fromCharCode(e.data[1]):0===String.fromCharCode.apply(String,e.data).indexOf("words")?o.length=0:0!==e.playTime&&o.push(e));2<s.length?o=s:o.length||(o=[]);try{o.forEach((function(e){e.text=a.getStringFromBytes(e.data,0,e.length,!0)}))}catch(e){o.forEach((function(e){e.text=e.data.map((function(e){return String.fromCharCode(e)})).join("")}))}return o},s.prototype.getTrackEvents=function(e){var t,n,r=[];if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");t=(n=i.createParser(this.tracks[e].getTrackContent(),0,!1)).next();do{r.push(t),t=n.next()}while(t);return r},s.prototype.setTrackEvents=function(e,t){var n,r;if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");if(!t||!t.length)throw Error("A track must contain at least one event, none given.");n=i.getRequiredBufferLength(t),r=new Uint8Array(n),i.writeToTrack(t,r),this.tracks[e].setTrackContent(r)},s.prototype.deleteTrack=function(e){if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");this.tracks.splice(e,1),this.header.setTracksCount(this.tracks.length)},s.prototype.addTrack=function(e){var t;if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");t=new o,e===this.tracks.length?this.tracks.push(t):this.tracks.splice(e,0,t),this.header.setTracksCount(this.tracks.length)},s.prototype.getContent=function(){var e,t,n,o,i,a,s,l,u;for(e=r.HEADER_LENGTH,o=0,i=this.tracks.length;o<i;o++)e+=this.tracks[o].getTrackLength()+8;for(t=new Uint8Array(e),n=new Uint8Array(this.header.datas.buffer,this.header.datas.byteOffset,r.HEADER_LENGTH),o=0,i=r.HEADER_LENGTH;o<i;o++)t[o]=n[o];for(a=0,s=this.tracks.length;a<s;a++)for(n=new Uint8Array(this.tracks[a].datas.buffer,this.tracks[a].datas.byteOffset,this.tracks[a].datas.byteLength),l=0,u=this.tracks[a].datas.byteLength;l<u;l++)t[o++]=n[l];return t.buffer},s.Header=r,s.Track=o,e.exports=s},function(e,t,n){"use strict";(function(e){function r(t,n){var r,o,i,a=void 0!==(r=void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:e).document&&r.document.attachEvent;if(!a){var s=(i=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(e){return r.setTimeout(e,20)},function(e){return i(e)}),l=(o=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.clearTimeout,function(e){return o(e)}),u=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},c=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;u(this),this.__resizeRAF__&&l(this.__resizeRAF__),this.__resizeRAF__=s((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},f=!1,d="",h="animationstart",p="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g=r.document.createElement("fakeelement");if(void 0!==g.style.animationName&&(f=!0),!1===f)for(var v=0;v<p.length;v++)if(void 0!==g.style[p[v]+"AnimationName"]){d="-"+p[v].toLowerCase()+"-",h=m[v],f=!0;break}var y="resizeanim",b="@"+d+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",_=d+"animation: 1ms "+y+"; "}return{addResizeListener:function(e,n){if(a)e.attachEvent("onresize",n);else{if(!e.__resizeTriggers__){var o=e.ownerDocument,i=r.getComputedStyle(e);i&&"static"==i.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var n=(b||"")+".resize-triggers { "+(_||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=e.head||e.getElementsByTagName("head")[0],o=e.createElement("style");o.id="detectElementResize",o.type="text/css",null!=t&&o.setAttribute("nonce",t),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(e.createTextNode(n)),r.appendChild(o)}}(o),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=o.createElement("div")).className="resize-triggers";var s=o.createElement("div");s.className="expand-trigger",s.appendChild(o.createElement("div"));var l=o.createElement("div");l.className="contract-trigger",e.__resizeTriggers__.appendChild(s),e.__resizeTriggers__.appendChild(l),e.appendChild(e.__resizeTriggers__),u(e),e.addEventListener("scroll",c,!0),h&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==y&&u(e)},e.__resizeTriggers__.addEventListener(h,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(n)}},removeResizeListener:function(e,t){if(a)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",c,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(h,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}n.d(t,"a",(function(){return r}))}).call(this,n(22))},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)i.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},function(e,t,n){var r=n(86),o=n(32),i=n(51),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(41).Symbol;e.exports=r},function(e,t,n){var r=n(52),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(85),o=n(39);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=o(n))==n?n:0),void 0!==t&&(t=(t=o(t))==t?t:0),r(o(e),t,n)}},function(e,t,n){var r=n(115);e.exports=p,e.exports.parse=i,e.exports.compile=function(e,t){return l(i(e,t),t)},e.exports.tokensToFunction=l,e.exports.tokensToRegExp=h;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,s=0,l="",u=t&&t.delimiter||"/";null!=(n=o.exec(e));){var f=n[0],d=n[1],h=n.index;if(l+=e.slice(s,h),s=h+f.length,d)l+=d[1];else{var p=e[s],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],_=n[7];l&&(r.push(l),l="");var w=null!=m&&null!=p&&p!==m,S="+"===b||"*"===b,E="?"===b||"*"===b,T=m||u,k=v||y,x=m||("string"==typeof r[r.length-1]?r[r.length-1]:"");r.push({name:g||i++,prefix:m||"",delimiter:T,optional:E,repeat:S,partial:w,asterisk:!!_,pattern:k?c(k):_?".*":a(T,x)})}}return s<e.length&&(l+=e.substr(s)),l&&r.push(l),r}function a(e,t){return!t||t.indexOf(e)>-1?"[^"+u(e)+"]+?":u(t)+"|(?:(?!"+u(t)+")[^"+u(e)+"])+?"}function s(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function l(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",d(t)));return function(t,o){for(var i="",a=t||{},l=(o||{}).pretty?s:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var f,d=a[c.name];if(null==d){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=l(d[h]),!n[u].test(f))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(f)+"`");i+=(0===h?c.prefix:c.delimiter)+f}}else{if(f=c.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(d),!n[u].test(f))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+f+'"');i+=c.prefix+f}}else i+=c}return i}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function f(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)a+=u(l);else{var c=u(l.prefix),h="(?:"+l.pattern+")";t.push(l),l.repeat&&(h+="(?:"+c+h+")*"),a+=h=l.optional?l.partial?c+"("+h+")?":"(?:"+c+"("+h+"))?":c+"("+h+")"}}var p=u(n.delimiter||"/"),m=a.slice(-p.length)===p;return o||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=i?"$":o&&m?"":"(?="+p+"|$)",f(new RegExp("^"+a,d(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return f(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(p(e[o],t,n).source);return f(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return h(i(e,n),t,n)}(e,t,n)}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAATAQMAAACwfl94AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAZQTFRFAAAAqqqqE2N/7AAAAAJ0Uk5TAP9bkSK1AAAAJUlEQVR4nGNkYGBgBGEenheMfFonGPN7WMGY/yUHGOPjw/RCMQAmaw0UB4u97AAAAABJRU5ErkJggg=="},function(e,t,n){var r=n(62),o=n(138),i=n(140),a=n(145),s=n(149),l=n(50);e.exports=function(e,t,n){if((e=s(e))&&(n||void 0===t))return e.slice(0,l(e)+1);if(!e||!(t=r(t)))return e;var u=a(e),c=i(u,a(t))+1;return o(u,0,c).join("")}},,function(e,t,n){"use strict";var r=n(77);function o(){}var i=null,a={};function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==o&&h(e,this)}function l(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);!function(e,t){r((function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(e){return i=e,a}}(n,e._18);r===a?c(t.promise,i):u(t.promise,r)}else 1===e._83?u(t.promise,e._18):c(t.promise,e._18)}))}(e,t)}function u(e,t){if(t===e)return c(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=function(e){try{return e.then}catch(e){return i=e,a}}(t);if(n===a)return c(e,i);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void f(e);if("function"==typeof n)return void h(n.bind(t),e)}e._83=1,e._18=t,f(e)}function c(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),f(e)}function f(e){if(1===e._75&&(l(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)l(e,e._38[t]);e._38=null}}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return i=e,a}}(e,(function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,c(t,e))}));n||r!==a||(n=!0,c(t,i))}e.exports=s,s._47=null,s._71=null,s._44=o,s.prototype.then=function(e,t){if(this.constructor!==s)return function(e,t,n){return new e.constructor((function(r,i){var a=new s(o);a.then(r,i),l(e,new d(t,n,a))}))}(this,e,t);var n=new s(o);return l(this,new d(e,t,n)),n}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){var r=n(33),o=n(34);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(22))},function(e,t,n){var r=n(91);e.exports=function(e,t){var n=-1,o=e.length,i=o-1;for(t=void 0===t?o:t;++n<t;){var a=r(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(110),o=n(56);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){"use strict";e.exports=n(116)},function(e,t,n){var r=n(27).default,o=n(127);e.exports=function(e){var t=o(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(60);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(40),o=n(54),i=n(42),a=n(51),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){var r,o,i,a,s,l,u,c,f,d,h,p,m,g,v,y,b,_,w,S,E,T;
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */a=this,s=/iPhone/i,l=/iPod/i,u=/iPad/i,c=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,d=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,h=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,m=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,g=/BlackBerry/i,v=/BB10/i,y=/Opera Mini/i,b=/(CriOS|Chrome)(?=.*\bMobile\b)/i,_=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,w=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),S=function(e,t){return e.test(t)},E=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),void 0!==(n=t.split("Twitter"))[1]&&(t=n[0]),this.apple={phone:S(s,t),ipod:S(l,t),tablet:!S(s,t)&&S(u,t),device:S(s,t)||S(l,t)||S(u,t)},this.amazon={phone:S(d,t),tablet:!S(d,t)&&S(h,t),device:S(d,t)||S(h,t)},this.android={phone:S(d,t)||S(c,t),tablet:!S(d,t)&&!S(c,t)&&(S(h,t)||S(f,t)),device:S(d,t)||S(h,t)||S(c,t)||S(f,t)},this.windows={phone:S(p,t),tablet:S(m,t),device:S(p,t)||S(m,t)},this.other={blackberry:S(g,t),blackberry10:S(v,t),opera:S(y,t),firefox:S(_,t),chrome:S(b,t),device:S(g,t)||S(v,t)||S(y,t)||S(_,t)||S(b,t)},this.seven_inch=S(w,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},T=function(){var e=new E;return e.Class=E,e},e.exports&&"undefined"==typeof window?e.exports=E:e.exports&&"undefined"!=typeof window?e.exports=T():(o=[],r=a.isMobile=T(),void 0===(i="function"==typeof r?r.apply(t,o):r)||(e.exports=i))},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(32)("wks"),o=n(9),i=n(0).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(0),o=n(2),i=n(8),a=n(22),s=n(10),l=function(e,t,n){var u,c,f,d,h=e&l.F,p=e&l.G,m=e&l.S,g=e&l.P,v=e&l.B,y=p?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,b=p?o:o[t]||(o[t]={}),_=b.prototype||(b.prototype={});for(u in p&&(n=t),n)f=((c=!h&&y&&void 0!==y[u])?y:n)[u],d=v&&c?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,y&&a(y,u,f,e&l.U),b[u]!=f&&i(b,u,d),g&&_[u]!=f&&(_[u]=f)};r.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var r=n(16),o=n(21);e.exports=n(3)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(24);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(28),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=e.type||"",i=o.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?i===t.replace(/\/.*$/,""):o===t}))}return!0},n(14),n(34)},function(e,t,n){n(15),e.exports=n(2).Array.some},function(e,t,n){"use strict";var r=n(7),o=n(25)(3);r(r.P+r.F*!n(33)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(17),o=n(18),i=n(20),a=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(1);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(3)&&!n(4)((function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(1),o=n(0).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(0),o=n(8),i=n(23),a=n(9)("src"),s=Function.toString,l=(""+s).split("toString");n(2).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(i(n,a)||o(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(10),o=n(26),i=n(27),a=n(12),s=n(29);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,f=6==e,d=5==e||f,h=t||s;return function(t,s,p){for(var m,g,v=i(t),y=o(v),b=r(s,p,3),_=a(y.length),w=0,S=n?h(t,_):l?h(t,0):void 0;_>w;w++)if((d||w in y)&&(g=b(m=y[w],w,v),e))if(n)S[w]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:S.push(m)}else if(c)return!1;return f?-1:u||c?c:S}}},function(e,t,n){var r=n(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(11);e.exports=function(e){return Object(r(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(30);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(1),o=n(31),i=n(6)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(5);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(0),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){n(35),e.exports=n(2).String.endsWith},function(e,t,n){"use strict";var r=n(7),o=n(12),i=n(36),a="".endsWith;r(r.P+r.F*n(38)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),s=void 0===n?r:Math.min(o(n),r),l=String(e);return a?a.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,n){var r=n(37),o=n(11);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(1),o=n(5),i=n(6)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}}])},function(e,t,n){"use strict";var r=n(58),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var o=h(n);o&&o!==p&&e(t,o,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!(i[v]||r&&r[v]||m&&m[v]||s&&s[v])){var y=d(n,v);try{u(t,v,y)}catch(e){}}}}return t}},function(e,t,n){var r=n(122)();e.exports=r},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return a}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Error}).call(this,n(22),n(26))},function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure "+e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(131),o=n(132),i=n(61),a=n(133);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(134),o=n(135),i=n(61),a=n(136);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcAAAAA3CAYAAACbxZpmAAAACXBIWXMAAAsSAAALEgHS3X78AAAClElEQVR42u3c7W2jMAAGYLdikq6QCW6ZssUpui2Y5jpAs8LtcBP4fkXq0SQYsB0MzyNValIgvLj0rd2PlxhjCCGEvr+ch+F0DiN9f/kZQvgzevptGE6/Rtt923/Gvlt6DXnllVdeeXeW99bHXwMAHJACBEABAoACBAAFCAAKEAAUIAAoQABQgACgAAFAAQKAAgQABQgAChAAFCAAKEAAUIAAoAABQAECgAIEAAUIgAIEAAUIAAoQAHarS9jmbwjh7cZzIeO+W3oNeeWVV15595f3uxhjiDGG9/fP8/X9W2/P/nitY9Q6F3nllVdeeZ+b1xIoAIekAAFQgACgAAFAAQKAAgQABQgAChAAFCAAbFdX4qB9f/l9fX8YTj/2fhHllVdeeeVtL2/3aKdbF2fq4t3bb87+Xx8v3SZ1oHOc75r9U/LUylvjem0pb0vjm/pFq4W8OTO7f43vmryLZoDXA04dfOn+Kcec2mbpuT0jb0qeWnnXZm0tbwvjmzPrVvLWzHyk+9f4zjvm66OTG7f4HqfGR8gpr7zyyitvphng9YRKrR/PnYaXXscunTd1Kl8jb42sW8p7tPHdSt69fU4b3zbHt0sJmHuKvWbqPPeCTl2clO8uSufNsYSSK2+NrFvK29L4ptzoreTNldn9a3zX5O3uTTvvPW7NvSn03nLKu/+8j5aDjK+88s6XfQl0HOjRckDJqXPOtePSeXNkzpV36lz3lreF8c39c5AjfT7LK++sP4MYbzD1eO7UN8dSQeoFn3MepX7bKUeeWnlLvM6W87Y0vnOPseW8Jc7D/Wt8l7yO/wQDwCG9xBi/TiXPLgkAO/cxDKeP/woQAI7CEigAChAAFCAAKEAAUIAAoAABQAECQCP+AX8PMLpfoKkaAAAAAElFTkSuQmCC"},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(10),o=n(73);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var u,c=new(n.n(o).a.scale)(["#000000","#0000a0","#6000a0","#962761","#dd1440","#f0b000","#ffffa0","#ffffff"]).domain([0,255]),f=-1!==window.location.search.indexOf("debug=true"),d=0,h=0,p=0,m=0;function g(e){var t=e*e;return 281061254.916*t*t/((t+424.36)*Math.sqrt((t+11599.29)*(t+544496.41))*(t+14884e4))}var v=function(){return e=function e(t,n,o,i,s,l){var c=this,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-90,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-30;a(this,e),Object(r.a)(this),this.core=t;var h=32,p=0,m=i.width,v=25.95,y=4504,b=this.core._cqt_init(n.sampleRate,m,h,v,y,p);b?(this.cqtFreqs=Array(m).fill().map((function(e,t){return c.core._cqt_bin_to_freq(t)})),u=this.cqtFreqs.map((function(e){return.5+.5*g(e)}))):console.error("Error initializing constant Q transform. Constant Q will be disabled."),this.cqtSize=b,this.dataPtr=this.core._malloc(4*b),this.paused=!0,this.mode=0,this.weighting=0,this.analyserNode=n.createAnalyser(),o.connect(this.analyserNode),this.analyserNode.minDecibels=f,this.analyserNode.maxDecibels=d,this.analyserNode.smoothingTimeConstant=0,this.analyserNode.fftSize=this.fftSize=2048,this.byteFrequencyData=new Uint8Array(this.analyserNode.frequencyBinCount),this.freqCanvas=i,this.specCanvas=s,this.tempCanvas=document.createElement("canvas"),this.tempCanvas.width=this.specCanvas.width,this.tempCanvas.height=this.specCanvas.height,this.freqCtx=this.freqCanvas.getContext("2d",{alpha:!1}),this.specCtx=this.specCanvas.getContext("2d",{alpha:!1}),this.tempCtx=this.tempCanvas.getContext("2d",{alpha:!1}),this.pianoKeysImage=l,this.lastData=[],this.updateFrame()},(t=[{key:"setPaused",value:function(e){this.paused&&!e&&requestAnimationFrame(this.updateFrame),this.paused=e}},{key:"setMode",value:function(e){this.mode=e,this.analyserNode.fftSize=2===e?this.cqtSize||2048:this.fftSize}},{key:"setFFTSize",value:function(e){this.fftSize=e,this.analyserNode.fftSize=e}},{key:"isRepeatedFrequencyData",value:function(e){for(var t=!0,n=0;n<40;n+=2)e[n]!==this.lastData[n]&&(t=!1),this.lastData[n]=e[n];return t}},{key:"setWeighting",value:function(e){this.weighting=e}},{key:"setSpeed",value:function(e){this.specSpeed=e}},{key:"updateFrame",value:function(){if(!this.paused){requestAnimationFrame(this.updateFrame);var e=this.freqCanvas.height,t=this.freqCanvas.width,n=e/256,r=this.specSpeed,o=this.byteFrequencyData,i=this.analyserNode,a=this.freqCtx,s=this.tempCtx;a.fillStyle="black",a.fillRect(0,0,this.freqCanvas.width,this.freqCanvas.height),s.fillStyle="#000033",s.fillRect(0,0,this.tempCanvas.width,r);var l=performance.now(),g=new Float32Array(this.core.HEAPF32.buffer,this.dataPtr,this.cqtSize),v=this.fftSize/2,y=!1;if(0===this.mode){i.getByteFrequencyData(o),y=this.isRepeatedFrequencyData(o);for(var b=0;b<v&&b<t;++b){var _=c(o[b]).hex(),w=o[b]*n|0;a.fillStyle=_,a.fillRect(b,e-w,1,w),s.fillStyle=_,s.fillRect(b,0,1,r)}}else if(1===this.mode){i.getByteFrequencyData(o),y=this.isRepeatedFrequencyData(o);for(var S=Math.log(v),E=0;E<v;E++){var T=Math.log(E+1)/S*t|0,k=Math.log(E+2)/S*t-T|0,x=o[E]*n|0,C=c(o[E]||0).hex();a.fillStyle=C,a.fillRect(T,e-x,k,x),s.fillStyle=C,s.fillRect(T,0,k,r)}}else if(2===this.mode&&(i.getFloatTimeDomainData(g),!g.every((function(e){return 0===e})))){this.core._cqt_calc(this.dataPtr,this.dataPtr),this.core._cqt_render_line(this.dataPtr);for(var P=0;P<t;P++){var O=255*(1===this.weighting?u[P]:1)*g[P]|0,I=O*n|0,R=c(O).hex();a.fillStyle=R,a.fillRect(P,e-I,1,I),s.fillStyle=R,s.fillRect(P,0,1,r)}}var A=performance.now();y||(s.translate(0,r),s.drawImage(this.tempCanvas,0,0),s.setTransform(1,0,0,1,0,0),this.specCtx.drawImage(this.tempCanvas,0,0));var M=performance.now();f&&(d+=A-l,h+=M-l,++p>=200&&(console.log("[Viz] %s ms analysis, %s ms total (%s fps) (%s% utilization)",(d/p).toFixed(2),(h/p).toFixed(2),(1e3*p/(l-m)).toFixed(1),(100*h/(M-m)).toFixed(1)),d=0,p=0,h=0,m=l))}}}])&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();if(e.AnalyserNode&&!e.AnalyserNode.prototype.getFloatTimeDomainData){var y=new Uint8Array(32768);e.AnalyserNode.prototype.getFloatTimeDomainData=function(e){this.getByteTimeDomainData(y);for(var t=0,n=e.length;t<n;t++)e[t]=.0078125*(y[t]-128)}}}).call(this,n(22))},function(e,t,n){(function(e){var n;
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var r,o,i,a,s,l,u,c,f,d,h,p,m,g,v,y,b,_,w,S,E,T,k,x,C,P,O,I,R,A,M,N,D,j,L,F,z,U,B,V,G,H,W,q,$,K,X,Y,Q,J,Z,ee,te,ne,re,oe,ie,ae,se,le,ue,ce,fe,de,he,pe,me,ge,ve,ye,be,_e,we,Se,Ee,Te,ke,xe,Ce,Pe,Oe=[].slice;Te=function(){var e,t,n,r,o;for(e={},r=0,t=(o="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r<t;r++)n=o[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),X=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},ke=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},E=function(e){var t,n;for(e._clipped=!1,e._unclipped=e.slice(0),t=n=0;n<3;t=++n)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},a=Math.PI,be=Math.round,k=Math.cos,I=Math.floor,re=Math.pow,Y=Math.log,we=Math.sin,Se=Math.sqrt,g=Math.atan2,Z=Math.max,m=Math.abs,u=2*a,s=a/3,o=a/180,l=180/a,(S=function(){return arguments[0]instanceof r?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,arguments,(function(){}))}).default=S,p=[],null!==e&&null!=e.exports&&(e.exports=S),void 0===(n=function(){return S}.apply(t,[]))||(e.exports=n),S.version="1.4.1",h={},f=[],d=!1,r=function(){function e(){var e,t,n,r,o,i,a,s,l;for(i=this,t=[],s=0,r=arguments.length;s<r;s++)null!=(e=arguments[s])&&t.push(e);if(t.length>1&&(a=t[t.length-1]),null!=h[a])i._rgb=E(h[a](ke(t.slice(0,-1))));else{for(d||(f=f.sort((function(e,t){return t.p-e.p})),d=!0),l=0,o=f.length;l<o&&!(a=(n=f[l]).test.apply(n,t));l++);a&&(i._rgb=E(h[a].apply(h,t)))}null==i._rgb&&console.warn("unknown format: "+t),null==i._rgb&&(i._rgb=[0,0,0]),3===i._rgb.length&&i._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e}(),S._input=h,
/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
S.brewer=_={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;for(e in t=[],_)t.push(_[e.toLowerCase()]=_[e])}(),S.colors=xe={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},H=function(){var e,t,n,r,o,a,s;return r=(t=ke(arguments))[0],e=t[1],n=t[2],a=(r+16)/116,o=isNaN(e)?a:a+e/500,s=isNaN(n)?a:a-n/200,a=i.Yn*W(a),o=i.Xn*W(o),s=i.Zn*W(s),[Pe(3.2404542*o-1.5371385*a-.4985314*s),Pe(-.969266*o+1.8760108*a+.041556*s),n=Pe(.0556434*o-.2040259*a+1.0572252*s),t.length>3?t[3]:1]},Pe=function(e){return 255*(e<=.00304?12.92*e:1.055*re(e,1/2.4)-.055)},W=function(e){return e>i.t1?e*e*e:i.t2*(e-i.t0)},i={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},fe=function(){var e,t,n,r,o,i,a;return n=(r=ke(arguments))[0],t=r[1],e=r[2],i=(o=ge(n,t,e))[0],[116*(a=o[1])-16,500*(i-a),200*(a-o[2])]},ve=function(e){return(e/=255)<=.04045?e/12.92:re((e+.055)/1.055,2.4)},Ce=function(e){return e>i.t3?re(e,1/3):e/i.t2+i.t0},ge=function(){var e,t,n,r;return n=(r=ke(arguments))[0],t=r[1],e=r[2],n=ve(n),t=ve(t),e=ve(e),[Ce((.4124564*n+.3575761*t+.1804375*e)/i.Xn),Ce((.2126729*n+.7151522*t+.072175*e)/i.Yn),Ce((.0193339*n+.119192*t+.9503041*e)/i.Zn)]},S.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Oe.call(arguments).concat(["lab"]),(function(){}))},h.lab=H,r.prototype.lab=function(){return fe(this._rgb)},v=function(e){var t,n,r,o,i,a,s,l,u,c,f;return 2===(e=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(S(o));return r}()).length?(u=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),i=u[0],a=u[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push(i[t]+e*(a[t]-i[t]));return r}(),S.lab.apply(S,n)}):3===e.length?(c=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),i=c[0],a=c[1],s=c[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*i[t]+2*(1-e)*e*a[t]+e*e*s[t]);return r}(),S.lab.apply(S,n)}):4===e.length?(f=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),i=f[0],a=f[1],s=f[2],l=f[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*(1-e)*i[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]);return r}(),S.lab.apply(S,n)}):5===e.length&&(n=v(e.slice(0,3)),r=v(e.slice(2,5)),t=function(e){return e<.5?n(2*e):r(2*(e-.5))}),t},S.bezier=function(e){var t;return(t=v(e)).scale=function(){return S.scale(t)},t},S.cubehelix=function(e,t,n,r,o){var i,a,s;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==o&&(o=[0,1]),i=0,"array"===Te(o)?a=o[1]-o[0]:(a=0,o=[o,o]),(s=function(s){var l,c,f,d,h;return l=u*((e+120)/360+t*s),d=re(o[0]+a*s,r),c=(0!==i?n[0]+s*i:n)*d*(1-d)/2,f=k(l),h=we(l),S(E([255*(d+c*(-.14861*f+1.78277*h)),255*(d+c*(-.29227*f-.90649*h)),255*(d+c*(1.97294*f)),1]))}).start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:("array"===Te(n=e)?0===(i=n[1]-n[0])&&(n=n[1]):i=0,s)},s.lightness=function(e){return null==e?o:("array"===Te(e)?(o=e,a=e[1]-e[0]):(o=[e,e],a=0),s)},s.scale=function(){return S.scale(s)},s.hue(n),s},S.random=function(){var e,t;for("0123456789abcdef",e="#",t=0;t<6;++t)e+="0123456789abcdef".charAt(I(16*Math.random()));return new r(e)},p=[],L=function(e,t,n,r){var o,i,a,s;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==Te(e)&&(e=S(e)),"object"!==Te(t)&&(t=S(t)),a=0,i=p.length;a<i;a++)if(r===(o=p[a])[0]){s=o[1](e,t,n,r);break}if(null==s)throw"color mode "+r+" is not supported";return s.alpha(e.alpha()+n*(t.alpha()-e.alpha()))},S.interpolate=L,r.prototype.interpolate=function(e,t,n){return L(this,e,t,n)},S.mix=L,r.prototype.mix=r.prototype.interpolate,h.rgb=function(){var e,t,n,r;for(e in n=[],t=ke(arguments))r=t[e],n.push(r);return n},S.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Oe.call(arguments).concat(["rgb"]),(function(){}))},r.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},r.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},f.push({p:3,test:function(e){var t;return t=ke(arguments),"array"===Te(t)&&3===t.length||4===t.length&&"number"===Te(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),h.lrgb=h.rgb,U=function(e,t,n,o){var i,a;return i=e._rgb,a=t._rgb,new r(Se(re(i[0],2)*(1-n)+re(a[0],2)*n),Se(re(i[1],2)*(1-n)+re(a[1],2)*n),Se(re(i[2],2)*(1-n)+re(a[2],2)*n),o)},c=function(e){var t,n,o,i,a;for(t=1/e.length,a=[0,0,0,0],o=0,n=e.length;o<n;o++)i=e[o]._rgb,a[0]+=re(i[0],2)*t,a[1]+=re(i[1],2)*t,a[2]+=re(i[2],2)*t,a[3]+=i[3]*t;return a[0]=Se(a[0]),a[1]=Se(a[1]),a[2]=Se(a[2]),a[3]>1&&(a[3]=1),new r(E(a))},p.push(["lrgb",U]),S.average=function(e,t){var n,r,o,i,s,l,u,f,d,h,p,m,v;if(null==t&&(t="rgb"),d=e.length,u=(e=e.map((function(e){return S(e)}))).splice(0,1)[0],"lrgb"===t)return c(e);for(f in i=[],s=0,l=0,m=u.get(t))m[f]=m[f]||0,i.push(isNaN(m[f])?0:1),"h"!==t.charAt(f)||isNaN(m[f])||(n=m[f]/180*a,s+=k(n),l+=we(n));for(r=u.alpha(),p=0,h=e.length;p<h;p++)for(f in v=(o=e[p]).get(t),r+=o.alpha(),m)isNaN(v[f])||(i[f]+=1,"h"===t.charAt(f)?(n=v[f]/180*a,s+=k(n),l+=we(n)):m[f]+=v[f]);for(f in m)if("h"===t.charAt(f)){for(n=g(l/i[f],s/i[f])/a*180;n<0;)n+=360;for(;n>=360;)n-=360;m[f]=n}else m[f]=m[f]/i[f];return S(m,t).alpha(r/d)},A=function(e){var t,n;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(n=parseInt(e,16))>>16,n>>8&255,255&n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(n=parseInt(e,16))>>24&255,n>>16&255,n>>8&255,be((255&n)/255*100)/100];if(null!=h.css&&(t=h.css(e)))return t;throw"unknown color: "+e},se=function(e,t){var n,r,o,i,a,s;return null==t&&(t="auto"),a=e[0],o=e[1],r=e[2],n=e[3],"auto"===t&&(t=n<1?"rgba":"rgb"),a=Math.round(a),o=Math.round(o),r=Math.round(r),s=(s="000000"+(a<<16|o<<8|r).toString(16)).substr(s.length-6),i=(i="0"+be(255*n).toString(16)).substr(i.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return s+i;case"argb":return i+s;default:return s}}()},h.hex=function(e){return A(e)},S.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Oe.call(arguments).concat(["hex"]),(function(){}))},r.prototype.hex=function(e){return null==e&&(e="auto"),se(this._rgb,e)},f.push({p:4,test:function(e){if(1===arguments.length&&"string"===Te(e))return"hex"}}),D=function(){var e,t,n,r,o,i,a,s,l,u,c,f,d,h;if(o=(e=ke(arguments))[0],c=e[1],a=e[2],0===c)l=r=t=255*a;else{for(n=[0,0,0],f=2*a-(d=a<.5?a*(1+c):a+c-a*c),(h=[0,0,0])[0]=(o/=360)+1/3,h[1]=o,h[2]=o-1/3,i=s=0;s<=2;i=++s)h[i]<0&&(h[i]+=1),h[i]>1&&(h[i]-=1),6*h[i]<1?n[i]=f+6*(d-f)*h[i]:2*h[i]<1?n[i]=d:3*h[i]<2?n[i]=f+(d-f)*(2/3-h[i])*6:n[i]=f;l=(u=[be(255*n[0]),be(255*n[1]),be(255*n[2])])[0],r=u[1],t=u[2]}return e.length>3?[l,r,t,e[3]]:[l,r,t]},ue=function(e,t,n){var r,o,i,a,s;return void 0!==e&&e.length>=3&&(e=(a=e)[0],t=a[1],n=a[2]),e/=255,t/=255,n/=255,i=Math.min(e,t,n),o=((Z=Math.max(e,t,n))+i)/2,Z===i?(s=0,r=Number.NaN):s=o<.5?(Z-i)/(Z+i):(Z-i)/(2-Z-i),e===Z?r=(t-n)/(Z-i):t===Z?r=2+(n-e)/(Z-i):n===Z&&(r=4+(e-t)/(Z-i)),(r*=60)<0&&(r+=360),[r,s,o]},S.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Oe.call(arguments).concat(["hsl"]),(function(){}))},h.hsl=D,r.prototype.hsl=function(){return ue(this._rgb)},j=function(){var e,t,n,r,o,i,a,s,l,u,c,f,d,h,p,m,g,v;if(o=(e=ke(arguments))[0],m=e[1],v=e[2],v*=255,0===m)l=r=t=v;else switch(360===o&&(o=0),o>360&&(o-=360),o<0&&(o+=360),a=v*(1-m),s=v*(1-m*(n=(o/=60)-(i=I(o)))),g=v*(1-m*(1-n)),i){case 0:l=(u=[v,g,a])[0],r=u[1],t=u[2];break;case 1:l=(c=[s,v,a])[0],r=c[1],t=c[2];break;case 2:l=(f=[a,v,g])[0],r=f[1],t=f[2];break;case 3:l=(d=[a,s,v])[0],r=d[1],t=d[2];break;case 4:l=(h=[g,a,v])[0],r=h[1],t=h[2];break;case 5:l=(p=[v,a,s])[0],r=p[1],t=p[2]}return[l,r,t,e.length>3?e[3]:1]},ce=function(){var e,t,n,r,o,i,a,s,l;return i=(a=ke(arguments))[0],n=a[1],e=a[2],o=Math.min(i,n,e),t=(Z=Math.max(i,n,e))-o,l=Z/255,0===Z?(r=Number.NaN,s=0):(s=t/Z,i===Z&&(r=(n-e)/t),n===Z&&(r=2+(e-i)/t),e===Z&&(r=4+(i-n)/t),(r*=60)<0&&(r+=360)),[r,s,l]},S.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Oe.call(arguments).concat(["hsv"]),(function(){}))},h.hsv=j,r.prototype.hsv=function(){return ce(this._rgb)},te=function(e){return"number"===Te(e)&&e>=0&&e<=16777215?[e>>16,e>>8&255,255&e,1]:(console.warn("unknown num color: "+e),[0,0,0,1])},pe=function(){var e;return((e=ke(arguments))[0]<<16)+(e[1]<<8)+e[2]},S.num=function(e){return new r(e,"num")},r.prototype.num=function(e){return null==e&&(e="rgb"),pe(this._rgb,e)},h.num=te,f.push({p:1,test:function(e){if(1===arguments.length&&"number"===Te(e)&&e>=0&&e<=16777215)return"num"}}),R=function(){var e,t,n,r,o,i,a,s,l,u,c,f,d,h,p,m,g,v,y,b;if(s=(n=ke(arguments))[0],o=n[1],t=n[2],a=a/100*255,e=255*(o/=100),0===o)f=a=r=t;else switch(360===s&&(s=0),s>360&&(s-=360),s<0&&(s+=360),c=(u=t*(1-o))+e*(1-(i=(s/=60)-(l=I(s)))),y=u+e*i,b=u+e,l){case 0:f=(d=[b,y,u])[0],a=d[1],r=d[2];break;case 1:f=(h=[c,b,u])[0],a=h[1],r=h[2];break;case 2:f=(p=[u,b,y])[0],a=p[1],r=p[2];break;case 3:f=(m=[u,c,b])[0],a=m[1],r=m[2];break;case 4:f=(g=[y,u,b])[0],a=g[1],r=g[2];break;case 5:f=(v=[b,u,c])[0],a=v[1],r=v[2]}return[f,a,r,n.length>3?n[3]:1]},ae=function(){var e,t,n,r,o,i,a,s,l;return s=(l=ke(arguments))[0],o=l[1],t=l[2],a=Math.min(s,o,t),n=100*(r=(Z=Math.max(s,o,t))-a)/255,e=a/(255-r)*100,0===r?i=Number.NaN:(s===Z&&(i=(o-t)/r),o===Z&&(i=2+(t-s)/r),t===Z&&(i=4+(s-o)/r),(i*=60)<0&&(i+=360)),[i,n,e]},S.hcg=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Oe.call(arguments).concat(["hcg"]),(function(){}))},h.hcg=R,r.prototype.hcg=function(){return ae(this._rgb)},x=function(e){var t,n,r,o,i,a,s,l;if(e=e.toLowerCase(),null!=S.colors&&S.colors[e])return A(S.colors[e]);if(i=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=i.slice(1,4),o=a=0;a<=2;o=++a)s[o]=+s[o];s[3]=1}else if(i=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=i.slice(1,5),o=l=0;l<=3;o=++l)s[o]=+s[o];else if(i=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=i.slice(1,4),o=t=0;t<=2;o=++t)s[o]=be(2.55*s[o]);s[3]=1}else if(i=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=i.slice(1,5),o=n=0;n<=2;o=++n)s[o]=be(2.55*s[o]);s[3]=+s[3]}else(i=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((r=i.slice(1,4))[1]*=.01,r[2]*=.01,(s=D(r))[3]=1):(i=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((r=i.slice(1,4))[1]*=.01,r[2]*=.01,(s=D(r))[3]=+i[4]);return s},ie=function(e){var t;return"rgb"===(t=e[3]<1?"rgba":"rgb")?t+"("+e.slice(0,3).map(be).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(be).join(",")+","+e[3]+")":void 0},ye=function(e){return be(100*e)/100},N=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=ye(e[0]||0),e[1]=ye(100*e[1])+"%",e[2]=ye(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},h.css=function(e){return x(e)},S.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Oe.call(arguments).concat(["css"]),(function(){}))},r.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?ie(this._rgb):"hsl"===e.slice(0,3)?N(this.hsl(),this.alpha()):void 0},h.named=function(e){return A(xe[e])},f.push({p:5,test:function(e){if(1===arguments.length&&null!=xe[e])return"named"}}),r.prototype.name=function(e){var t,n;for(n in arguments.length&&(xe[e]&&(this._rgb=A(xe[e])),this._rgb[3]=1),t=this.hex("rgb"),xe)if(t===xe[n])return n;return t},q=function(){var e,t,n,r;return n=(r=ke(arguments))[0],e=r[1],t=r[2],[n,k(t*=o)*e,we(t)*e]},$=function(){var e,t,n,r,o,i,a,s,l;return a=(n=ke(arguments))[0],o=n[1],i=n[2],e=(s=q(a,o,i))[0],t=s[1],r=s[2],[(l=H(e,t,r))[0],l[1],r=l[2],n.length>3?n[3]:1]},G=function(){var e,t,n,r,o,i;return o=(i=ke(arguments))[0],e=i[1],t=i[2],n=Se(e*e+t*t),r=(g(t,e)*l+360)%360,0===be(1e4*n)&&(r=Number.NaN),[o,n,r]},de=function(){var e,t,n,r,o,i,a;return o=(i=ke(arguments))[0],n=i[1],t=i[2],r=(a=fe(o,n,t))[0],e=a[1],t=a[2],G(r,e,t)},S.lch=function(){var e;return e=ke(arguments),new r(e,"lch")},S.hcl=function(){var e;return e=ke(arguments),new r(e,"hcl")},h.lch=$,h.hcl=function(){var e,t,n,r;return t=(r=ke(arguments))[0],e=r[1],n=r[2],$([n,e,t])},r.prototype.lch=function(){return de(this._rgb)},r.prototype.hcl=function(){return de(this._rgb).reverse()},oe=function(e){var t,n,r,o,i,a;return null==e&&(e="rgb"),i=(a=ke(arguments))[0],r=a[1],t=a[2],r/=255,t/=255,[(1-(i/=255)-(o=1-Math.max(i,Math.max(r,t))))*(n=o<1?1/(1-o):0),(1-r-o)*n,(1-t-o)*n,o]},T=function(){var e,t,n,r,o,i;return n=(t=ke(arguments))[0],o=t[1],i=t[2],r=t[3],e=t.length>4?t[4]:1,1===r?[0,0,0,e]:[n>=1?0:255*(1-n)*(1-r),o>=1?0:255*(1-o)*(1-r),i>=1?0:255*(1-i)*(1-r),e]},h.cmyk=function(){return T(ke(arguments))},S.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Oe.call(arguments).concat(["cmyk"]),(function(){}))},r.prototype.cmyk=function(){return oe(this._rgb)},h.gl=function(){var e,t,n,r,o;for(r=function(){var e,n;for(t in n=[],e=ke(arguments))o=e[t],n.push(o);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)r[e]*=255;return r},S.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Oe.call(arguments).concat(["gl"]),(function(){}))},r.prototype.gl=function(){var e;return[(e=this._rgb)[0]/255,e[1]/255,e[2]/255,e[3]]},he=function(e,t,n){var r;return e=(r=ke(arguments))[0],t=r[1],n=r[2],.2126*(e=Q(e))+.7152*(t=Q(t))+.0722*(n=Q(n))},Q=function(e){return(e/=255)<=.03928?e/12.92:re((e+.055)/1.055,2.4)},V=function(e,t,n,o){var i,a;return i=e._rgb,a=t._rgb,new r(i[0]+n*(a[0]-i[0]),i[1]+n*(a[1]-i[1]),i[2]+n*(a[2]-i[2]),o)},p.push(["rgb",V]),r.prototype.luminance=function(e,t){var n,r,o,i,a;return null==t&&(t="rgb"),arguments.length?(i=this._rgb,0===e?i=[0,0,0,this._rgb[3]]:1===e?i=[255,255,255,this[3]]:(n=he(this._rgb),r=1e-7,o=20,a=function(n,i){var s,l;return s=(l=n.interpolate(i,.5,t)).luminance(),Math.abs(e-s)<r||!o--?l:s>e?a(n,l):a(l,i)},i=n>e?a(S("black"),this).rgba():a(this,S("white")).rgba()),S(i).alpha(this.alpha())):he(this._rgb)},Ee=function(e){var t,n,r,o;return(o=e/100)<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*Y(n),t=o<20?0:.8274096064007395*(t=o-10)-254.76935184120902+115.67994401066147*Y(t)):(r=351.97690566805693+.114206453784165*(r=o-55)-40.25366309332127*Y(r),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*Y(n),t=255),[r,n,t]},me=function(){var e,t,n,r,o,i,a,s;for(o=(i=ke(arguments))[0],i[1],e=i[2],r=1e3,n=4e4,t=.4;n-r>t;)(a=Ee(s=.5*(n+r)))[2]/a[0]>=e/o?n=s:r=s;return be(s)},S.temperature=S.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Oe.call(arguments).concat(["temperature"]),(function(){}))},h.temperature=h.kelvin=h.K=Ee,r.prototype.temperature=function(){return me(this._rgb)},r.prototype.kelvin=r.prototype.temperature,S.contrast=function(e,t){var n,o,i,a;return"string"!==(i=Te(e))&&"number"!==i||(e=new r(e)),"string"!==(a=Te(t))&&"number"!==a||(t=new r(t)),(n=e.luminance())>(o=t.luminance())?(n+.05)/(o+.05):(o+.05)/(n+.05)},S.distance=function(e,t,n){var o,i,a,s,l,u,c;for(i in null==n&&(n="lab"),"string"!==(l=Te(e))&&"number"!==l||(e=new r(e)),"string"!==(u=Te(t))&&"number"!==u||(t=new r(t)),a=e.get(n),s=t.get(n),c=0,a)c+=(o=(a[i]||0)-(s[i]||0))*o;return Math.sqrt(c)},S.deltaE=function(e,t,n,o){var i,s,l,u,c,f,d,h,p,v,y,b,_,w,S,E,T,x,C,P,O,I,R,A;for(null==n&&(n=1),null==o&&(o=1),"string"!==(S=Te(e))&&"number"!==S||(e=new r(e)),"string"!==(E=Te(t))&&"number"!==E||(t=new r(t)),i=(T=e.lab())[0],l=T[1],c=T[2],s=(x=t.lab())[0],u=x[1],f=x[2],d=Se(l*l+c*c),h=Se(u*u+f*f),P=i<16?.511:.040975*i/(1+.01765*i),C=.0638*d/(1+.0131*d)+.638,w=d<1e-6?0:180*g(c,l)/a;w<0;)w+=360;for(;w>=360;)w-=360;return O=w>=164&&w<=345?.56+m(.2*k(a*(w+168)/180)):.36+m(.4*k(a*(w+35)/180)),_=Se((p=d*d*d*d)/(p+1900)),Se((I=(i-s)/(n*P))*I+(R=(b=d-h)/(o*C))*R+((v=l-u)*v+(y=c-f)*y-b*b)/((A=C*(_*O+1-_))*A))},r.prototype.get=function(e){var t,n,r,o,i;return this,r=(o=e.split("."))[0],t=o[1],i=this[r](),t?(n=r.indexOf(t))>-1?i[n]:console.warn("unknown channel "+t+" in mode "+r):i},r.prototype.set=function(e,t){var n,r,o,i,a;if(this,o=(i=e.split("."))[0],n=i[1])if(a=this[o](),(r=o.indexOf(n))>-1)if("string"===Te(t))switch(t.charAt(0)){case"+":case"-":a[r]+=+t;break;case"*":a[r]*=+t.substr(1);break;case"/":a[r]/=+t.substr(1);break;default:a[r]=+t}else a[r]=t;else console.warn("unknown channel "+n+" in mode "+o);else a=t;return S(a,o).alpha(this.alpha())},r.prototype.clipped=function(){return this._rgb._clipped||!1},r.prototype.alpha=function(e){return arguments.length?S.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},r.prototype.darken=function(e){var t;return null==e&&(e=1),this,(t=this.lab())[0]-=i.Kn*e,S.lab(t).alpha(this.alpha())},r.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},r.prototype.darker=r.prototype.darken,r.prototype.brighter=r.prototype.brighten,r.prototype.saturate=function(e){var t;return null==e&&(e=1),this,(t=this.lch())[1]+=e*i.Kn,t[1]<0&&(t[1]=0),S.lch(t).alpha(this.alpha())},r.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},r.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),S(t[0]*e,t[1]*e,t[2]*e,e)},ee=function(e,t){return e*t/255},C=function(e,t){return e>t?t:e},K=function(e,t){return e>t?e:t},_e=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ne=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},w=function(e,t){return 255*(1-(1-t/255)/(e/255))},P=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e},(y=function(e,t,n){if(!y[n])throw"unknown blend mode "+n;return y[n](e,t)}).normal=(b=function(e){return function(t,n){var r,o;return r=S(n).rgb(),o=S(t).rgb(),S(e(r,o),"rgb")}})((O=function(e){return function(t,n){var r,o,i;for(i=[],r=o=0;o<=3;r=++o)i[r]=e(t[r],n[r]);return i}})((function(e,t){return e}))),y.multiply=b(O(ee)),y.screen=b(O(_e)),y.overlay=b(O(ne)),y.darken=b(O(C)),y.lighten=b(O(K)),y.dodge=b(O(P)),y.burn=b(O(w)),S.blend=y,S.analyze=function(e){var t,n,r,o;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)null==(o=e[n])||isNaN(o)||(r.values.push(o),r.sum+=o,o<r.min&&(r.min=o),o>r.max&&(r.max=o),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return S.limits(r,e,t)},r},S.scale=function(e,t){var n,r,o,i,a,s,l,u,c,f,d,h,p,m,g,v,y,b,_,w,E;return c="rgb",f=S("#ccc"),m=0,!1,a=[0,1],p=[],h=[0,0],n=!1,o=[],d=!1,u=0,l=1,i=!1,r={},g=!0,s=1,w=function(e){var t,n,r,i,a,s;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===Te(e)&&null!=S.brewer&&(e=S.brewer[e]||S.brewer[e.toLowerCase()]||e),"array"===Te(e)){for(1===e.length&&(e=[e[0],e[0]]),t=r=0,i=(e=e.slice(0)).length-1;0<=i?r<=i:r>=i;t=0<=i?++r:--r)n=e[t],"string"===Te(n)&&(e[t]=S(n));for(p.length=0,t=s=0,a=e.length-1;0<=a?s<=a:s>=a;t=0<=a?++s:--s)p.push(t/(e.length-1))}return _(),o=e},y=function(e){var t,r;if(null!=n){for(r=n.length-1,t=0;t<r&&e>=n[t];)t++;return t-1}return 0},E=function(e){return e},function(e){var t,r,o,i,a;return a=e,n.length>2&&(i=n.length-1,t=y(e),o=n[0]+(n[1]-n[0])*(0+.5*m),r=n[i-1]+(n[i]-n[i-1])*(1-.5*m),a=u+(n[t]+.5*(n[t+1]-n[t])-o)/(r-o)*(l-u)),a},b=function(e,t){var i,a,d,m,v,b,_;if(null==t&&(t=!1),isNaN(e)||null===e)return f;if(_=t?e:n&&n.length>2?y(e)/(n.length-2):l!==u?(e-u)/(l-u):1,t||(_=E(_)),1!==s&&(_=re(_,s)),_=h[0]+_*(1-h[0]-h[1]),_=Math.min(1,Math.max(0,_)),d=Math.floor(1e4*_),g&&r[d])i=r[d];else{if("array"===Te(o))for(a=m=0,b=p.length-1;0<=b?m<=b:m>=b;a=0<=b?++m:--m){if(_<=(v=p[a])){i=o[a];break}if(_>=v&&a===p.length-1){i=o[a];break}if(_>v&&_<p[a+1]){_=(_-v)/(p[a+1]-v),i=S.interpolate(o[a],o[a+1],_,c);break}}else"function"===Te(o)&&(i=o(_));g&&(r[d]=i)}return i},_=function(){return r={}},w(e),(v=function(e){var t;return t=S(b(e)),d&&t[d]?t[d]():t}).classes=function(e){var t;return null!=e?("array"===Te(e)?(n=e,a=[e[0],e[e.length-1]]):(t=S.analyze(a),n=0===e?[t.min,t.max]:S.limits(t,"e",e)),v):n},v.domain=function(e){var t,n,r,i,s,c,f;if(!arguments.length)return a;if(u=e[0],l=e[e.length-1],p=[],r=o.length,e.length===r&&u!==l)for(s=0,i=e.length;s<i;s++)n=e[s],p.push((n-u)/(l-u));else for(t=f=0,c=r-1;0<=c?f<=c:f>=c;t=0<=c?++f:--f)p.push(t/(r-1));return a=[u,l],v},v.mode=function(e){return arguments.length?(c=e,_(),v):c},v.range=function(e,t){return w(e),v},v.out=function(e){return d=e,v},v.spread=function(e){return arguments.length?(m=e,v):m},v.correctLightness=function(e){return null==e&&(e=!0),i=e,_(),E=i?function(e){var t,n,r,o,i,a,s,l,u;for(t=b(0,!0).lab()[0],n=b(1,!0).lab()[0],s=t>n,r=b(e,!0).lab()[0],o=r-(i=t+(n-t)*e),l=0,u=1,a=20;Math.abs(o)>.01&&a-- >0;)s&&(o*=-1),o<0?(l=e,e+=.5*(u-e)):(u=e,e+=.5*(l-e)),r=b(e,!0).lab()[0],o=r-i;return e}:function(e){return e},v},v.padding=function(e){return null!=e?("number"===Te(e)&&(e=[e,e]),h=e,v):h},v.colors=function(t,r){var i,s,l,u,c,f,d,h;if(arguments.length<2&&(r="hex"),c=[],0===arguments.length)c=o.slice(0);else if(1===t)c=[v(.5)];else if(t>1)s=a[0],i=a[1]-s,c=function(){f=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)f.push(e);return f}.apply(this).map((function(e){return v(s+e/(t-1)*i)}));else{if(e=[],d=[],n&&n.length>2)for(l=h=1,u=n.length;1<=u?h<u:h>u;l=1<=u?++h:--h)d.push(.5*(n[l-1]+n[l]));else d=a;c=d.map((function(e){return v(e)}))}return S[r]&&(c=c.map((function(e){return e[r]()}))),c},v.cache=function(e){return null!=e?(g=e,v):g},v.gamma=function(e){return null!=e?(s=e,v):s},v.nodata=function(e){return null!=e?(f=S(e),v):f},v},null==S.scales&&(S.scales={}),S.scales.cool=function(){return S.scale([S.hsl(180,1,.9),S.hsl(250,.7,.4)])},S.scales.hot=function(){return S.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},S.analyze=function(e,t,n){var r,o,i,a,s,l;if(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(s.values.push(e),s.sum+=e,e<s.min&&(s.min=e),e>s.max&&(s.max=e),s.count+=1)},l=function(e,o){if(n(e,o))return null!=t&&"function"===Te(t)?r(t(e)):null!=t&&"string"===Te(t)||"number"===Te(t)?r(e[t]):r(e)},"array"===Te(e))for(a=0,i=e.length;a<i;a++)l(e[a]);else for(o in e)l(e[o],o);return s.domain=[s.min,s.max],s.limits=function(e,t){return S.limits(s,e,t)},s},S.limits=function(e,t,n){var r,o,i,a,s,l,u,c,f,d,h,p,g,v,y,b,_,w,E,T,k,x,C,P,O,R,A,M,N,D,j,L,F,z,U,B,V,G,H,W,q,$,K,X,Q,J,ee,te,ne,oe,ie,ae,se,le,ue;if(null==t&&(t="equal"),null==n&&(n=7),"array"===Te(e)&&(e=S.analyze(e)),O=e.min,Z=e.max,e.sum,le=e.values.sort((function(e,t){return e-t})),1===n)return[O,Z];if(C=[],"c"===t.substr(0,1)&&(C.push(O),C.push(Z)),"e"===t.substr(0,1)){for(C.push(O),T=j=1,U=n-1;1<=U?j<=U:j>=U;T=1<=U?++j:--j)C.push(O+T/n*(Z-O));C.push(Z)}else if("l"===t.substr(0,1)){if(O<=0)throw"Logarithmic scales are only possible for values > 0";for(R=Math.LOG10E*Y(O),P=Math.LOG10E*Y(Z),C.push(O),T=ue=1,B=n-1;1<=B?ue<=B:ue>=B;T=1<=B?++ue:--ue)C.push(re(10,R+T/n*(P-R)));C.push(Z)}else if("q"===t.substr(0,1)){for(C.push(O),T=r=1,$=n-1;1<=$?r<=$:r>=$;T=1<=$?++r:--r)L=(le.length-1)*T/n,(F=I(L))===L?C.push(le[F]):(z=L-F,C.push(le[F]*(1-z)+le[F+1]*z));C.push(Z)}else if("k"===t.substr(0,1)){for(M=le.length,v=new Array(M),w=new Array(n),oe=!0,N=0,b=null,(b=[]).push(O),T=o=1,K=n-1;1<=K?o<=K:o>=K;T=1<=K?++o:--o)b.push(O+T/n*(Z-O));for(b.push(Z);oe;){for(k=i=0,X=n-1;0<=X?i<=X:i>=X;k=0<=X?++i:--i)w[k]=0;for(T=a=0,Q=M-1;0<=Q?a<=Q:a>=Q;T=0<=Q?++a:--a){for(se=le[T],A=Number.MAX_VALUE,k=s=0,J=n-1;0<=J?s<=J:s>=J;k=0<=J?++s:--s)(E=m(b[k]-se))<A&&(A=E,y=k);w[y]++,v[T]=y}for(D=new Array(n),k=l=0,ee=n-1;0<=ee?l<=ee:l>=ee;k=0<=ee?++l:--l)D[k]=null;for(T=u=0,te=M-1;0<=te?u<=te:u>=te;T=0<=te?++u:--u)null===D[_=v[T]]?D[_]=le[T]:D[_]+=le[T];for(k=c=0,ne=n-1;0<=ne?c<=ne:c>=ne;k=0<=ne?++c:--c)D[k]*=1/w[k];for(oe=!1,k=f=0,V=n-1;0<=V?f<=V:f>=V;k=0<=V?++f:--f)if(D[k]!==b[T]){oe=!0;break}b=D,++N>200&&(oe=!1)}for(x={},k=d=0,G=n-1;0<=G?d<=G:d>=G;k=0<=G?++d:--d)x[k]=[];for(T=h=0,H=M-1;0<=H?h<=H:h>=H;T=0<=H?++h:--h)x[_=v[T]].push(le[T]);for(ie=[],k=p=0,W=n-1;0<=W?p<=W:p>=W;k=0<=W?++p:--p)ie.push(x[k][0]),ie.push(x[k][x[k].length-1]);for(ie=ie.sort((function(e,t){return e-t})),C.push(ie[0]),T=g=1,q=ie.length-1;g<=q;T=g+=2)ae=ie[T],isNaN(ae)||-1!==C.indexOf(ae)||C.push(ae)}return C},M=function(e,t,n){var r,o,i,a;return e=(r=ke(arguments))[0],t=r[1],n=r[2],isNaN(e)&&(e=0),(e/=360)<1/3?i=1-((o=(1-t)/3)+(a=(1+t*k(u*e)/k(s-u*e))/3)):e<2/3?o=1-((a=(1-t)/3)+(i=(1+t*k(u*(e-=1/3))/k(s-u*e))/3)):a=1-((i=(1-t)/3)+(o=(1+t*k(u*(e-=2/3))/k(s-u*e))/3)),[255*(a=X(n*a*3)),255*(i=X(n*i*3)),255*(o=X(n*o*3)),r.length>3?r[3]:1]},le=function(){var e,t,n,r,o,i,a;return o=(i=ke(arguments))[0],t=i[1],e=i[2],u=2*Math.PI,o/=255,t/=255,e/=255,0===(a=1-Math.min(o,t,e)/(r=(o+t+e)/3))?n=0:(n=(o-t+(o-e))/2,n/=Math.sqrt((o-t)*(o-t)+(o-e)*(t-e)),n=Math.acos(n),e>t&&(n=u-n),n/=u),[360*n,a,r]},S.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Oe.call(arguments).concat(["hsi"]),(function(){}))},h.hsi=M,r.prototype.hsi=function(){return le(this._rgb)},F=function(e,t,n,r){var o,i,a,s,l,u,c,f,d,h;return"hsl"===r?(d=e.hsl(),h=t.hsl()):"hsv"===r?(d=e.hsv(),h=t.hsv()):"hcg"===r?(d=e.hcg(),h=t.hcg()):"hsi"===r?(d=e.hsi(),h=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",d=e.hcl(),h=t.hcl()),"h"===r.substr(0,1)&&(i=d[0],c=d[1],s=d[2],a=h[0],f=h[1],l=h[2]),isNaN(i)||isNaN(a)?isNaN(i)?isNaN(a)?o=Number.NaN:(o=a,1!==s&&0!==s||"hsv"===r||(u=f)):(o=i,1!==l&&0!==l||"hsv"===r||(u=c)):o=i+n*(a>i&&a-i>180?a-(i+360):a<i&&i-a>180?a+360-i:a-i),null==u&&(u=c+n*(f-c)),S[r](o,u,s+n*(l-s))},B=function(e,t,n,r){var o,i;return o=e.num(),i=t.num(),S.num(o+(i-o)*n,"num")},(p=p.concat(function(){var e,t,n,r;for(r=[],t=0,e=(n=["hsv","hsl","hsi","hcl","lch","hcg"]).length;t<e;t++)J=n[t],r.push([J,F]);return r}())).push(["num",B]),z=function(e,t,n,o){var i,a;return i=e.lab(),a=t.lab(),new r(i[0]+n*(a[0]-i[0]),i[1]+n*(a[1]-i[1]),i[2]+n*(a[2]-i[2]),o)},p.push(["lab",z])}).call(this)}).call(this,n(43)(e))},function(e,t,n){n(75),e.exports=n(150)},function(e,t,n){"use strict";"undefined"==typeof Promise&&(n(76).enable(),window.Promise=n(78)),n(79),Object.assign=n(38)},function(e,t,n){"use strict";var r=n(49),o=[ReferenceError,TypeError,RangeError],i=!1;function a(){i=!1,r._47=null,r._71=null}function s(e,t){return t.some((function(t){return e instanceof t}))}t.disable=a,t.enable=function(e){e=e||{},i&&a();i=!0;var t=0,n=0,l={};function u(t){(e.allRejections||s(l[t].error,e.whitelist||o))&&(l[t].displayId=n++,e.onUnhandled?(l[t].logged=!0,e.onUnhandled(l[t].displayId,l[t].error)):(l[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach((function(e){console.warn("  "+e)}))}(l[t].displayId,l[t].error)))}r._47=function(t){2===t._83&&l[t._56]&&(l[t._56].logged?function(t){l[t].logged&&(e.onHandled?e.onHandled(l[t].displayId,l[t].error):l[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+l[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+l[t].displayId+".")))}(t._56):clearTimeout(l[t._56].timeout),delete l[t._56])},r._71=function(e,n){0===e._75&&(e._56=t++,l[e._56]={displayId:null,error:n,timeout:setTimeout(u.bind(null,e._56),s(n,o)?100:2e3),logged:!1})}}},function(e,t,n){"use strict";(function(t){function n(e){o.length||(r(),!0),o[o.length]=e}e.exports=n;var r,o=[],i=0;function a(){for(;i<o.length;){var e=i;if(i+=1,o[e].call(),i>1024){for(var t=0,n=o.length-i;t<n;t++)o[t]=o[t+i];o.length-=i,i=0}}o.length=0,i=0,!1}var s,l,u,c=void 0!==t?t:self,f=c.MutationObserver||c.WebKitMutationObserver;function d(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof f?(s=1,l=new f(a),u=document.createTextNode(""),l.observe(u,{characterData:!0}),r=function(){s=-s,u.data=s}):r=d(a),n.requestFlush=r,n.makeRequestCallFromTimer=d}).call(this,n(22))},function(e,t,n){"use strict";var r=n(49);e.exports=r;var o=c(!0),i=c(!1),a=c(null),s=c(void 0),l=c(0),u=c("");function c(e){var t=new r(r._44);return t._83=1,t._18=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return a;if(void 0===e)return s;if(!0===e)return o;if(!1===e)return i;if(0===e)return l;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(e){return new r((function(t,n){n(e)}))}return c(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r((function(e,n){if(0===t.length)return e([]);var o=t.length;function i(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof r&&s.then===r.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?i(a,s._18):(2===s._83&&n(s._18),void s.then((function(e){i(a,e)}),n))}var l=s.then;if("function"==typeof l)return void new r(l.bind(s)).then((function(e){i(a,e)}),n)}t[a]=s,0==--o&&e(t)}for(var a=0;a<t.length;a++)i(a,t[a])}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){e.forEach((function(e){r.resolve(e).then(t,n)}))}))},r.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,i="ArrayBuffer"in e;if(i)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};p.prototype.append=function(e,t){e=f(e),t=d(t);var n=this.map[e];this.map[e]=n?n+","+t:t},p.prototype.delete=function(e){delete this.map[f(e)]},p.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},p.prototype.set=function(e,t){this.map[f(e)]=d(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var c=[301,302,303,307,308];S.redirect=function(e,t){if(-1===c.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=_,e.Response=S,e.fetch=function(e,t){return new Promise((function(n,o){var i=new _(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new p,e.split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new S(o,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&r&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},e.fetch.polyfill=!0}function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(o&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(i&&r&&s(e))this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!i||!ArrayBuffer.prototype.isPrototypeOf(e)&&!l(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,n,r=m(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=g(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(e,t){var n,r,o=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),u.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function S(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(38),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,f=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.forward_ref"):60112,h=o?Symbol.for("react.suspense"):60113,p=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function w(){}function S(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=_.prototype;var E=S.prototype=new w;E.constructor=S,r(E,_.prototype),E.isPureReactComponent=!0;var T={current:null},k=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&!x.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:T.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var O=/\/+/g,I=[];function R(e,t,n,r){if(I.length){var o=I.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function M(e,t,n){return null==e?0:function e(t,n,r,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case a:l=!0}}if(l)return r(o,t,""===n?"."+N(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+N(s=t[u],u);l+=e(s,c,r,o)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+N(s,u++),r,o);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,r,n,(function(e){return e})):null!=e&&(P(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+n)),r.push(e))}function L(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(O,"$&/")+"/"),M(e,j,t=R(t,i,r,o)),A(t)}var F={current:null};function z(){var e=F.current;if(null===e)throw Error(v(321));return e}var U={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return L(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,D,t=R(null,null,t,n)),A(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return L(e,t,null,(function(e){return e})),t},only:function(e){if(!P(e))throw Error(v(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=u,t.PureComponent=S,t.StrictMode=l,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null==e)throw Error(v(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)k.call(t,c)&&!x.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return z().useCallback(e,t)},t.useContext=function(e,t){return z().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return z().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return z().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return z().useLayoutEffect(e,t)},t.useMemo=function(e,t){return z().useMemo(e,t)},t.useReducer=function(e,t,n){return z().useReducer(e,t,n)},t.useRef=function(e){return z().useRef(e)},t.useState=function(e){return z().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),o=n(38),i=n(82);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var l=!1,u=null,c=!1,f=null,d={onError:function(e){l=!0,u=e}};function h(e,t,n,r,o,i,a,c,f){l=!1,u=null,s.apply(d,arguments)}var p=null,m=null,g=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,o,i,s,d,p){if(h.apply(this,arguments),l){if(!l)throw Error(a(198));var m=u;l=!1,u=null,c||(c=!0,f=m)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function _(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!S[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in S[n]=t,n=t.eventTypes){var o=void 0,i=n[r],s=t,l=r;if(E.hasOwnProperty(l))throw Error(a(99,l));E[l]=i;var u=i.phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&w(u[o],s,l);o=!0}else i.registrationName?(w(i.registrationName,s,l),o=!0):o=!1;if(!o)throw Error(a(98,r,e))}}}}function w(e,t,n){if(T[e])throw Error(a(100,e));T[e]=t,k[e]=t.eventTypes[n].dependencies}var S=[],E={},T={},k={};function x(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&_()}var C=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),P=null,O=null,I=null;function R(e){if(e=m(e)){if("function"!=typeof P)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),P(e.stateNode,e.type,t))}}function A(e){O?I?I.push(e):I=[e]:O=e}function M(){if(O){var e=O,t=I;if(I=O=null,R(e),t)for(e=0;e<t.length;e++)R(t[e])}}function N(e,t){return e(t)}function D(e,t,n,r,o){return e(t,n,r,o)}function j(){}var L=N,F=!1,z=!1;function U(){null===O&&null===I||(j(),M())}function B(e,t,n){if(z)return e(t,n);z=!0;try{return L(e,t,n)}finally{z=!1,U()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,H={},W={};function q(e,t,n,r,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){$[e]=new q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];$[t]=new q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){$[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){$[e]=new q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){$[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){$[e]=new q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){$[e]=new q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){$[e]=new q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){$[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var K=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(K,X);$[t]=new q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(K,X);$[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(K,X);$[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){$[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),$.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){$[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var o=$.hasOwnProperty(t)?$[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!G.call(W,e)||!G.call(H,e)&&(V.test(e)?W[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,oe=Z?Symbol.for("react.profiler"):60114,ie=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,se=Z?Symbol.for("react.concurrent_mode"):60111,le=Z?Symbol.for("react.forward_ref"):60112,ue=Z?Symbol.for("react.suspense"):60113,ce=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,de=Z?Symbol.for("react.lazy"):60116,he=Z?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case oe:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case ie:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ge(e.type);case he:return ge(e.render);case de:if(e=1===e._status?e._result:null)return ge(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,i=ge(e.type);n=null,r&&(n=ge(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(J,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Se(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function ke(e,t){Te(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ce(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ce(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function xe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ce(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Pe(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Oe(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Ae(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Me(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ne="http://www.w3.org/1999/xhtml",De="http://www.w3.org/2000/svg";function je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,ze=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==De||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},Ge={},He={};function We(e){if(Ge[e])return Ge[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return Ge[e]=n[t];return e}C&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var qe=We("animationend"),$e=We("animationiteration"),Ke=We("animationstart"),Xe=We("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qe=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Qe.get(e);return void 0===t&&(t=new Map,Qe.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return tt(o),e;if(i===r)return tt(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var it=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(it=rt(it,e)),e=it,it=null,e){if(ot(e,at),it)throw Error(a(95));if(c)throw e=f,c=!1,f=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!C)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ct=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function dt(e,t,n,r){if(ct.length){var o=ct.pop();return o.topLevelType=e,o.eventSystemFlags=r,o.nativeEvent=t,o.targetInst=n,o}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Cn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=lt(e.nativeEvent);r=e.topLevelType;var i=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<S.length;l++){var u=S[l];u&&(u=u.extractEvents(r,t,i,o,a))&&(s=rt(s,u))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Kt(t,"scroll",!0);break;case"focus":case"blur":Kt(t,"focus",!0),Kt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Kt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&$t(e,t)}n.set(e,null)}}var mt,gt,vt,yt=!1,bt=[],_t=null,wt=null,St=null,Et=new Map,Tt=new Map,kt=[],xt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Pt(e,t,n,r,o){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:o,container:r}}function Ot(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function It(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=Pt(t,n,r,o,i),null!==t&&(null!==(t=Pn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function Rt(e){var t=Cn(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void i.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function At(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Pn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){At(e)&&n.delete(t)}function Nt(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Pn(e.blockedOn))&&mt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==_t&&At(_t)&&(_t=null),null!==wt&&At(wt)&&(wt=null),null!==St&&At(St)&&(St=null),Et.forEach(Mt),Tt.forEach(Mt)}function Dt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Nt)))}function jt(e){function t(t){return Dt(t,e)}if(0<bt.length){Dt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Dt(_t,e),null!==wt&&Dt(wt,e),null!==St&&Dt(St,e),Et.forEach(t),Tt.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Rt(n),null===n.blockedOn&&kt.shift()}var Lt={},Ft=new Map,zt=new Map,Ut=["abort","abort",qe,"animationEnd",$e,"animationIteration",Ke,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1],i="on"+(o[0].toUpperCase()+o.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[r],eventPriority:t},zt.set(r,t),Ft.set(r,i),Lt[o]=i}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(Ut,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Gt=0;Gt<Vt.length;Gt++)zt.set(Vt[Gt],0);var Ht=i.unstable_UserBlockingPriority,Wt=i.unstable_runWithPriority,qt=!0;function $t(e,t){Kt(t,e,!1)}function Kt(e,t,n){var r=zt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=Yt.bind(null,t,1,e);break;default:r=Qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){F||j();var o=Qt,i=F;F=!0;try{D(o,e,t,n,r)}finally{(F=i)||U()}}function Yt(e,t,n,r){Wt(Ht,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){if(qt)if(0<bt.length&&-1<xt.indexOf(e))e=Pt(null,e,t,n,r),bt.push(e);else{var o=Jt(e,t,n,r);if(null===o)Ot(e,r);else if(-1<xt.indexOf(e))e=Pt(o,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,o){switch(t){case"focus":return _t=It(_t,e,t,n,r,o),!0;case"dragenter":return wt=It(wt,e,t,n,r,o),!0;case"mouseover":return St=It(St,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Et.set(i,It(Et.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Tt.set(i,It(Tt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r)){Ot(e,r),e=dt(e,r,null,t);try{B(ht,e)}finally{ft(e)}}}}function Jt(e,t,n,r){if(null!==(n=Cn(n=lt(r)))){var o=Ze(n);if(null===o)n=null;else{var i=o.tag;if(13===i){if(null!==(n=et(o)))return n;n=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}e=dt(e,r,n,t);try{B(ht,e)}finally{ft(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Ne;function ln(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=k[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function un(){}function cn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function hn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,gn=null;function vn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"==typeof setTimeout?setTimeout:void 0,_n="function"==typeof clearTimeout?clearTimeout:void 0;function wn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),Tn="__reactInternalInstance$"+En,kn="__reactEventHandlers$"+En,xn="__reactContainere$"+En;function Cn(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xn]||n[Tn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Sn(e);null!==e;){if(n=e[Tn])return n;e=Sn(e)}return t}n=(e=n).parentNode}return null}function Pn(e){return!(e=e[Tn]||e[xn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function On(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function In(e){return e[kn]||null}function Rn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function An(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function Mn(e,t,n){(t=An(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Nn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Rn(t);for(t=n.length;0<t--;)Mn(n[t],"captured",e);for(t=0;t<n.length;t++)Mn(n[t],"bubbled",e)}}function Dn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=An(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function jn(e){e&&e.dispatchConfig.registrationName&&Dn(e._targetInst,null,e)}function Ln(e){ot(e,Nn)}var Fn=null,zn=null,Un=null;function Bn(){if(Un)return Un;var e,t,n=zn,r=n.length,o="value"in Fn?Fn.value:Fn.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Un=o.slice(e,1<t?1-t:void 0)}function Vn(){return!0}function Gn(){return!1}function Hn(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vn:Gn,this.isPropagationStopped=Gn,this}function Wn(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function qn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Wn,e.release=qn}o(Hn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){this.isPersistent=Vn},isPersistent:Gn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Gn,this._dispatchInstances=this._dispatchListeners=null}}),Hn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Hn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,$n(n),n},$n(Hn);var Kn=Hn.extend({data:null}),Xn=Hn.extend({data:null}),Yn=[9,13,27,32],Qn=C&&"CompositionEvent"in window,Jn=null;C&&"documentMode"in document&&(Jn=document.documentMode);var Zn=C&&"TextEvent"in window&&!Jn,er=C&&(!Qn||Jn&&8<Jn&&11>=Jn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function or(e,t){switch(e){case"keyup":return-1!==Yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ir(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var o;if(Qn)e:{switch(e){case"compositionstart":var i=nr.compositionStart;break e;case"compositionend":i=nr.compositionEnd;break e;case"compositionupdate":i=nr.compositionUpdate;break e}i=void 0}else ar?or(e,n)&&(i=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=nr.compositionStart);return i?(er&&"ko"!==n.locale&&(ar||i!==nr.compositionStart?i===nr.compositionEnd&&ar&&(o=Bn()):(zn="value"in(Fn=r)?Fn.value:Fn.textContent,ar=!0)),i=Kn.getPooled(i,t,n,r),o?i.data=o:null!==(o=ir(n))&&(i.data=o),Ln(i),o=i):o=null,(e=Zn?function(e,t){switch(e){case"compositionend":return ir(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Qn&&or(e,t)?(e=Bn(),Un=zn=Fn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Xn.getPooled(nr.beforeInput,t,n,r)).data=e,Ln(t)):t=null,null===o?t:null===t?o:[o,t]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!lr[e.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=Hn.getPooled(cr.change,e,t,n)).type="change",A(n),Ln(e),e}var dr=null,hr=null;function pr(e){st(e)}function mr(e){if(we(On(e)))return e}function gr(e,t){if("change"===e)return t}var vr=!1;function yr(){dr&&(dr.detachEvent("onpropertychange",br),hr=dr=null)}function br(e){if("value"===e.propertyName&&mr(hr))if(e=fr(hr,e,lt(e)),F)st(e);else{F=!0;try{N(pr,e)}finally{F=!1,U()}}}function _r(e,t,n){"focus"===e?(yr(),hr=n,(dr=t).attachEvent("onpropertychange",br)):"blur"===e&&yr()}function wr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(hr)}function Sr(e,t){if("click"===e)return mr(t)}function Er(e,t){if("input"===e||"change"===e)return mr(t)}C&&(vr=ut("input")&&(!document.documentMode||9<document.documentMode));var Tr={eventTypes:cr,_isInputEventSupported:vr,extractEvents:function(e,t,n,r){var o=t?On(t):window,i=o.nodeName&&o.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===o.type)var a=gr;else if(ur(o))if(vr)a=Er;else{a=wr;var s=_r}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=Sr);if(a&&(a=a(e,t)))return fr(a,n,r);s&&s(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Ce(o,"number",o.value)}},kr=Hn.extend({view:null,detail:null}),xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xr[e])&&!!t[e]}function Pr(){return Cr}var Or=0,Ir=0,Rr=!1,Ar=!1,Mr=kr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Pr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Or;return Or=e.screenX,Rr?"mousemove"===e.type?e.screenX-t:0:(Rr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ir;return Ir=e.screenY,Ar?"mousemove"===e.type?e.screenY-t:0:(Ar=!0,0)}}),Nr=Mr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Dr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},jr={eventTypes:Dr,extractEvents:function(e,t,n,r,o){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&0==(32&o)&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Cn(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Mr,l=Dr.mouseLeave,u=Dr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Nr,l=Dr.pointerLeave,u=Dr.pointerEnter,c="pointer");if(e=null==a?i:On(a),i=null==t?i:On(t),(l=s.getPooled(l,a,n,r)).type=c+"leave",l.target=e,l.relatedTarget=i,(n=s.getPooled(u,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(u=c,a=0,e=s=r;e;e=Rn(e))a++;for(e=0,t=u;t;t=Rn(t))e++;for(;0<a-e;)s=Rn(s),a--;for(;0<e-a;)u=Rn(u),e--;for(;a--;){if(s===u||s===u.alternate)break e;s=Rn(s),u=Rn(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)s.push(r),r=Rn(r);for(r=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)r.push(c),c=Rn(c);for(c=0;c<s.length;c++)Dn(s[c],"bubbled",l);for(c=r.length;0<c--;)Dn(r[c],"captured",n);return 0==(64&o)?[l]:[l,n]}};var Lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fr=Object.prototype.hasOwnProperty;function zr(e,t){if(Lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fr.call(t,n[r])||!Lr(e[n[r]],t[n[r]]))return!1;return!0}var Ur=C&&"documentMode"in document&&11>=document.documentMode,Br={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vr=null,Gr=null,Hr=null,Wr=!1;function qr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wr||null==Vr||Vr!==cn(n)?null:("selectionStart"in(n=Vr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hr&&zr(Hr,n)?null:(Hr=n,(e=Hn.getPooled(Br.select,Gr,e,t)).type="select",e.target=Vr,Ln(e),e))}var $r={eventTypes:Br,extractEvents:function(e,t,n,r,o,i){if(!(i=!(o=i||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{o=Je(o),i=k.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?On(t):window,e){case"focus":(ur(o)||"true"===o.contentEditable)&&(Vr=o,Gr=t,Hr=null);break;case"blur":Hr=Gr=Vr=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,qr(n,r);case"selectionchange":if(Ur)break;case"keydown":case"keyup":return qr(n,r)}return null}},Kr=Hn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xr=Hn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yr=kr.extend({relatedTarget:null});function Qr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eo=kr.extend({key:function(e){if(e.key){var t=Jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Pr,charCode:function(e){return"keypress"===e.type?Qr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),to=Mr.extend({dataTransfer:null}),no=kr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Pr}),ro=Hn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),oo=Mr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),io={eventTypes:Lt,extractEvents:function(e,t,n,r){var o=Ft.get(e);if(!o)return null;switch(e){case"keypress":if(0===Qr(n))return null;case"keydown":case"keyup":e=eo;break;case"blur":case"focus":e=Yr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=to;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=no;break;case qe:case $e:case Ke:e=Kr;break;case Xe:e=ro;break;case"scroll":e=kr;break;case"wheel":e=oo;break;case"copy":case"cut":case"paste":e=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Nr;break;default:e=Hn}return Ln(t=e.getPooled(o,t,n,r)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),p=In,m=Pn,g=On,x({SimpleEventPlugin:io,EnterLeaveEventPlugin:jr,ChangeEventPlugin:Tr,SelectEventPlugin:$r,BeforeInputEventPlugin:sr});var ao=[],so=-1;function lo(e){0>so||(e.current=ao[so],ao[so]=null,so--)}function uo(e,t){so++,ao[so]=e.current,e.current=t}var co={},fo={current:co},ho={current:!1},po=co;function mo(e,t){var n=e.type.contextTypes;if(!n)return co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function go(e){return null!=(e=e.childContextTypes)}function vo(){lo(ho),lo(fo)}function yo(e,t,n){if(fo.current!==co)throw Error(a(168));uo(fo,t),uo(ho,n)}function bo(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(a(108,ge(t)||"Unknown",i));return o({},n,{},r)}function _o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||co,po=fo.current,uo(fo,e),uo(ho,ho.current),!0}function wo(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bo(e,t,po),r.__reactInternalMemoizedMergedChildContext=e,lo(ho),lo(fo),uo(fo,e)):lo(ho),uo(ho,n)}var So=i.unstable_runWithPriority,Eo=i.unstable_scheduleCallback,To=i.unstable_cancelCallback,ko=i.unstable_requestPaint,xo=i.unstable_now,Co=i.unstable_getCurrentPriorityLevel,Po=i.unstable_ImmediatePriority,Oo=i.unstable_UserBlockingPriority,Io=i.unstable_NormalPriority,Ro=i.unstable_LowPriority,Ao=i.unstable_IdlePriority,Mo={},No=i.unstable_shouldYield,Do=void 0!==ko?ko:function(){},jo=null,Lo=null,Fo=!1,zo=xo(),Uo=1e4>zo?xo:function(){return xo()-zo};function Bo(){switch(Co()){case Po:return 99;case Oo:return 98;case Io:return 97;case Ro:return 96;case Ao:return 95;default:throw Error(a(332))}}function Vo(e){switch(e){case 99:return Po;case 98:return Oo;case 97:return Io;case 96:return Ro;case 95:return Ao;default:throw Error(a(332))}}function Go(e,t){return e=Vo(e),So(e,t)}function Ho(e,t,n){return e=Vo(e),Eo(e,t,n)}function Wo(e){return null===jo?(jo=[e],Lo=Eo(Po,$o)):jo.push(e),Mo}function qo(){if(null!==Lo){var e=Lo;Lo=null,To(e)}$o()}function $o(){if(!Fo&&null!==jo){Fo=!0;var e=0;try{var t=jo;Go(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),jo=null}catch(t){throw null!==jo&&(jo=jo.slice(e+1)),Eo(Po,qo),t}finally{Fo=!1}}}function Ko(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Xo(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Yo={current:null},Qo=null,Jo=null,Zo=null;function ei(){Zo=Jo=Qo=null}function ti(e){var t=Yo.current;lo(Yo),e.type._context._currentValue=t}function ni(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ri(e,t){Qo=e,Zo=Jo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ia=!0),e.firstContext=null)}function oi(e,t){if(Zo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Jo){if(null===Qo)throw Error(a(308));Jo=t,Qo.dependencies={expirationTime:0,firstContext:t,responders:null}}else Jo=Jo.next=t;return e._currentValue}var ii=!1;function ai(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function si(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function li(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ui(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ci(e,t){var n=e.alternate;null!==n&&si(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function fi(e,t,n,r){var i=e.updateQueue;ii=!1;var a=i.baseQueue,s=i.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,i.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=i.baseState,c=0,f=null,d=null,h=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(d=h=m,f=u):h=h.next=m,s>c&&(c=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),il(s,p.suspenseConfig);e:{var g=e,v=p;switch(s=t,m=n,v.tag){case 1:if("function"==typeof(g=v.payload)){u=g.call(m,u,s);break e}u=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(s="function"==typeof(g=v.payload)?g.call(m,u,s):g))break e;u=o({},u,s);break e;case 2:ii=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=i.effects)?i.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=i.shared.pending))break;p=a.next=s.next,s.next=l,i.baseQueue=a=s,i.shared.pending=null}}null===h?f=u:h.next=d,i.baseState=f,i.baseQueue=h,al(c),e.expirationTime=c,e.memoizedState=u}}function di(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=o,o=n,"function"!=typeof r)throw Error(a(191,r));r.call(o)}}}var hi=Y.ReactCurrentBatchConfig,pi=(new r.Component).refs;function mi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var gi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=qs(),o=hi.suspense;(o=li(r=$s(r,e,o),o)).payload=t,null!=n&&(o.callback=n),ui(e,o),Ks(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=qs(),o=hi.suspense;(o=li(r=$s(r,e,o),o)).tag=1,o.payload=t,null!=n&&(o.callback=n),ui(e,o),Ks(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=qs(),r=hi.suspense;(r=li(n=$s(n,e,r),r)).tag=2,null!=t&&(r.callback=t),ui(e,r),Ks(e,n)}};function vi(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!zr(n,r)||!zr(o,i))}function yi(e,t,n){var r=!1,o=co,i=t.contextType;return"object"==typeof i&&null!==i?i=oi(i):(o=go(t)?po:fo.current,i=(r=null!=(r=t.contextTypes))?mo(e,o):co),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function bi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gi.enqueueReplaceState(t,t.state,null)}function _i(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=pi,ai(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=oi(i):(i=go(t)?po:fo.current,o.context=mo(e,i)),fi(e,n,o,r),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(mi(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&gi.enqueueReplaceState(o,o.state,null),fi(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var wi=Array.isArray;function Si(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===pi&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ei(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ti(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=xl(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ol(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Si(e,t,n),r.return=e,r):((r=Cl(n.type,n.key,n.props,null,e.mode,r)).ref=Si(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Il(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Pl(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ol(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Cl(t.type,t.key,t.props,null,e.mode,n)).ref=Si(e,null,t),n.return=e,n;case te:return(t=Il(t,e.mode,n)).return=e,t}if(wi(t)||me(t))return(t=Pl(t,e.mode,n,null)).return=e,t;Ei(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===o?n.type===ne?f(e,t,n.props.children,r,o):u(e,t,n,r):null;case te:return n.key===o?c(e,t,n,r):null}if(wi(n)||me(n))return null!==o?null:f(e,t,n,r,null);Ei(e,n)}return null}function p(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,o,r.key):u(t,e,r,o);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(wi(r)||me(r))return f(t,e=e.get(n)||null,r,o,null);Ei(t,r)}return null}function m(o,a,s,l){for(var u=null,c=null,f=a,m=a=0,g=null;null!==f&&m<s.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var v=h(o,f,s[m],l);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(o,f),a=i(v,a,m),null===c?u=v:c.sibling=v,c=v,f=g}if(m===s.length)return n(o,f),u;if(null===f){for(;m<s.length;m++)null!==(f=d(o,s[m],l))&&(a=i(f,a,m),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(o,f);m<s.length;m++)null!==(g=p(f,o,m,s[m],l))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),a=i(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&f.forEach((function(e){return t(o,e)})),u}function g(o,s,l,u){var c=me(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var f=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(o,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=i(b,s,g),null===f?c=b:f.sibling=b,f=b,m=v}if(y.done)return n(o,m),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(o,y.value,u))&&(s=i(y,s,g),null===f?c=y:f.sibling=y,f=y);return c}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=p(m,o,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(o,e)})),c}return function(e,r,i,l){var u="object"==typeof i&&null!==i&&i.type===ne&&null===i.key;u&&(i=i.props.children);var c="object"==typeof i&&null!==i;if(c)switch(i.$$typeof){case ee:e:{for(c=i.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(i.type===ne){n(e,u.sibling),(r=o(u,i.props.children)).return=e,e=r;break e}break;default:if(u.elementType===i.type){n(e,u.sibling),(r=o(u,i.props)).ref=Si(e,u,i),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}i.type===ne?((r=Pl(i.props.children,e.mode,l,i.key)).return=e,e=r):((l=Cl(i.type,i.key,i.props,null,e.mode,l)).ref=Si(e,r,i),l.return=e,e=l)}return s(e);case te:e:{for(u=i.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Il(i,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Ol(i,e.mode,l)).return=e,e=r),s(e);if(wi(i))return m(e,r,i,l);if(me(i))return g(e,r,i,l);if(c&&Ei(e,i),void 0===i&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var ki=Ti(!0),xi=Ti(!1),Ci={},Pi={current:Ci},Oi={current:Ci},Ii={current:Ci};function Ri(e){if(e===Ci)throw Error(a(174));return e}function Ai(e,t){switch(uo(Ii,t),uo(Oi,e),uo(Pi,Ci),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Le(null,"");break;default:t=Le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}lo(Pi),uo(Pi,t)}function Mi(){lo(Pi),lo(Oi),lo(Ii)}function Ni(e){Ri(Ii.current);var t=Ri(Pi.current),n=Le(t,e.type);t!==n&&(uo(Oi,e),uo(Pi,n))}function Di(e){Oi.current===e&&(lo(Pi),lo(Oi))}var ji={current:0};function Li(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fi(e,t){return{responder:e,props:t}}var zi=Y.ReactCurrentDispatcher,Ui=Y.ReactCurrentBatchConfig,Bi=0,Vi=null,Gi=null,Hi=null,Wi=!1;function qi(){throw Error(a(321))}function $i(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lr(e[n],t[n]))return!1;return!0}function Ki(e,t,n,r,o,i){if(Bi=i,Vi=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,zi.current=null===e||null===e.memoizedState?va:ya,e=n(r,o),t.expirationTime===Bi){i=0;do{if(t.expirationTime=0,!(25>i))throw Error(a(301));i+=1,Hi=Gi=null,t.updateQueue=null,zi.current=ba,e=n(r,o)}while(t.expirationTime===Bi)}if(zi.current=ga,t=null!==Gi&&null!==Gi.next,Bi=0,Hi=Gi=Vi=null,Wi=!1,t)throw Error(a(300));return e}function Xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Hi?Vi.memoizedState=Hi=e:Hi=Hi.next=e,Hi}function Yi(){if(null===Gi){var e=Vi.alternate;e=null!==e?e.memoizedState:null}else e=Gi.next;var t=null===Hi?Vi.memoizedState:Hi.next;if(null!==t)Hi=t,Gi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Gi=e).memoizedState,baseState:Gi.baseState,baseQueue:Gi.baseQueue,queue:Gi.queue,next:null},null===Hi?Vi.memoizedState=Hi=e:Hi=Hi.next=e}return Hi}function Qi(e,t){return"function"==typeof t?t(e):t}function Ji(e){var t=Yi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Gi,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var l=s=i=null,u=o;do{var c=u.expirationTime;if(c<Bi){var f={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=f,i=r):l=l.next=f,c>Vi.expirationTime&&(Vi.expirationTime=c,al(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),il(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==o);null===l?i=r:l.next=s,Lr(r,t.memoizedState)||(Ia=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Zi(e){var t=Yi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Lr(i,t.memoizedState)||(Ia=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ea(e){var t=Xi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e}).dispatch=ma.bind(null,Vi,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Vi.updateQueue)?(t={lastEffect:null},Vi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Yi().memoizedState}function ra(e,t,n,r){var o=Xi();Vi.effectTag|=e,o.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function oa(e,t,n,r){var o=Yi();r=void 0===r?null:r;var i=void 0;if(null!==Gi){var a=Gi.memoizedState;if(i=a.destroy,null!==r&&$i(r,a.deps))return void ta(t,n,i,r)}Vi.effectTag|=e,o.memoizedState=ta(1|t,n,i,r)}function ia(e,t){return ra(516,4,e,t)}function aa(e,t){return oa(516,4,e,t)}function sa(e,t){return oa(4,2,e,t)}function la(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ua(e,t,n){return n=null!=n?n.concat([e]):null,oa(4,2,la.bind(null,t,e),n)}function ca(){}function fa(e,t){return Xi().memoizedState=[e,void 0===t?null:t],e}function da(e,t){var n=Yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$i(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ha(e,t){var n=Yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$i(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var r=Bo();Go(98>r?98:r,(function(){e(!0)})),Go(97<r?97:r,(function(){var r=Ui.suspense;Ui.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ui.suspense=r}}))}function ma(e,t,n){var r=qs(),o=hi.suspense;o={expirationTime:r=$s(r,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===Vi||null!==i&&i===Vi)Wi=!0,o.expirationTime=Bi,Vi.expirationTime=Bi;else{if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.eagerReducer=i,o.eagerState=s,Lr(s,a))return}catch(e){}Ks(e,r)}}var ga={readContext:oi,useCallback:qi,useContext:qi,useEffect:qi,useImperativeHandle:qi,useLayoutEffect:qi,useMemo:qi,useReducer:qi,useRef:qi,useState:qi,useDebugValue:qi,useResponder:qi,useDeferredValue:qi,useTransition:qi},va={readContext:oi,useCallback:fa,useContext:oi,useEffect:ia,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Xi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,Vi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Xi().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:Fi,useDeferredValue:function(e,t){var n=ea(e),r=n[0],o=n[1];return ia((function(){var n=Ui.suspense;Ui.suspense=void 0===t?null:t;try{o(e)}finally{Ui.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},ya={readContext:oi,useCallback:da,useContext:oi,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:ha,useReducer:Ji,useRef:na,useState:function(){return Ji(Qi)},useDebugValue:ca,useResponder:Fi,useDeferredValue:function(e,t){var n=Ji(Qi),r=n[0],o=n[1];return aa((function(){var n=Ui.suspense;Ui.suspense=void 0===t?null:t;try{o(e)}finally{Ui.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Ji(Qi),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},ba={readContext:oi,useCallback:da,useContext:oi,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:ha,useReducer:Zi,useRef:na,useState:function(){return Zi(Qi)},useDebugValue:ca,useResponder:Fi,useDeferredValue:function(e,t){var n=Zi(Qi),r=n[0],o=n[1];return aa((function(){var n=Ui.suspense;Ui.suspense=void 0===t?null:t;try{o(e)}finally{Ui.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zi(Qi),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},_a=null,wa=null,Sa=!1;function Ea(e,t){var n=Tl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ta(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ka(e){if(Sa){var t=wa;if(t){var n=t;if(!Ta(e,t)){if(!(t=wn(n.nextSibling))||!Ta(e,t))return e.effectTag=-1025&e.effectTag|2,Sa=!1,void(_a=e);Ea(_a,n)}_a=e,wa=wn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Sa=!1,_a=e}}function xa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_a=e}function Ca(e){if(e!==_a)return!1;if(!Sa)return xa(e),Sa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=wa;t;)Ea(e,t),t=wn(t.nextSibling);if(xa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){wa=wn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}wa=null}}else wa=_a?wn(e.stateNode.nextSibling):null;return!0}function Pa(){wa=_a=null,Sa=!1}var Oa=Y.ReactCurrentOwner,Ia=!1;function Ra(e,t,n,r){t.child=null===e?xi(t,null,n,r):ki(t,e.child,n,r)}function Aa(e,t,n,r,o){n=n.render;var i=t.ref;return ri(t,o),r=Ki(e,t,n,r,i,o),null===e||Ia?(t.effectTag|=1,Ra(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Ka(e,t,o))}function Ma(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!=typeof a||kl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Cl(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Na(e,t,a,r,o,i))}return a=e.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:zr)(o,r)&&e.ref===t.ref)?Ka(e,t,i):(t.effectTag|=1,(e=xl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Na(e,t,n,r,o,i){return null!==e&&zr(e.memoizedProps,r)&&e.ref===t.ref&&(Ia=!1,o<i)?(t.expirationTime=e.expirationTime,Ka(e,t,i)):ja(e,t,n,r,i)}function Da(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ja(e,t,n,r,o){var i=go(n)?po:fo.current;return i=mo(t,i),ri(t,o),n=Ki(e,t,n,r,i,o),null===e||Ia?(t.effectTag|=1,Ra(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Ka(e,t,o))}function La(e,t,n,r,o){if(go(n)){var i=!0;_o(t)}else i=!1;if(ri(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yi(t,n,r),_i(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=oi(u):u=mo(t,u=go(n)?po:fo.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&bi(t,a,r,u),ii=!1;var d=t.memoizedState;a.state=d,fi(t,r,a,o),l=t.memoizedState,s!==r||d!==l||ho.current||ii?("function"==typeof c&&(mi(t,n,c,r),l=t.memoizedState),(s=ii||vi(t,n,s,r,d,l,u))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,si(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Xo(t.type,s),l=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=oi(u):u=mo(t,u=go(n)?po:fo.current),(f="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&bi(t,a,r,u),ii=!1,l=t.memoizedState,a.state=l,fi(t,r,a,o),d=t.memoizedState,s!==r||l!==d||ho.current||ii?("function"==typeof c&&(mi(t,n,c,r),d=t.memoizedState),(c=ii||vi(t,n,s,r,l,d,u))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Fa(e,t,n,r,i,o)}function Fa(e,t,n,r,o,i){Da(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return o&&wo(t,n,!1),Ka(e,t,i);r=t.stateNode,Oa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,s,i)):Ra(e,t,s,i),t.memoizedState=r.state,o&&wo(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?yo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yo(0,t.context,!1),Ai(e,t.containerInfo)}var Ua,Ba,Va,Ga={dehydrated:null,retryTime:0};function Ha(e,t,n){var r,o=t.mode,i=t.pendingProps,a=ji.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),uo(ji,1&a),null===e){if(void 0!==i.fallback&&ka(t),s){if(s=i.fallback,(i=Pl(null,o,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Pl(s,o,n,null)).return=t,i.sibling=n,t.memoizedState=Ga,t.child=i,n}return o=i.children,t.memoizedState=null,t.child=xi(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,s){if(i=i.fallback,(n=xl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(o=xl(o,i)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=Ga,t.child=n,o}return n=ki(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=i.fallback,(i=Pl(null,o,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Pl(s,o,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=Ga,t.child=i,n}return t.memoizedState=null,t.child=ki(t,e,i.children,n)}function Wa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ni(e.return,t)}function qa(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=o,a.lastEffect=i)}function $a(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ra(e,t,r.children,n),0!=(2&(r=ji.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n);else if(19===e.tag)Wa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(uo(ji,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Li(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),qa(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Li(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}qa(t,!0,n,null,i,t.lastEffect);break;case"together":qa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ka(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&al(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ya(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return go(t.type)&&vo(),null;case 3:return Mi(),lo(ho),lo(fo),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ca(t)||(t.effectTag|=4),null;case 5:Di(t),n=Ri(Ii.current);var i=t.type;if(null!==e&&null!=t.stateNode)Ba(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ri(Pi.current),Ca(t)){r=t.stateNode,i=t.type;var s=t.memoizedProps;switch(r[Tn]=t,r[kn]=s,i){case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(e=0;e<Ye.length;e++)$t(Ye[e],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"form":$t("reset",r),$t("submit",r);break;case"details":$t("toggle",r);break;case"input":Ee(r,s),$t("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$t("invalid",r),ln(n,"onChange");break;case"textarea":Re(r,s),$t("invalid",r),ln(n,"onChange")}for(var l in on(i,s),e=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"==typeof u?r.textContent!==u&&(e=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(e=["children",""+u]):T.hasOwnProperty(l)&&null!=u&&ln(n,l)}switch(i){case"input":_e(r),xe(r,s,!0);break;case"textarea":_e(r),Me(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=je(i)),e===sn?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(i,{is:r.is}):(e=l.createElement(i),"select"===i&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,i),e[Tn]=t,e[kn]=r,Ua(e,t),t.stateNode=e,l=an(i,r),i){case"iframe":case"object":case"embed":$t("load",e),u=r;break;case"video":case"audio":for(u=0;u<Ye.length;u++)$t(Ye[u],e);u=r;break;case"source":$t("error",e),u=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),u=r;break;case"form":$t("reset",e),$t("submit",e),u=r;break;case"details":$t("toggle",e),u=r;break;case"input":Ee(e,r),u=Se(e,r),$t("invalid",e),ln(n,"onChange");break;case"option":u=Pe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=o({},r,{value:void 0}),$t("invalid",e),ln(n,"onChange");break;case"textarea":Re(e,r),u=Ie(e,r),$t("invalid",e),ln(n,"onChange");break;default:u=r}on(i,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?nn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ze(e,f):"children"===s?"string"==typeof f?("textarea"!==i||""!==f)&&Ue(e,f):"number"==typeof f&&Ue(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?null!=f&&ln(n,s):null!=f&&Q(e,s,f,l))}switch(i){case"input":_e(e),xe(e,r,!1);break;case"textarea":_e(e),Me(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Oe(e,!!r.multiple,n,!1):null!=r.defaultValue&&Oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=un)}vn(i,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Va(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Ri(Ii.current),Ri(Pi.current),Ca(t)?(n=t.stateNode,r=t.memoizedProps,n[Tn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Tn]=t,t.stateNode=n)}return null;case 13:return lo(ji),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ca(t):(r=null!==(i=e.memoizedState),n||null===i||null!==(i=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=i,i.nextEffect=s):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&ji.current)?Cs===_s&&(Cs=ws):(Cs!==_s&&Cs!==ws||(Cs=Ss),0!==As&&null!==Ts&&(Ml(Ts,xs),Nl(Ts,As)))),(n||r)&&(t.effectTag|=4),null);case 4:return Mi(),null;case 10:return ti(t),null;case 17:return go(t.type)&&vo(),null;case 19:if(lo(ji),null===(r=t.memoizedState))return null;if(i=0!=(64&t.effectTag),null===(s=r.rendering)){if(i)Xa(r,!1);else if(Cs!==_s||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Li(s))){for(t.effectTag|=64,Xa(r,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=s,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return uo(ji,1&ji.current|2),t.child}s=s.sibling}}else{if(!i)if(null!==(e=Li(s))){if(t.effectTag|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Xa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Uo()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,Xa(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Uo()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Uo(),n.sibling=null,t=ji.current,uo(ji,i?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Qa(e){switch(e.tag){case 1:go(e.type)&&vo();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Mi(),lo(ho),lo(fo),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Di(e),null;case 13:return lo(ji),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return lo(ji),null;case 4:return Mi(),null;case 10:return ti(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:ve(t)}}Ua=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ba=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var s,l,u=t.stateNode;switch(Ri(Pi.current),e=null,n){case"input":a=Se(u,a),r=Se(u,r),e=[];break;case"option":a=Pe(u,a),r=Pe(u,r),e=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),e=[];break;case"textarea":a=Ie(u,a),r=Ie(u,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(u.onclick=un)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,c)):"children"===s?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(T.hasOwnProperty(s)?(null!=c&&ln(i,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Va=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Za="function"==typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ts(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){yl(e,t)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function os(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void os(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Xo(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&di(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}di(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&jt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"==typeof Sl&&Sl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Go(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var o=t;try{n()}catch(e){yl(o,e)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){yl(e,t)}}(t,n);break;case 5:ts(t);break;case 4:cs(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=un));else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function cs(e,t,n){for(var r,o,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var l=e,u=i,c=n,f=u;;)if(as(l,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===u)break e;for(;null===f.sibling;){if(null===f.return||f.return===u)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o?(l=r,u=i.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(as(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function fs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[kn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Te(n,r),an(e,o),t=an(e,r),o=0;o<i.length;o+=2){var s=i[o],l=i[o+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?ze(n,l):"children"===s?Ue(n,l):Q(n,s,l,t)}switch(e){case"input":ke(n,r);break;case"textarea":Ae(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Oe(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Oe(n,!!r.multiple,r.defaultValue,!0):Oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,jt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ns=Uo()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,r?"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,o=null!=(o=e.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,i.style.display=tn("display",o));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ds(t);case 19:return void ds(t);case 17:return}throw Error(a(163))}function ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=_l.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var hs="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=li(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){js||(js=!0,Ls=r),es(e,t)},n}function ms(e,t,n){(n=li(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return es(e,t),r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Fs?Fs=new Set([this]):Fs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var gs,vs=Math.ceil,ys=Y.ReactCurrentDispatcher,bs=Y.ReactCurrentOwner,_s=0,ws=3,Ss=4,Es=0,Ts=null,ks=null,xs=0,Cs=_s,Ps=null,Os=1073741823,Is=1073741823,Rs=null,As=0,Ms=!1,Ns=0,Ds=null,js=!1,Ls=null,Fs=null,zs=!1,Us=null,Bs=90,Vs=null,Gs=0,Hs=null,Ws=0;function qs(){return 0!=(48&Es)?1073741821-(Uo()/10|0):0!==Ws?Ws:Ws=1073741821-(Uo()/10|0)}function $s(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Bo();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Es))return xs;if(null!==n)e=Ko(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Ko(e,150,100);break;case 97:case 96:e=Ko(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ts&&e===xs&&--e,e}function Ks(e,t){if(50<Gs)throw Gs=0,Hs=null,Error(a(185));if(null!==(e=Xs(e,t))){var n=Bo();1073741823===t?0!=(8&Es)&&0==(48&Es)?Zs(e):(Qs(e),0===Es&&qo()):Qs(e),0==(4&Es)||98!==n&&99!==n||(null===Vs?Vs=new Map([[e,t]]):(void 0===(n=Vs.get(e))||n>t)&&Vs.set(e,t))}}function Xs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(Ts===o&&(al(t),Cs===Ss&&Ml(o,xs)),Nl(o,t)),o}function Ys(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Al(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Qs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wo(Zs.bind(null,e));else{var t=Ys(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=qs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=e.callbackPriority;if(e.callbackExpirationTime===t&&o>=r)return;n!==Mo&&To(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Wo(Zs.bind(null,e)):Ho(r,Js.bind(null,e),{timeout:10*(1073741821-t)-Uo()}),e.callbackNode=t}}}function Js(e,t){if(Ws=0,t)return Dl(e,t=qs()),Qs(e),null;var n=Ys(e);if(0!==n){if(t=e.callbackNode,0!=(48&Es))throw Error(a(327));if(ml(),e===Ts&&n===xs||nl(e,n),null!==ks){var r=Es;Es|=16;for(var o=ol();;)try{ll();break}catch(t){rl(e,t)}if(ei(),Es=r,ys.current=o,1===Cs)throw t=Ps,nl(e,n),Ml(e,n),Qs(e),t;if(null===ks)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Cs,Ts=null,r){case _s:case 1:throw Error(a(345));case 2:Dl(e,2<n?2:n);break;case ws:if(Ml(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fl(o)),1073741823===Os&&10<(o=Ns+500-Uo())){if(Ms){var i=e.lastPingedTime;if(0===i||i>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(i=Ys(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(dl.bind(null,e),o);break}dl(e);break;case Ss:if(Ml(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fl(o)),Ms&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(o=Ys(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Is?r=10*(1073741821-Is)-Uo():1073741823===Os?r=0:(r=10*(1073741821-Os)-5e3,0>(r=(o=Uo())-r)&&(r=0),(n=10*(1073741821-n)-o)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(dl.bind(null,e),r);break}dl(e);break;case 5:if(1073741823!==Os&&null!==Rs){i=Os;var s=Rs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(o=0|s.busyDelayMs,r=(i=Uo()-(10*(1073741821-i)-(0|s.timeoutMs||5e3)))<=o?0:o+r-i),10<r){Ml(e,n),e.timeoutHandle=bn(dl.bind(null,e),r);break}}dl(e);break;default:throw Error(a(329))}if(Qs(e),e.callbackNode===t)return Js.bind(null,e)}}return null}function Zs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Es))throw Error(a(327));if(ml(),e===Ts&&t===xs||nl(e,t),null!==ks){var n=Es;Es|=16;for(var r=ol();;)try{sl();break}catch(t){rl(e,t)}if(ei(),Es=n,ys.current=r,1===Cs)throw n=Ps,nl(e,t),Ml(e,t),Qs(e),n;if(null!==ks)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ts=null,dl(e),Qs(e)}return null}function el(e,t){var n=Es;Es|=1;try{return e(t)}finally{0===(Es=n)&&qo()}}function tl(e,t){var n=Es;Es&=-2,Es|=8;try{return e(t)}finally{0===(Es=n)&&qo()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,_n(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vo();break;case 3:Mi(),lo(ho),lo(fo);break;case 5:Di(r);break;case 4:Mi();break;case 13:case 19:lo(ji);break;case 10:ti(r)}n=n.return}Ts=e,ks=xl(e.current,null),xs=t,Cs=_s,Ps=null,Is=Os=1073741823,Rs=null,As=0,Ms=!1}function rl(e,t){for(;;){try{if(ei(),zi.current=ga,Wi)for(var n=Vi.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Bi=0,Hi=Gi=Vi=null,Wi=!1,null===ks||null===ks.return)return Cs=1,Ps=t,ks=null;e:{var o=e,i=ks.return,a=ks,s=t;if(t=xs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&ji.current),f=i;do{var d;if(d=13===f.tag){var h=f.memoizedState;if(null!==h)d=null!==h.dehydrated;else{var p=f.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(d){var m=f.updateQueue;if(null===m){var g=new Set;g.add(l),f.updateQueue=g}else m.add(l);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=li(1073741823,null);v.tag=2,ui(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=o.pingCache;if(null===y?(y=o.pingCache=new hs,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var b=bl.bind(null,o,l,a);l.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(a))}5!==Cs&&(Cs=2),s=Ja(s,a),f=i;do{switch(f.tag){case 3:l=s,f.effectTag|=4096,f.expirationTime=t,ci(f,ps(f,l,t));break e;case 1:l=s;var _=f.type,w=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof _.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Fs||!Fs.has(w)))){f.effectTag|=4096,f.expirationTime=t,ci(f,ms(f,l,t));break e}}f=f.return}while(null!==f)}ks=cl(ks)}catch(e){t=e;continue}break}}function ol(){var e=ys.current;return ys.current=ga,null===e?ga:e}function il(e,t){e<Os&&2<e&&(Os=e),null!==t&&e<Is&&2<e&&(Is=e,Rs=t)}function al(e){e>As&&(As=e)}function sl(){for(;null!==ks;)ks=ul(ks)}function ll(){for(;null!==ks&&!No();)ks=ul(ks)}function ul(e){var t=gs(e.alternate,e,xs);return e.memoizedProps=e.pendingProps,null===t&&(t=cl(e)),bs.current=null,t}function cl(e){ks=e;do{var t=ks.alternate;if(e=ks.return,0==(2048&ks.effectTag)){if(t=Ya(t,ks,xs),1===xs||1!==ks.childExpirationTime){for(var n=0,r=ks.child;null!==r;){var o=r.expirationTime,i=r.childExpirationTime;o>n&&(n=o),i>n&&(n=i),r=r.sibling}ks.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=ks.firstEffect),null!==ks.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=ks.firstEffect),e.lastEffect=ks.lastEffect),1<ks.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=ks:e.firstEffect=ks,e.lastEffect=ks))}else{if(null!==(t=Qa(ks)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=ks.sibling))return t;ks=e}while(null!==ks);return Cs===_s&&(Cs=5),null}function fl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function dl(e){var t=Bo();return Go(99,hl.bind(null,e,t)),null}function hl(e,t){do{ml()}while(null!==Us);if(0!=(48&Es))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=fl(n);if(e.firstPendingTime=o,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ts&&(ks=Ts=null,xs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var i=Es;Es|=32,bs.current=null,mn=qt;var s=hn();if(pn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{l.nodeType,f.nodeType}catch(e){l=null;break e}var d=0,h=-1,p=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var b;v!==l||0!==c&&3!==v.nodeType||(h=d+c),v!==f||0!==u&&3!==v.nodeType||(p=d+u),3===v.nodeType&&(d+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===l&&++m===c&&(h=d),y===f&&++g===u&&(p=d),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}l=-1===h||-1===p?null:{start:h,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;gn={activeElementDetached:null,focusedElem:s,selectionRange:l},qt=!1,Ds=o;do{try{pl()}catch(e){if(null===Ds)throw Error(a(330));yl(Ds,e),Ds=Ds.nextEffect}}while(null!==Ds);Ds=o;do{try{for(s=e,l=t;null!==Ds;){var _=Ds.effectTag;if(16&_&&Ue(Ds.stateNode,""),128&_){var w=Ds.alternate;if(null!==w){var S=w.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&_){case 2:us(Ds),Ds.effectTag&=-3;break;case 6:us(Ds),Ds.effectTag&=-3,fs(Ds.alternate,Ds);break;case 1024:Ds.effectTag&=-1025;break;case 1028:Ds.effectTag&=-1025,fs(Ds.alternate,Ds);break;case 4:fs(Ds.alternate,Ds);break;case 8:cs(s,c=Ds,l),ss(c)}Ds=Ds.nextEffect}}catch(e){if(null===Ds)throw Error(a(330));yl(Ds,e),Ds=Ds.nextEffect}}while(null!==Ds);if(S=gn,w=hn(),_=S.focusedElem,l=S.selectionRange,w!==_&&_&&_.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==l&&pn(_)&&(w=l.start,void 0===(S=l.end)&&(S=w),"selectionStart"in _?(_.selectionStart=w,_.selectionEnd=Math.min(S,_.value.length)):(S=(w=_.ownerDocument||document)&&w.defaultView||window).getSelection&&(S=S.getSelection(),c=_.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!S.extend&&s>l&&(c=l,l=s,s=c),c=dn(_,s),f=dn(_,l),c&&f&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==f.node||S.focusOffset!==f.offset)&&((w=w.createRange()).setStart(c.node,c.offset),S.removeAllRanges(),s>l?(S.addRange(w),S.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),S.addRange(w))))),w=[];for(S=_;S=S.parentNode;)1===S.nodeType&&w.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<w.length;_++)(S=w[_]).element.scrollLeft=S.left,S.element.scrollTop=S.top}qt=!!mn,gn=mn=null,e.current=n,Ds=o;do{try{for(_=e;null!==Ds;){var E=Ds.effectTag;if(36&E&&is(_,Ds.alternate,Ds),128&E){w=void 0;var T=Ds.ref;if(null!==T){var k=Ds.stateNode;switch(Ds.tag){case 5:w=k;break;default:w=k}"function"==typeof T?T(w):T.current=w}}Ds=Ds.nextEffect}}catch(e){if(null===Ds)throw Error(a(330));yl(Ds,e),Ds=Ds.nextEffect}}while(null!==Ds);Ds=null,Do(),Es=i}else e.current=n;if(zs)zs=!1,Us=e,Bs=t;else for(Ds=o;null!==Ds;)t=Ds.nextEffect,Ds.nextEffect=null,Ds=t;if(0===(t=e.firstPendingTime)&&(Fs=null),1073741823===t?e===Hs?Gs++:(Gs=0,Hs=e):Gs=0,"function"==typeof wl&&wl(n.stateNode,r),Qs(e),js)throw js=!1,e=Ls,Ls=null,e;return 0!=(8&Es)||qo(),null}function pl(){for(;null!==Ds;){var e=Ds.effectTag;0!=(256&e)&&ns(Ds.alternate,Ds),0==(512&e)||zs||(zs=!0,Ho(97,(function(){return ml(),null}))),Ds=Ds.nextEffect}}function ml(){if(90!==Bs){var e=97<Bs?97:Bs;return Bs=90,Go(e,gl)}}function gl(){if(null===Us)return!1;var e=Us;if(Us=null,0!=(48&Es))throw Error(a(331));var t=Es;for(Es|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),os(5,n)}}catch(t){if(null===e)throw Error(a(330));yl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Es=t,qo(),!0}function vl(e,t,n){ui(e,t=ps(e,t=Ja(n,t),1073741823)),null!==(e=Xs(e,1073741823))&&Qs(e)}function yl(e,t){if(3===e.tag)vl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fs||!Fs.has(r))){ui(n,e=ms(n,e=Ja(t,e),1073741823)),null!==(n=Xs(n,1073741823))&&Qs(n);break}}n=n.return}}function bl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ts===e&&xs===n?Cs===Ss||Cs===ws&&1073741823===Os&&Uo()-Ns<500?nl(e,xs):Ms=!0:Al(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Qs(e)))}function _l(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=$s(t=qs(),e,null)),null!==(e=Xs(e,t))&&Qs(e)}gs=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||ho.current)Ia=!0;else{if(r<n){switch(Ia=!1,t.tag){case 3:za(t),Pa();break;case 5:if(Ni(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:go(t.type)&&_o(t);break;case 4:Ai(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,o=t.type._context,uo(Yo,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ha(e,t,n):(uo(ji,1&ji.current),null!==(t=Ka(e,t,n))?t.sibling:null);uo(ji,1&ji.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return $a(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),uo(ji,ji.current),!r)return null}return Ka(e,t,n)}Ia=!1}}else Ia=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=mo(t,fo.current),ri(t,n),o=Ki(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,go(r)){var i=!0;_o(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ai(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&mi(t,r,s,e),o.updater=gi,t.stateNode=o,o._reactInternalFiber=t,_i(t,r,e,n),t=Fa(null,t,r,!0,i,n)}else t.tag=0,Ra(null,t,o,n),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,i=t.tag=function(e){if("function"==typeof e)return kl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===fe)return 14}return 2}(o),e=Xo(o,e),i){case 0:t=ja(null,t,o,e,n);break e;case 1:t=La(null,t,o,e,n);break e;case 11:t=Aa(null,t,o,e,n);break e;case 14:t=Ma(null,t,o,Xo(o.type,e),r,n);break e}throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,ja(e,t,r,o=t.elementType===r?o:Xo(r,o),n);case 1:return r=t.type,o=t.pendingProps,La(e,t,r,o=t.elementType===r?o:Xo(r,o),n);case 3:if(za(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,si(e,t),fi(t,r,null,n),(r=t.memoizedState.element)===o)Pa(),t=Ka(e,t,n);else{if((o=t.stateNode.hydrate)&&(wa=wn(t.stateNode.containerInfo.firstChild),_a=t,o=Sa=!0),o)for(n=xi(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ra(e,t,r,n),Pa();t=t.child}return t;case 5:return Ni(t),null===e&&ka(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,yn(r,o)?s=null:null!==i&&yn(r,i)&&(t.effectTag|=16),Da(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ra(e,t,s,n),t=t.child),t;case 6:return null===e&&ka(t),null;case 13:return Ha(e,t,n);case 4:return Ai(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ki(t,null,r,n):Ra(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Aa(e,t,r,o=t.elementType===r?o:Xo(r,o),n);case 7:return Ra(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ra(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value;var l=t.type._context;if(uo(Yo,l._currentValue),l._currentValue=i,null!==s)if(l=s.value,0===(i=Lr(l,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(s.children===o.children&&!ho.current){t=Ka(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&i)){1===l.tag&&((c=li(n,null)).tag=2,ui(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),ni(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ra(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,ri(t,n),r=r(o=oi(o,i.unstable_observedBits)),t.effectTag|=1,Ra(e,t,r,n),t.child;case 14:return i=Xo(o=t.type,t.pendingProps),Ma(e,t,o,i=Xo(o.type,i),r,n);case 15:return Na(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Xo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,go(r)?(e=!0,_o(t)):e=!1,ri(t,n),yi(t,r,o),_i(t,r,o,n),Fa(null,t,r,!0,e,n);case 19:return $a(e,t,n)}throw Error(a(156,t.tag))};var wl=null,Sl=null;function El(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Tl(e,t,n,r){return new El(e,t,n,r)}function kl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xl(e,t){var n=e.alternate;return null===n?((n=Tl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cl(e,t,n,r,o,i){var s=2;if(r=e,"function"==typeof e)kl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ne:return Pl(n.children,o,i,t);case se:s=8,o|=7;break;case re:s=8,o|=1;break;case oe:return(e=Tl(12,n,t,8|o)).elementType=oe,e.type=oe,e.expirationTime=i,e;case ue:return(e=Tl(13,n,t,o)).type=ue,e.elementType=ue,e.expirationTime=i,e;case ce:return(e=Tl(19,n,t,o)).elementType=ce,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ie:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case fe:s=14;break e;case de:s=16,r=null;break e;case he:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Tl(s,n,t,o)).elementType=e,t.type=r,t.expirationTime=i,t}function Pl(e,t,n,r){return(e=Tl(7,e,r,t)).expirationTime=n,e}function Ol(e,t,n){return(e=Tl(6,e,null,t)).expirationTime=n,e}function Il(e,t,n){return(t=Tl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Al(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ml(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Nl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Dl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function jl(e,t,n,r){var o=t.current,i=qs(),s=hi.suspense;i=$s(i,o,s);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(go(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(go(u)){n=bo(n,u,l);break e}}n=l}else n=co;return null===t.context?t.context=n:t.pendingContext=n,(t=li(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ui(o,t),Ks(o,i),i}function Ll(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function zl(e,t){Fl(e,t),(e=e.alternate)&&Fl(e,t)}function Ul(e,t,n){var r=new Rl(e,t,n=null!=n&&!0===n.hydrate),o=Tl(3,null,null,2===t?7:1===t?3:0);r.current=o,o.stateNode=r,ai(o),e[xn]=r.current,n&&0!==t&&function(e,t){var n=Je(t);xt.forEach((function(e){pt(e,t,n)})),Ct.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Bl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=Ll(a);s.call(e)}}jl(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ul(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"==typeof o){var l=o;o=function(){var e=Ll(a);l.call(e)}}tl((function(){jl(t,a,e,o)}))}return Ll(a)}function Gl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Hl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bl(t))throw Error(a(200));return Gl(e,t,null,n)}Ul.prototype.render=function(e){jl(e,this._internalRoot,null,null)},Ul.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;jl(null,e,null,(function(){t[xn]=null}))},mt=function(e){if(13===e.tag){var t=Ko(qs(),150,100);Ks(e,t),zl(e,t)}},gt=function(e){13===e.tag&&(Ks(e,3),zl(e,3))},vt=function(e){if(13===e.tag){var t=qs();Ks(e,t=$s(t,e,null)),zl(e,t)}},P=function(e,t,n){switch(t){case"input":if(ke(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=In(r);if(!o)throw Error(a(90));we(r),ke(r,o)}}}break;case"textarea":Ae(e,n);break;case"select":null!=(t=n.value)&&Oe(e,!!n.multiple,t,!1)}},N=el,D=function(e,t,n,r,o){var i=Es;Es|=4;try{return Go(98,e.bind(null,t,n,r,o))}finally{0===(Es=i)&&qo()}},j=function(){0==(49&Es)&&(function(){if(null!==Vs){var e=Vs;Vs=null,e.forEach((function(e,t){Dl(t,e),Qs(t)})),qo()}}(),ml())},L=function(e,t){var n=Es;Es|=2;try{return e(t)}finally{0===(Es=n)&&qo()}};var Wl,ql,$l={Events:[Pn,On,In,x,E,Ln,function(e){ot(e,jn)},A,M,Qt,st,ml,{current:!1}]};ql=(Wl={findFiberByHostInstance:Cn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);wl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Sl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(o({},Wl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return ql?ql(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$l,t.createPortal=Hl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Es))throw Error(a(187));var n=Es;Es|=1;try{return Go(99,e.bind(null,t))}finally{Es=n,qo()}},t.hydrate=function(e,t,n){if(!Bl(t))throw Error(a(200));return Vl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Bl(t))throw Error(a(200));return Vl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Bl(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Vl(null,null,e,!1,(function(){e._reactRootContainer=null,e[xn]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Hl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bl(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Vl(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(83)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,o,i,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},o=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,h=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var v=h.now();t.unstable_now=function(){return h.now()-v}}var y=!1,b=null,_=-1,w=5,S=0;a=function(){return t.unstable_now()>=S},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,T=E.port2;E.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();S=e+w;try{b(!0,e)?T.postMessage(null):(y=!1,b=null)}catch(e){throw T.postMessage(null),e}}else y=!1},r=function(e){b=e,y||(y=!0,T.postMessage(null))},o=function(e,n){_=p((function(){e(t.unstable_now())}),n)},i=function(){m(_),_=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<P(o,t)))break e;e[r]=t,e[n]=o,n=r}}function x(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,l=e[s];if(void 0!==a&&0>P(a,n))void 0!==l&&0>P(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==l&&0>P(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function P(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],I=[],R=1,A=null,M=3,N=!1,D=!1,j=!1;function L(e){for(var t=x(I);null!==t;){if(null===t.callback)C(I);else{if(!(t.startTime<=e))break;C(I),t.sortIndex=t.expirationTime,k(O,t)}t=x(I)}}function F(e){if(j=!1,L(e),!D)if(null!==x(O))D=!0,r(z);else{var t=x(I);null!==t&&o(F,t.startTime-e)}}function z(e,n){D=!1,j&&(j=!1,i()),N=!0;var r=M;try{for(L(n),A=x(O);null!==A&&(!(A.expirationTime>n)||e&&!a());){var s=A.callback;if(null!==s){A.callback=null,M=A.priorityLevel;var l=s(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?A.callback=l:A===x(O)&&C(O),L(n)}else C(O);A=x(O)}if(null!==A)var u=!0;else{var c=x(I);null!==c&&o(F,c.startTime-n),u=!1}return u}finally{A=null,M=r,N=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||N||(D=!0,r(z))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return x(O)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:U(e)}else a=U(e),l=s;return e={id:R++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,k(I,e),null===x(O)&&e===x(I)&&(j?i():j=!0,o(F,l-s))):(e.sortIndex=a,k(O,e),D||N||(D=!0,r(z))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=x(O);return n!==A&&null!==A&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<A.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},function(e,t,n){},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){var r=n(50),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},function(e,t,n){var r=n(40),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(90),o=n(53);e.exports=function(e){return o(r(e))}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){var n=Math.floor,r=Math.random;e.exports=function(e,t){return e+n(r()*(t-e+1))}},function(e,t,n){var r=n(53),o=n(93);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(94),o=n(95);e.exports=function(e){return null==e?[]:r(e,o(e))}},function(e,t,n){var r=n(54);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},function(e,t,n){var r=n(96),o=n(106),i=n(57);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t,n){var r=n(97),o=n(98),i=n(42),a=n(100),s=n(55),l=n(102),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&o(e),f=!n&&!c&&a(e),d=!n&&!c&&!f&&l(e),h=n||c||f||d,p=h?r(e.length,String):[],m=p.length;for(var g in e)!t&&!u.call(e,g)||h&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(99),o=n(34),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(33),o=n(34);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t,n){(function(e){var r=n(41),o=n(101),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l}).call(this,n(43)(e))},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(103),o=n(104),i=n(105),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(33),o=n(56),i=n(34),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(52),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(43)(e))},function(e,t,n){var r=n(107),o=n(108),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(109)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(33),o=n(32);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var f,d,h,p,m=e[c].replace(s,"%20"),g=m.indexOf(n);g>=0?(f=m.substr(0,g),d=m.substr(g+1)):(f=m,d=""),h=decodeURIComponent(f),p=decodeURIComponent(d),r(a,h)?o(a[h])?a[h].push(p):a[h]=[a[h],p]:a[h]=p}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var r=n(114);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case d:case a:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case v:case g:case u:return e;default:return t}}case i:return t}}}function E(e){return S(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=o,t.ForwardRef=h,t.Fragment=a,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||S(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return S(e)===c},t.isContextProvider=function(e){return S(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return S(e)===h},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===v},t.isMemo=function(e){return S(e)===g},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===l},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===l||e===s||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===y)},t.typeOf=S},function(e,t,n){var r=n(41);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";function r(e){let t;if(e){if(!(e instanceof ArrayBuffer))throw Error("Invalid buffer received.");if(this.datas=new DataView(e,0,r.HEADER_LENGTH),"M"!==String.fromCharCode(this.datas.getUint8(0))||"T"!==String.fromCharCode(this.datas.getUint8(1))||"h"!==String.fromCharCode(this.datas.getUint8(2))||"d"!==String.fromCharCode(this.datas.getUint8(3)))throw new Error("Invalid MIDIFileHeader : MThd prefix not found");if(6!==this.datas.getUint32(4))throw new Error("Invalid MIDIFileHeader : Chunk length must be 6")}else t=new Uint8Array(r.HEADER_LENGTH),t[0]=77,t[1]=84,t[2]=104,t[3]=100,t[4]=0,t[5]=0,t[6]=0,t[7]=6,t[8]=0,t[9]=1,t[10]=0,t[11]=1,t[12]=0,t[13]=192,this.datas=new DataView(t.buffer,0,r.HEADER_LENGTH)}r.HEADER_LENGTH=14,r.FRAMES_PER_SECONDS=1,r.TICKS_PER_BEAT=2,r.prototype.getFormat=function(){const e=this.datas.getUint16(8);if(0!==e&&1!==e&&2!==e)throw new Error("Invalid MIDI file : MIDI format ("+e+"), format can be 0, 1 or 2 only.");return e},r.prototype.setFormat=function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid MIDI format given ("+e+"), format can be 0, 1 or 2 only.");this.datas.setUint16(8,e)},r.prototype.getTracksCount=function(){return this.datas.getUint16(10)},r.prototype.setTracksCount=function(e){return this.datas.setUint16(10,e)},r.prototype.getTickResolution=function(e){return 32768&this.datas.getUint16(12)?1e6/(this.getSMPTEFrames()*this.getTicksPerFrame()):(e=e||5e5)/this.getTicksPerBeat()},r.prototype.getTimeDivision=function(){return 32768&this.datas.getUint16(12)?r.FRAMES_PER_SECONDS:r.TICKS_PER_BEAT},r.prototype.getTicksPerBeat=function(){var e=this.datas.getUint16(12);if(32768&e)throw new Error("Time division is not expressed as ticks per beat.");return e},r.prototype.setTicksPerBeat=function(e){this.datas.setUint16(12,32767&e)},r.prototype.getSMPTEFrames=function(){const e=this.datas.getUint16(12);let t;if(!(32768&e))throw new Error("Time division is not expressed as frames per seconds.");if(t=32512&e,-1===[24,25,29,30].indexOf(t))throw new Error("Invalid SMPTE frames value ("+t+").");return 29===t?29.97:t},r.prototype.getTicksPerFrame=function(){const e=this.datas.getUint16(12);if(!(32768&e))throw new Error("Time division is not expressed as frames per seconds.");return 255&e},r.prototype.setSMTPEDivision=function(e,t){if(29.97===e&&(e=29),-1===[24,25,29,30].indexOf(e))throw new Error("Invalid SMPTE frames value given ("+e+").");if(0>t||255<t)throw new Error("Invalid ticks per frame value given ("+e+").");this.datas.setUint8(12,128|e),this.datas.setUint8(13,t)},e.exports=r},function(e,t,n){"use strict";function r(e,t){let n,o;if(e){if(!(e instanceof ArrayBuffer))throw new Error("Invalid buffer received.");if(12>e.byteLength-t)throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : Buffer length must size at least 12bytes");if(this.datas=new DataView(e,t,r.HDR_LENGTH),"M"!==String.fromCharCode(this.datas.getUint8(0))||"T"!==String.fromCharCode(this.datas.getUint8(1))||"r"!==String.fromCharCode(this.datas.getUint8(2))||"k"!==String.fromCharCode(this.datas.getUint8(3)))throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : MTrk prefix not found");if(o=this.getTrackLength(),e.byteLength-t<o)throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : The track size exceed the buffer length.");if(this.datas=new DataView(e,t,r.HDR_LENGTH+o),255!==this.datas.getUint8(r.HDR_LENGTH+(o-3))||47!==this.datas.getUint8(r.HDR_LENGTH+(o-2))||0!==this.datas.getUint8(r.HDR_LENGTH+(o-1)))throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : No track end event found at the expected index ("+(r.HDR_LENGTH+(o-1)).toString(16)+").")}else n=new Uint8Array(12),n[0]=77,n[1]=84,n[2]=114,n[3]=107,n[4]=0,n[5]=0,n[6]=0,n[7]=4,n[8]=0,n[9]=255,n[10]=47,n[11]=0,this.datas=new DataView(n.buffer,0,r.HDR_LENGTH+4)}r.HDR_LENGTH=8,r.prototype.getTrackLength=function(){return this.datas.getUint32(4)},r.prototype.setTrackLength=function(e){return this.datas.setUint32(4,e)},r.prototype.getTrackContent=function(){return new DataView(this.datas.buffer,this.datas.byteOffset+r.HDR_LENGTH,this.datas.byteLength-r.HDR_LENGTH)},r.prototype.setTrackContent=function(e){let t,n,o,i;const a=e.byteLength-e.byteOffset;if(4>a)throw new Error("Invalid track length, must size at least 4bytes");for(this.datas=new DataView(new Uint8Array(r.HDR_LENGTH+a).buffer),this.datas.setUint8(0,77),this.datas.setUint8(1,84),this.datas.setUint8(2,114),this.datas.setUint8(3,107),this.datas.setUint32(4,a),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=new Uint8Array(this.datas.buffer,r.HDR_LENGTH,a),o=0,i=t.length;o<i;o++)n[o]=t[o]},e.exports=r},function(e,t){function n(e){return 240==(240&e)?4:224==(224&e)?3:192==(192&e)?2:e==(127&e)?1:0}function r(e,t,r){var o=0,i="";if(t=t||0,e.length-t<=0)throw new Error("No more characters remaining in array.");if(0==(r=r||n(e[t])))throw new Error(e[t].toString(2)+" is not a significative byte (offset:"+t+").");if(1===r)return e[t];if(e.length-t<r)throw new Error("Expected at least "+r+" bytes remaining in array.");if(i="00000000".slice(0,r)+1+"00000000".slice(r+1),e[t]&parseInt(i,2))throw Error("Index "+t+": A "+r+" bytes encoded char cannot encode the "+(r+1)+"th rank bit to 1.");for(i="0000".slice(0,r+1)+"11111111".slice(r+1),o+=(e[t]&parseInt(i,2))<<6*--r;r;){if(128!=(128&e[t+1])||64==(64&e[t+1]))throw Error("Index "+(t+1)+': Next bytes of encoded char must begin with a "10" bit sequence.');o+=(63&e[++t])<<6*--r}return o}function o(e,t,o,i){var a,s=[];for(t|=0,o="number"==typeof o?o:e.byteLength||e.length;t<o;t++){if(t+(a=n(e[t]))>o){if(i)throw Error("Index "+t+": Found a "+a+" bytes encoded char declaration but only "+(o-t)+" bytes are available.")}else s.push(String.fromCodePoint(r(e,t,a)));t+=a-1}return s.join("")}function i(e){if(e<128)return 1;if(e<2048)return 2;if(e<65536)return 3;if(e<2097152)return 4;throw new Error("CharCode "+e+" cannot be encoded with UTF8.")}function a(e,t,n,r){if(e|=0,t=t||[],n|=0,1==(r=r||i(e)))t[n]=e;else for(t[n++]=(parseInt("1111".slice(0,r),2)<<8-r)+(e>>>6*--r);r>0;)t[n++]=e>>>6*--r&63|128;return t}e.exports={isNotUTF8:function(e,t,n){try{o(e,t,n,!0)}catch(e){return!0}return!1},getCharLength:n,getCharCode:r,getStringFromBytes:o,getBytesForCharCode:i,setBytesFromCharCode:a,setBytesFromString:function(e,t,n,r,o){e=e||"",t=t||[],n|=0,r="number"==typeof r?r:t.byteLength||1/0;for(var s=0,l=e.length;s<l;s++){var u=i(e[s].codePointAt(0));if(o&&n+u>r)throw new Error('Not enought bytes to encode the char "'+e[s]+'" at the offset "'+n+'".');a(e[s].codePointAt(0),t,n,u),n+=u}return t}}},function(e,t,n){"use strict";n.r(t);var r=n(15),o=n.n(r),i=n(36),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var d=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events=t,this.curEvent=t[0],this.pos=0,this.loopStartPos=null,this.elapsedLoops=0,this.curTick=0},(t=[{key:"loop",value:function(){this.curTick<1e6&&this.elapsedLoops<1e3&&(this.pos=this.loopStartPos,console.debug("Channel %d looped at tick %d (loop %d completed)",this.curEvent.channel,this.curTick,this.elapsedLoops),this.elapsedLoops++)}},{key:"next",value:function(){var e=this.events[this.pos++];return e?(this.curTick+=e.delta,e.type===r.EVENT_MIDI&&e.subtype===r.EVENT_MIDI_CONTROLLER&&(102===e.param1&&(this.loopStartPos=this.pos),103===e.param1&&this.loop()),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)):null}}])&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function h(e){return 102===e.param1&&e.subtype===r.EVENT_MIDI_CONTROLLER&&e.type===r.EVENT_MIDI}function p(e){return 103===e.param1&&e.subtype===r.EVENT_MIDI_CONTROLLER&&e.type===r.EVENT_MIDI}function m(e){return 123===e.param1&&e.subtype===r.EVENT_MIDI_CONTROLLER&&e.type===r.EVENT_MIDI}function g(e,t,n){return{channel:t,track:e,playTime:n,type:r.EVENT_MIDI,subtype:r.EVENT_MIDI_CONTROLLER,param1:123,delta:0}}function v(e,t){for(var n=[],r=0,o=0;o<t.length;o++){var i=t[o];r+=i.delta;var a=Math.floor(r/1e3);m(i)?(n[a]="X",r+=1e3):h(i)?n[a]=">":p(i)?n[a]="<":null==n[a]?n[a]="":""===n[a]?n[a]="-":"-"===n[a]&&(n[a]="=")}e=(""+e).padStart(2,"0");for(var s=[],l=0;l<n.length;l++)s[l]=n[l]||" ";console.debug("Track ".concat(e," |").concat(s.join(""),"|"))}a.a.prototype.getLoopedEvents=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=0,l=[],u=this.header.getFormat(),c=this.header.getTickResolution(),f=!1,h=null,p=null;if(1!==u||1===this.tracks.length)for(n=0,r=this.tracks.length;n<r;n++){s=2===u&&s?s:0;var m=new d(e[n]);for(t=m.next();t;)s+=t.delta?t.delta*c/1e3:0,t.type===o.a.EVENT_META&&t.subtype===o.a.EVENT_META_SET_TEMPO&&(c=this.header.getTickResolution(t.tempo)),h&&t.type!==h||p&&(!t.subtype||t.subtype!==p)||(t.playTime=s,l.push(t)),t=m.next()}else{i=-1;var y=[];for(n=0,r=e.length;n<r;n++)v(n,e[n]),y[n]=new d(e[n]),y[n].curEvent=y[n].next();do{for(i=-1,n=0,r=y.length;n<r;n++)y[n].curEvent&&(-1===i||y[n].curEvent.delta<y[i].curEvent.delta||y[n].curEvent.delta===y[i].curEvent.delta&&y[n].elapsedLoops<y[i].elapsedLoops)&&(i=n);if(-1!==i){for(n=0,r=y.length;n<r;n++)n!==i&&y[n].curEvent&&(y[n].curEvent.delta-=y[i].curEvent.delta);s+=(t=y[i].curEvent).delta?t.delta*c/1e3:0,t.type===o.a.EVENT_META&&t.subtype===o.a.EVENT_META_SET_TEMPO&&(c=this.header.getTickResolution(t.tempo)),h&&t.type!==h||p&&(!t.subtype||t.subtype!==p)||(t.playTime=s,t.track=i,l.push(t)),y[i].curEvent=y[i].next(),f=y.every((function(e){return null==e.curEvent||e.elapsedLoops>=a}))}}while(-1!==i&&!1===f);for(var b=0;b<y.length;b++){var _;null!==(_=y[b])&&void 0!==_&&_.curEvent&&l.push(g(b,y[b].curEvent.channel,s))}}return console.debug(l),l}},function(e,t,n){var r=n(123),o=n(124),i=n(126);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&o(t,n,a)&&(n=a=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),a=void 0===a?t<n?1:-1:i(a),r(t,n,a,e)}}},function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,o,i){for(var a=-1,s=r(n((t-e)/(o||1)),0),l=Array(s);s--;)l[i?s:++a]=e,e+=o;return l}},function(e,t,n){var r=n(125),o=n(57),i=n(55),a=n(32);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(39);e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(27).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(60);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){},function(e,t,n){var r=n(139);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},function(e,t,n){var r=n(141);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},function(e,t,n){var r=n(142),o=n(143),i=n(144);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(146),o=n(147),i=n(148);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[i,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[i+r+"?",r,a,s,n].join("|")+")",f=RegExp(o+"(?="+o+")|"+c+u,"g");e.exports=function(e){return e.match(f)||[]}},function(e,t,n){var r=n(62);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(28),a=n.n(i),s=(n(84),n(10));const l=["componentWillMount","UNSAFE_componentWillMount","render","getSnapshotBeforeUpdate","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount","componentDidCatch","setState","forceUpdate"];function u(e,{exclude:t=[],...n}={}){return n.exclude=[...t,...l],Object(s.a)(e,n)}var c=n(63),f=n.n(c),d=n(44),h=n.n(d),p=n(29),m=n.n(p),g=n(16),v=n.n(g),y=n(13),b=n.n(y),_=n(12),w=n(21),S=n(19),E=n(14),T=n(23),k=n(20),x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(S.a)(t.props),t}return Object(w.a)(t,e),t.prototype.render=function(){return o.a.createElement(_.b,{history:this.history,children:this.props.children})},t}(o.a.Component);o.a.Component;var C=function(e,t){return"function"==typeof e?e(t):e},P=function(e,t){return"string"==typeof e?Object(S.c)(e,null,null,t):e},O=function(e){return e},I=o.a.forwardRef;void 0===I&&(I=O);var R=I((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=Object(T.a)(e,["innerRef","navigate","onClick"]),s=a.target,l=Object(E.a)({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=O!==I&&t||n,o.a.createElement("a",l)}));var A=I((function(e,t){var n=e.component,r=void 0===n?R:n,i=e.replace,a=e.to,s=e.innerRef,l=Object(T.a)(e,["component","replace","to","innerRef"]);return o.a.createElement(_.d.Consumer,null,(function(e){e||Object(k.a)(!1);var n=e.history,u=P(C(a,e.location),e.location),c=u?n.createHref(u):"",f=Object(E.a)({},l,{href:c,navigate:function(){var t=C(a,e.location),r=Object(S.e)(e.location)===Object(S.e)(P(t));(i||r?n.replace:n.push)(t)}});return O!==I?f.ref=t||s:f.innerRef=s,o.a.createElement(r,f)}))})),M=function(e){return e},N=o.a.forwardRef;void 0===N&&(N=M);var D=N((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,a=void 0===i?"active":i,s=e.activeStyle,l=e.className,u=e.exact,c=e.isActive,f=e.location,d=e.sensitive,h=e.strict,p=e.style,m=e.to,g=e.innerRef,v=Object(T.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.a.createElement(_.d.Consumer,null,(function(e){e||Object(k.a)(!1);var n=f||e.location,i=P(C(m,n),n),y=i.pathname,b=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?Object(_.e)(n.pathname,{path:b,exact:u,sensitive:d,strict:h}):null,S=!!(c?c(w,n):w),T="function"==typeof l?l(S):l,x="function"==typeof p?p(S):p;S&&(T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(T,a),x=Object(E.a)({},x,s));var O=Object(E.a)({"aria-current":S&&r||null,className:T,style:x,to:i},v);return M!==N?O.ref=t||g:O.innerRef=g,o.a.createElement(A,O)}))})),j=n(3),L=n.n(j),F=n(64),z=n.n(F),U=("function"==typeof Symbol&&Symbol.iterator,"undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input"));function B(e,t){return"application/x-moz-file"===e.type||z()(e,t)}function V(e){return!e.dataTransfer||Array.prototype.every.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e}))}function G(e){e.preventDefault()}function H(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function W(e){return-1!==e.indexOf("Edge/")}var q={borderStyle:"solid",backgroundColor:"#eee"},$={borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},K={borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},X={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},Y={opacity:.5},Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Z(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var ee=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.renderChildren=function(e,t,n,o){return"function"==typeof e?e(Q({},r.state,{isDragActive:t,isDragAccept:n,isDragReject:o,open:r.open})):e},r.composeHandlers=r.composeHandlers.bind(r),r.onClick=r.onClick.bind(r),r.onDocumentDrop=r.onDocumentDrop.bind(r),r.onDragEnter=r.onDragEnter.bind(r),r.onDragLeave=r.onDragLeave.bind(r),r.onDragOver=r.onDragOver.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrop=r.onDrop.bind(r),r.onFileDialogCancel=r.onFileDialogCancel.bind(r),r.onInputElementClick=r.onInputElementClick.bind(r),r.open=r.open.bind(r),r.setRef=r.setRef.bind(r),r.setRefs=r.setRefs.bind(r),r.isFileDialogActive=!1,r.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),J(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",G,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),null!=this.fileInputEl&&this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",G),document.removeEventListener("drop",this.onDocumentDrop)),null!=this.fileInputEl&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(e){return this.props.disabled?null:e}},{key:"onDocumentDrop",value:function(e){this.node&&this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){e.persist(),this.props.onDragStart&&V(e)&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){var t=this;e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),e.persist(),V(e)&&(Promise.resolve(this.props.getDataTransferItems(e)).then((function(n){e.isPropagationStopped()||t.setState({draggedFiles:n,isDragActive:!0})})),this.props.onDragEnter&&this.props.onDragEnter.call(this,e))}},{key:"onDragOver",value:function(e){e.preventDefault(),e.persist();try{e.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(e){}return this.props.onDragOver&&V(e)&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),e.persist(),this.dragTargets=this.dragTargets.filter((function(n){return n!==e.target&&t.node.contains(n)})),this.dragTargets.length>0||(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&V(e)&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,r=n.onDrop,o=n.onDropAccepted,i=n.onDropRejected,a=n.multiple,s=n.accept,l=n.getDataTransferItems;e.preventDefault(),e.persist(),this.dragTargets=[],this.isFileDialogActive=!1,this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[]}),V(e)&&Promise.resolve(l(e)).then((function(n){var l=[],u=[];e.isPropagationStopped()||(n.forEach((function(e){B(e,s)&&function(e,t,n){return e.size<=t&&e.size>=n}(e,t.props.maxSize,t.props.minSize)?l.push(e):u.push(e)})),!a&&l.length>1&&u.push.apply(u,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(l.splice(0))),t.setState({acceptedFiles:l,rejectedFiles:u},(function(){r&&r.call(t,l,u,e),u.length>0&&i&&i.call(t,u,e),l.length>0&&o&&o.call(t,l,e)})))}))}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick,r=t.disableClick;n&&n.call(this,e),r||e.isDefaultPrevented()||(e.stopPropagation(),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return H(e)||W(e)}()?this.open():setTimeout(this.open,0))}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick(e)}},{key:"onFileDialogCancel",value:function(){var e=this,t=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout((function(){null!=e.fileInputEl&&(e.fileInputEl.files.length||(e.isFileDialogActive=!1));"function"==typeof t&&t()}),300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.acceptClassName,r=e.activeClassName,i=e.children,a=e.disabled,s=e.disabledClassName,l=e.inputProps,u=e.multiple,c=e.name,f=e.rejectClassName,d=Z(e,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),h=d.acceptStyle,p=d.activeStyle,m=d.className,g=void 0===m?"":m,v=d.disabledStyle,y=d.rejectStyle,b=d.style,_=Z(d,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),w=this.state,S=w.isDragActive,E=w.draggedFiles,T=E.length,k=u||T<=1,x=T>0&&function(e,t){return e.every((function(e){return B(e,t)}))}(E,this.props.accept),C=T>0&&(!x||!k),P=!(g||b||p||h||y||v);S&&r&&(g+=" "+r),x&&n&&(g+=" "+n),C&&f&&(g+=" "+f),a&&s&&(g+=" "+s),P&&(b=X,p=q,h=$,y=K,v=Y);var O=Q({position:"relative"},b);p&&S&&(O=Q({},O,p)),h&&x&&(O=Q({},O,h)),y&&C&&(O=Q({},O,y)),v&&a&&(O=Q({},O,v));var I={accept:t,disabled:a,type:"file",style:Q({position:"absolute",top:0,right:0,bottom:0,left:0,opacity:1e-5,pointerEvents:"none"},l.style),multiple:U&&u,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};c&&c.length&&(I.name=c);_.acceptedFiles,_.preventDropOnDocument,_.disableClick,_.onDropAccepted,_.onDropRejected,_.onFileDialogCancel,_.maxSize,_.minSize,_.getDataTransferItems;var R=Z(_,["acceptedFiles","preventDropOnDocument","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize","getDataTransferItems"]);return o.a.createElement("div",Q({className:g,style:O},R,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":a}),this.renderChildren(i,S,x,C),o.a.createElement("input",Q({},l,I)))}}]),t}(o.a.Component),te=ee;function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}ee.propTypes={accept:L.a.oneOfType([L.a.string,L.a.arrayOf(L.a.string)]),children:L.a.oneOfType([L.a.node,L.a.func]),disableClick:L.a.bool,disabled:L.a.bool,preventDropOnDocument:L.a.bool,inputProps:L.a.object,multiple:L.a.bool,name:L.a.string,maxSize:L.a.number,minSize:L.a.number,className:L.a.string,activeClassName:L.a.string,acceptClassName:L.a.string,rejectClassName:L.a.string,disabledClassName:L.a.string,style:L.a.object,activeStyle:L.a.object,acceptStyle:L.a.object,rejectStyle:L.a.object,disabledStyle:L.a.object,getDataTransferItems:L.a.func,onClick:L.a.func,onDrop:L.a.func,onDropAccepted:L.a.func,onDropRejected:L.a.func,onDragStart:L.a.func,onDragEnter:L.a.func,onDragOver:L.a.func,onDragLeave:L.a.func,onFileDialogCancel:L.a.func},ee.defaultProps={preventDropOnDocument:!0,disabled:!1,disableClick:!1,inputProps:{},multiple:!0,maxSize:1/0,minSize:0,getDataTransferItems:function(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}};var re,oe=(re="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=void 0!==r?r:{};o.ready=new Promise((function(n,r){e=n,t=r}));var i,a,s,l=Object.assign({},o),u="./this.program",c=!0,f=!1,d="";function h(e){return o.locateFile?o.locateFile(e,d):d+e}(c||f)&&(f?d=self.location.href:"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),re&&(d=re),d=0!==d.indexOf("blob:")?d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},f&&(s=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),a=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var p,m,g=o.print||console.log.bind(console),v=o.printErr||console.error.bind(console);Object.assign(o,l),l=null,o.arguments&&o.arguments,o.thisProgram&&(u=o.thisProgram),o.quit&&o.quit,o.wasmBinary&&(p=o.wasmBinary),o.noExitRuntime,"object"!=("undefined"==typeof WebAssembly?"undefined":ne(WebAssembly))&&W("no native wasm support detected");var y,b,_,w,S,E,T,k,x=!1;function C(e,t){e||W(t)}function P(){var e=m.buffer;o.HEAP8=y=new Int8Array(e),o.HEAP16=_=new Int16Array(e),o.HEAP32=w=new Int32Array(e),o.HEAPU8=b=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=S=new Uint32Array(e),o.HEAPF32=E=new Float32Array(e),o.HEAPF64=k=new Float64Array(e),o.HEAP64=T=new BigInt64Array(e),o.HEAPU64=new BigUint64Array(e)}function O(){var e=Ct();0==e&&(e+=4),S[e>>2]=34821223,S[e+4>>2]=2310721022,S[0]=1668509029}function I(){if(!x){var e=Ct();0==e&&(e+=4);var t=S[e>>2],n=S[e+4>>2];34821223==t&&2310721022==n||W("Stack overflow! Stack cookie has been overwritten at "+ie(e)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ie(n)+" "+ie(t)),1668509029!==S[0]&&W("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var R=[],A=[],M=[];function N(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)L(o.preRun.shift());te(R)}function D(){I(),At(xt(),Ct()),o.noFSInit||Ne.init.initialized||Ne.init(),Ne.ignorePermissions=!1,Se.init(),te(A)}function j(){if(I(),o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)z(o.postRun.shift());te(M)}function L(e){R.unshift(e)}function F(e){A.unshift(e)}function z(e){M.unshift(e)}var U=0,B=null,V=null;function G(e){U++,o.monitorRunDependencies&&o.monitorRunDependencies(U)}function H(e){if(U--,o.monitorRunDependencies&&o.monitorRunDependencies(U),0==U&&(null!==B&&(clearInterval(B),B=null),V)){var t=V;V=null,t()}}function W(e){o.onAbort&&o.onAbort(e),v(e="Aborted("+e+")"),x=!0,e+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(e);throw t(n),n}var q,$="data:application/octet-stream;base64,";function K(e){return e.startsWith($)}function X(e){try{if(e==q&&p)return new Uint8Array(p);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){W(e)}}function Y(e){return p||!c&&!f||"function"!=typeof fetch?Promise.resolve().then((function(){return X(e)})):fetch(e,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((function(){return X(e)}))}function Q(e,t,n){return Y(e).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(n,(function(e){v("failed to asynchronously prepare wasm: "+e),W(e)}))}function J(e,t,n,r){return e||"function"!=typeof WebAssembly.instantiateStreaming||K(t)||"function"!=typeof fetch?Q(t,n,r):fetch(t,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,n).then(r,(function(e){return v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),Q(t,n,r)}))}))}function Z(){var e={a:wt};function n(e,t){var n=e.exports;return o.asm=n,m=o.asm.s,P(),o.asm.sb,F(o.asm.t),H(),n}if(G(),o.instantiateWasm)try{return o.instantiateWasm(e,n)}catch(e){v("Module.instantiateWasm callback failed with error: "+e),t(e)}return J(p,q,e,(function(e){n(e.instance)})).catch(t),{}}K(q="chip-core.wasm")||(q=h(q));var ee={503276:function(e){console.log("Error during V2M conversion.",e)}};function te(e){for(;e.length>0;)e.shift()(o)}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i8";switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return y[e>>0];case"i16":return _[e>>1];case"i32":return w[e>>2];case"i64":return T[e>>3];case"float":return E[e>>2];case"double":return k[e>>3];case"*":return S[e>>2];default:W("invalid type for getValue: ".concat(t))}}function ie(e){return"0x"+e.toString(16).padStart(8,"0")}function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i8";switch(n.endsWith("*")&&(n="*"),n){case"i1":case"i8":y[e>>0]=t;break;case"i16":_[e>>1]=t;break;case"i32":w[e>>2]=t;break;case"i64":T[e>>3]=BigInt(t);break;case"float":E[e>>2]=t;break;case"double":k[e>>3]=t;break;case"*":S[e>>2]=t;break;default:W("invalid type for setValue: ".concat(n))}}var se="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function le(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.buffer&&se)return se.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var l=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|l:(7&a)<<18|s<<12|l<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var u=a-65536;i+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function ue(e,t){return e?le(b,e,t):""}function ce(e,t,n,r){W("Assertion failed: ".concat(ue(e),", at: ")+[t?ue(t):"unknown filename",n,r?ue(r):"unknown function"])}function fe(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){S[this.ptr+4>>2]=e},this.get_type=function(){return S[this.ptr+4>>2]},this.set_destructor=function(e){S[this.ptr+8>>2]=e},this.get_destructor=function(){return S[this.ptr+8>>2]},this.set_caught=function(e){e=e?1:0,y[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=y[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,y[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=y[this.ptr+13>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)},this.set_adjusted_ptr=function(e){S[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return S[this.ptr+16>>2]},this.get_exception_ptr=function(){if(Rt(this.get_type()))return S[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}function de(e,t,n){throw new fe(e).init(t,n),e}function he(e){e>>>=0;var t=xt(),n=Ct();W("stack overflow (Attempt to set SP to ".concat(ie(e))+", with stack limits [".concat(ie(n)," - ").concat(ie(t))+"]). If you require more stack space build with -sSTACK_SIZE=<bytes>")}function pe(e){return w[Et()>>2]=e,e}var me={isAbs:function(e){return"/"===e.charAt(0)},splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t=me.isAbs(e),n="/"===e.substr(-1);return(e=me.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=me.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=me.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return me.normalize(e.join("/"))},join2:function(e,t){return me.normalize(e+"/"+t)}};function ge(){if("object"==("undefined"==typeof crypto?"undefined":ne(crypto))&&"function"==typeof crypto.getRandomValues)return function(e){return crypto.getRandomValues(e)};W("initRandomDevice")}function ve(e){return(ve=ge())(e)}var ye={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:Ne.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t=me.isAbs(r)}return(t?"/":"")+(e=me.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=ye.resolve(e).substr(1),t=ye.resolve(t).substr(1);for(var r=n(e.split("/")),o=n(t.split("/")),i=Math.min(r.length,o.length),a=i,s=0;s<i;s++)if(r[s]!==o[s]){a=s;break}var l=[];for(s=a;s<r.length;s++)l.push("..");return(l=l.concat(o.slice(a))).join("/")}};function be(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t}function _e(e,t,n,r){if(!(r>0))return 0;for(var o=n,i=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(n>=i)break;t[n++]=s}else if(s<=2047){if(n+1>=i)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=i)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-o}function we(e,t,n){var r=n>0?n:be(e)+1,o=new Array(r),i=_e(e,o,0,o.length);return t&&(o.length=i),o}var Se={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Se.ttys[e]={input:[],output:[],ops:t},Ne.registerDevice(e,Se.stream_ops)},stream_ops:{open:function(e){var t=Se.ttys[e.node.rdev];if(!t)throw new Ne.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,t,n,r,o){if(!e.tty||!e.tty.ops.get_char)throw new Ne.ErrnoError(60);for(var i=0,a=0;a<r;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new Ne.ErrnoError(29)}if(void 0===s&&0===i)throw new Ne.ErrnoError(6);if(null==s)break;i++,t[n+a]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,n,r,o){if(!e.tty||!e.tty.ops.put_char)throw new Ne.ErrnoError(60);try{for(var i=0;i<r;i++)e.tty.ops.put_char(e.tty,t[n+i])}catch(e){throw new Ne.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=we(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(g(le(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(g(le(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(v(le(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(v(le(e.output,0)),e.output=[])}}};function Ee(e,t){return b.fill(0,e,e+t),e}function Te(e,t){return Math.ceil(e/t)*t}function ke(e){e=Te(e,65536);var t=Tt(65536,e);return t?Ee(t,e):0}var xe={ops_table:null,mount:function(e){return xe.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(Ne.isBlkdev(n)||Ne.isFIFO(n))throw new Ne.ErrnoError(63);xe.ops_table||(xe.ops_table={dir:{node:{getattr:xe.node_ops.getattr,setattr:xe.node_ops.setattr,lookup:xe.node_ops.lookup,mknod:xe.node_ops.mknod,rename:xe.node_ops.rename,unlink:xe.node_ops.unlink,rmdir:xe.node_ops.rmdir,readdir:xe.node_ops.readdir,symlink:xe.node_ops.symlink},stream:{llseek:xe.stream_ops.llseek}},file:{node:{getattr:xe.node_ops.getattr,setattr:xe.node_ops.setattr},stream:{llseek:xe.stream_ops.llseek,read:xe.stream_ops.read,write:xe.stream_ops.write,allocate:xe.stream_ops.allocate,mmap:xe.stream_ops.mmap,msync:xe.stream_ops.msync}},link:{node:{getattr:xe.node_ops.getattr,setattr:xe.node_ops.setattr,readlink:xe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:xe.node_ops.getattr,setattr:xe.node_ops.setattr},stream:Ne.chrdev_stream_ops}});var o=Ne.createNode(e,t,n,r);return Ne.isDir(o.mode)?(o.node_ops=xe.ops_table.dir.node,o.stream_ops=xe.ops_table.dir.stream,o.contents={}):Ne.isFile(o.mode)?(o.node_ops=xe.ops_table.file.node,o.stream_ops=xe.ops_table.file.stream,o.usedBytes=0,o.contents=null):Ne.isLink(o.mode)?(o.node_ops=xe.ops_table.link.node,o.stream_ops=xe.ops_table.link.stream):Ne.isChrdev(o.mode)&&(o.node_ops=xe.ops_table.chrdev.node,o.stream_ops=xe.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[t]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)>>>0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Ne.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Ne.isDir(e.mode)?t.size=4096:Ne.isFile(e.mode)?t.size=e.usedBytes:Ne.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&xe.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Ne.genericErrors[44]},mknod:function(e,t,n,r){return xe.createNode(e,t,n,r)},rename:function(e,t,n){if(Ne.isDir(e.mode)){var r;try{r=Ne.lookupNode(t,n)}catch(e){}if(r)for(var o in r.contents)throw new Ne.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var n=Ne.lookupNode(e,t);for(var r in n.contents)throw new Ne.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=xe.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!Ne.isLink(e.mode))throw new Ne.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,r);if(a>8&&i.subarray)t.set(i.subarray(o,o+a),n);else for(var s=0;s<a;s++)t[n+s]=i[o+s];return a},write:function(e,t,n,r,o,i){if(t.buffer===y.buffer&&(i=!1),!r)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(i)return a.contents=t.subarray(n,n+r),a.usedBytes=r,r;if(0===a.usedBytes&&0===o)return a.contents=t.slice(n,n+r),a.usedBytes=r,r;if(o+r<=a.usedBytes)return a.contents.set(t.subarray(n,n+r),o),r}if(xe.expandFileStorage(a,o+r),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(n,n+r),o);else for(var s=0;s<r;s++)a.contents[o+s]=t[n+s];return a.usedBytes=Math.max(a.usedBytes,o+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&Ne.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new Ne.ErrnoError(28);return r},allocate:function(e,t,n){xe.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,o){if(!Ne.isFile(e.node.mode))throw new Ne.ErrnoError(43);var i,a,s=e.node.contents;if(2&o||s.buffer!==y.buffer){if((n>0||n+t<s.length)&&(s=s.subarray?s.subarray(n,n+t):Array.prototype.slice.call(s,n,n+t)),a=!0,!(i=ke(t)))throw new Ne.ErrnoError(48);y.set(s,i)}else a=!1,i=s.byteOffset;return{ptr:i,allocated:a}},msync:function(e,t,n,r,o){return xe.stream_ops.write(e,t,0,r,n,!1),0}}};function Ce(e,t,n,r){var o=r?"":"al ".concat(e);a(e,(function(n){C(n,'Loading data file "'.concat(e,'" failed (no arrayBuffer).')),t(new Uint8Array(n)),o&&H()}),(function(t){if(!n)throw'Loading data file "'.concat(e,'" failed.');n()})),o&&G()}var Pe=o.preloadPlugins||[];function Oe(e,t,n,r){"undefined"!=typeof Browser&&Browser.init();var o=!1;return Pe.forEach((function(i){o||i.canHandle(t)&&(i.handle(e,t,n,r),o=!0)})),o}function Ie(e,t,n,r,o,i,a,s,l,u){var c=t?ye.resolve(me.join2(e,t)):e;function f(n){function f(n){u&&u(),s||Ne.createDataFile(e,t,n,r,o,l),i&&i(),H()}Oe(n,c,f,(function(){a&&a(),H()}))||f(n)}"cp ".concat(c),G(),"string"==typeof n?Ce(n,(function(e){return f(e)}),a):f(n)}function Re(e){var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(void 0===t)throw new Error("Unknown file open mode: ".concat(e));return t}function Ae(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}var Me={dbs:{},indexedDB:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==("undefined"==typeof window?"undefined":ne(window))&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),C(e,"IDBFS used, but indexedDB not supported"),e})),DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return xe.mount.apply(null,arguments)},syncfs:function(e,t,n){Me.getLocalSet(e,(function(r,o){if(r)return n(r);Me.getRemoteSet(e,(function(e,r){if(e)return n(e);var i=t?r:o,a=t?o:r;Me.reconcile(i,a,n)}))}))},quit:function(){Object.values(Me.dbs).forEach((function(e){return e.close()})),Me.dbs={}},getDB:function(e,t){var r,o=Me.dbs[e];if(o)return t(null,o);try{r=Me.indexedDB().open(e,Me.DB_VERSION)}catch(e){return t(e)}if(!r)return t("Unable to connect to IndexedDB");r.onupgradeneeded=function(e){var t,n=e.target.result,r=e.target.transaction;(t=n.objectStoreNames.contains(Me.DB_STORE_NAME)?r.objectStore(Me.DB_STORE_NAME):n.createObjectStore(Me.DB_STORE_NAME)).indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){o=r.result,Me.dbs[e]=o,t(null,o)},r.onerror=function(e){t(n.error),e.preventDefault()}},getLocalSet:function(e,t){var n={};function r(e){return"."!==e&&".."!==e}function o(e){return function(t){return me.join2(e,t)}}for(var i=Ne.readdir(e.mountpoint).filter(r).map(o(e.mountpoint));i.length;){var a,s=i.pop();try{a=Ne.stat(s)}catch(e){return t(e)}Ne.isDir(a.mode)&&i.push.apply(i,Ne.readdir(s).filter(r).map(o(s))),n[s]={timestamp:a.mtime}}return t(null,{type:"local",entries:n})},getRemoteSet:function(e,t){var r={};Me.getDB(e.mountpoint,(function(e,o){if(e)return t(e);try{var i=o.transaction([Me.DB_STORE_NAME],"readonly");i.onerror=function(e){t(n.error),e.preventDefault()},i.objectStore(Me.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t(null,{type:"remote",db:o,entries:r});r[n.primaryKey]={timestamp:n.key},n.continue()}}catch(e){return t(e)}}))},loadLocalEntry:function(e,t){var n,r;try{r=Ne.lookupPath(e).node,n=Ne.stat(e)}catch(e){return t(e)}return Ne.isDir(n.mode)?t(null,{timestamp:n.mtime,mode:n.mode}):Ne.isFile(n.mode)?(r.contents=xe.getFileDataAsTypedArray(r),t(null,{timestamp:n.mtime,mode:n.mode,contents:r.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,n){try{if(Ne.isDir(t.mode))Ne.mkdirTree(e,t.mode);else{if(!Ne.isFile(t.mode))return n(new Error("node type not supported"));Ne.writeFile(e,t.contents,{canOwn:!0})}Ne.chmod(e,t.mode),Ne.utime(e,t.timestamp,t.timestamp)}catch(e){return n(e)}n(null)},removeLocalEntry:function(e,t){try{var n=Ne.stat(e);Ne.isDir(n.mode)?Ne.rmdir(e):Ne.isFile(n.mode)&&Ne.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,r){var o=e.get(t);o.onsuccess=function(e){r(null,e.target.result)},o.onerror=function(e){r(n.error),e.preventDefault()}},storeRemoteEntry:function(e,t,r,o){try{var i=e.put(r,t)}catch(e){return void o(e)}i.onsuccess=function(){o(null)},i.onerror=function(e){o(n.error),e.preventDefault()}},removeRemoteEntry:function(e,t,r){var o=e.delete(t);o.onsuccess=function(){r(null)},o.onerror=function(e){r(n.error),e.preventDefault()}},reconcile:function(e,t,r){var o=0,i=[];Object.keys(e.entries).forEach((function(n){var r=e.entries[n],a=t.entries[n];a&&r.timestamp.getTime()==a.timestamp.getTime()||(i.push(n),o++)}));var a=[];if(Object.keys(t.entries).forEach((function(t){e.entries[t]||(a.push(t),o++)})),!o)return r(null);var s=!1,l=("remote"===e.type?e.db:t.db).transaction([Me.DB_STORE_NAME],"readwrite"),u=l.objectStore(Me.DB_STORE_NAME);function c(e){if(e&&!s)return s=!0,r(e)}l.onerror=function(e){c(n.error),e.preventDefault()},l.oncomplete=function(e){s||r(null)},i.sort().forEach((function(e){"local"===t.type?Me.loadRemoteEntry(u,e,(function(t,n){if(t)return c(t);Me.storeLocalEntry(e,n,c)})):Me.loadLocalEntry(e,(function(t,n){if(t)return c(t);Me.storeRemoteEntry(u,e,n,c)}))})),a.sort().reverse().forEach((function(e){"local"===t.type?Me.removeLocalEntry(e,c):Me.removeRemoteEntry(u,e,c)}))}},Ne={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e=ye.resolve(e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};if((t=Object.assign(n,t)).recurse_count>8)throw new Ne.ErrnoError(32);for(var r=e.split("/").filter((function(e){return!!e})),o=Ne.root,i="/",a=0;a<r.length;a++){var s=a===r.length-1;if(s&&t.parent)break;if(o=Ne.lookupNode(o,r[a]),i=me.join2(i,r[a]),Ne.isMountpoint(o)&&(!s||s&&t.follow_mount)&&(o=o.mounted.root),!s||t.follow)for(var l=0;Ne.isLink(o.mode);){var u=Ne.readlink(i);i=ye.resolve(me.dirname(i),u);var c=Ne.lookupPath(i,{recurse_count:t.recurse_count+1});if(o=c.node,l++>40)throw new Ne.ErrnoError(32)}}return{path:i,node:o}},getPath:function(e){for(var t;;){if(Ne.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?"".concat(n,"/").concat(t):n+t:n}t=t?"".concat(e.name,"/").concat(t):e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%Ne.nameTable.length},hashAddNode:function(e){var t=Ne.hashName(e.parent.id,e.name);e.name_next=Ne.nameTable[t],Ne.nameTable[t]=e},hashRemoveNode:function(e){var t=Ne.hashName(e.parent.id,e.name);if(Ne.nameTable[t]===e)Ne.nameTable[t]=e.name_next;else for(var n=Ne.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=Ne.mayLookup(e);if(n)throw new Ne.ErrnoError(n,e);for(var r=Ne.hashName(e.id,t),o=Ne.nameTable[r];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===t)return o}return Ne.lookup(e,t)},createNode:function(e,t,n,r){var o=new Ne.FSNode(e,t,n,r);return Ne.hashAddNode(o),o},destroyNode:function(e){Ne.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Ne.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup:function(e){var t=Ne.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return Ne.lookupNode(e,t),20}catch(e){}return Ne.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=Ne.lookupNode(e,t)}catch(e){return e.errno}var o=Ne.nodePermissions(e,"wx");if(o)return o;if(n){if(!Ne.isDir(r.mode))return 54;if(Ne.isRoot(r)||Ne.getPath(r)===Ne.cwd())return 10}else if(Ne.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?Ne.isLink(e.mode)?32:Ne.isDir(e.mode)&&("r"!==Ne.flagsToPermissionString(t)||512&t)?31:Ne.nodePermissions(e,Ne.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne.MAX_OPEN_FDS,n=e;n<=t;n++)if(!Ne.streams[n])return n;throw new Ne.ErrnoError(33)},getStream:function(e){return Ne.streams[e]},createStream:function(e,t,n){Ne.FSStream||(Ne.FSStream=function(){this.shared={}},Ne.FSStream.prototype={},Object.defineProperties(Ne.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new Ne.FSStream,e);var r=Ne.nextfd(t,n);return e.fd=r,Ne.streams[r]=e,e},closeStream:function(e){Ne.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Ne.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ne.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Ne.devices[e]={stream_ops:t}},getDevice:function(e){return Ne.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),Ne.syncFSRequests++,Ne.syncFSRequests>1&&v("warning: ".concat(Ne.syncFSRequests," FS.syncfs operations in flight at once, probably just doing extra work"));var n=Ne.getMounts(Ne.root.mount),r=0;function o(e){return Ne.syncFSRequests--,t(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,o(e));++r>=n.length&&o(null)}n.forEach((function(t){if(!t.type.syncfs)return i(null);t.type.syncfs(t,e,i)}))},mount:function(e,t,n){var r,o="/"===n,i=!n;if(o&&Ne.root)throw new Ne.ErrnoError(10);if(!o&&!i){var a=Ne.lookupPath(n,{follow_mount:!1});if(n=a.path,r=a.node,Ne.isMountpoint(r))throw new Ne.ErrnoError(10);if(!Ne.isDir(r.mode))throw new Ne.ErrnoError(54)}var s={type:e,opts:t,mountpoint:n,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,o?Ne.root=l:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),l},unmount:function(e){var t=Ne.lookupPath(e,{follow_mount:!1});if(!Ne.isMountpoint(t.node))throw new Ne.ErrnoError(28);var n=t.node,r=n.mounted,o=Ne.getMounts(r);Object.keys(Ne.nameTable).forEach((function(e){for(var t=Ne.nameTable[e];t;){var n=t.name_next;o.includes(t.mount)&&Ne.destroyNode(t),t=n}})),n.mounted=null;var i=n.mount.mounts.indexOf(r);n.mount.mounts.splice(i,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=Ne.lookupPath(e,{parent:!0}).node,o=me.basename(e);if(!o||"."===o||".."===o)throw new Ne.ErrnoError(28);var i=Ne.mayCreate(r,o);if(i)throw new Ne.ErrnoError(i);if(!r.node_ops.mknod)throw new Ne.ErrnoError(63);return r.node_ops.mknod(r,o,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Ne.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Ne.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",o=0;o<n.length;++o)if(n[o]){r+="/"+n[o];try{Ne.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,Ne.mknod(e,t,n)},symlink:function(e,t){if(!ye.resolve(e))throw new Ne.ErrnoError(44);var n=Ne.lookupPath(t,{parent:!0}).node;if(!n)throw new Ne.ErrnoError(44);var r=me.basename(t),o=Ne.mayCreate(n,r);if(o)throw new Ne.ErrnoError(o);if(!n.node_ops.symlink)throw new Ne.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:function(e,t){var n,r,o=me.dirname(e),i=me.dirname(t),a=me.basename(e),s=me.basename(t);if(n=Ne.lookupPath(e,{parent:!0}).node,r=Ne.lookupPath(t,{parent:!0}).node,!n||!r)throw new Ne.ErrnoError(44);if(n.mount!==r.mount)throw new Ne.ErrnoError(75);var l,u=Ne.lookupNode(n,a),c=ye.relative(e,i);if("."!==c.charAt(0))throw new Ne.ErrnoError(28);if("."!==(c=ye.relative(t,o)).charAt(0))throw new Ne.ErrnoError(55);try{l=Ne.lookupNode(r,s)}catch(e){}if(u!==l){var f=Ne.isDir(u.mode),d=Ne.mayDelete(n,a,f);if(d)throw new Ne.ErrnoError(d);if(d=l?Ne.mayDelete(r,s,f):Ne.mayCreate(r,s))throw new Ne.ErrnoError(d);if(!n.node_ops.rename)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(u)||l&&Ne.isMountpoint(l))throw new Ne.ErrnoError(10);if(r!==n&&(d=Ne.nodePermissions(n,"w")))throw new Ne.ErrnoError(d);Ne.hashRemoveNode(u);try{n.node_ops.rename(u,r,s)}catch(e){throw e}finally{Ne.hashAddNode(u)}}},rmdir:function(e){var t=Ne.lookupPath(e,{parent:!0}).node,n=me.basename(e),r=Ne.lookupNode(t,n),o=Ne.mayDelete(t,n,!0);if(o)throw new Ne.ErrnoError(o);if(!t.node_ops.rmdir)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(r))throw new Ne.ErrnoError(10);t.node_ops.rmdir(t,n),Ne.destroyNode(r)},readdir:function(e){var t=Ne.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Ne.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=Ne.lookupPath(e,{parent:!0}).node;if(!t)throw new Ne.ErrnoError(44);var n=me.basename(e),r=Ne.lookupNode(t,n),o=Ne.mayDelete(t,n,!1);if(o)throw new Ne.ErrnoError(o);if(!t.node_ops.unlink)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(r))throw new Ne.ErrnoError(10);t.node_ops.unlink(t,n),Ne.destroyNode(r)},readlink:function(e){var t=Ne.lookupPath(e).node;if(!t)throw new Ne.ErrnoError(44);if(!t.node_ops.readlink)throw new Ne.ErrnoError(28);return ye.resolve(Ne.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=Ne.lookupPath(e,{follow:!t}).node;if(!n)throw new Ne.ErrnoError(44);if(!n.node_ops.getattr)throw new Ne.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return Ne.stat(e,!0)},chmod:function(e,t,n){var r;if(!(r="string"==typeof e?Ne.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new Ne.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){Ne.chmod(e,t,!0)},fchmod:function(e,t){var n=Ne.getStream(e);if(!n)throw new Ne.ErrnoError(8);Ne.chmod(n.node,t)},chown:function(e,t,n,r){var o;if(!(o="string"==typeof e?Ne.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new Ne.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,t,n){Ne.chown(e,t,n,!0)},fchown:function(e,t,n){var r=Ne.getStream(e);if(!r)throw new Ne.ErrnoError(8);Ne.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new Ne.ErrnoError(28);var n;if(!(n="string"==typeof e?Ne.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Ne.ErrnoError(63);if(Ne.isDir(n.mode))throw new Ne.ErrnoError(31);if(!Ne.isFile(n.mode))throw new Ne.ErrnoError(28);var r=Ne.nodePermissions(n,"w");if(r)throw new Ne.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=Ne.getStream(e);if(!n)throw new Ne.ErrnoError(8);if(0==(2097155&n.flags))throw new Ne.ErrnoError(28);Ne.truncate(n.node,t)},utime:function(e,t,n){var r=Ne.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,t,n){if(""===e)throw new Ne.ErrnoError(44);var r;if(n=void 0===n?438:n,n=64&(t="string"==typeof t?Re(t):t)?4095&n|32768:0,"object"==ne(e))r=e;else{e=me.normalize(e);try{r=Ne.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var i=!1;if(64&t)if(r){if(128&t)throw new Ne.ErrnoError(20)}else r=Ne.mknod(e,n,0),i=!0;if(!r)throw new Ne.ErrnoError(44);if(Ne.isChrdev(r.mode)&&(t&=-513),65536&t&&!Ne.isDir(r.mode))throw new Ne.ErrnoError(54);if(!i){var a=Ne.mayOpen(r,t);if(a)throw new Ne.ErrnoError(a)}512&t&&!i&&Ne.truncate(r,0),t&=-131713;var s=Ne.createStream({node:r,path:Ne.getPath(r),flags:t,seekable:!0,position:0,stream_ops:r.stream_ops,ungotten:[],error:!1});return s.stream_ops.open&&s.stream_ops.open(s),!o.logReadFiles||1&t||(Ne.readFiles||(Ne.readFiles={}),e in Ne.readFiles||(Ne.readFiles[e]=1)),s},close:function(e){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ne.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ne.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new Ne.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,o){if(r<0||o<0)throw new Ne.ErrnoError(28);if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(1==(2097155&e.flags))throw new Ne.ErrnoError(8);if(Ne.isDir(e.node.mode))throw new Ne.ErrnoError(31);if(!e.stream_ops.read)throw new Ne.ErrnoError(28);var i=void 0!==o;if(i){if(!e.seekable)throw new Ne.ErrnoError(70)}else o=e.position;var a=e.stream_ops.read(e,t,n,r,o);return i||(e.position+=a),a},write:function(e,t,n,r,o,i){if(r<0||o<0)throw new Ne.ErrnoError(28);if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(0==(2097155&e.flags))throw new Ne.ErrnoError(8);if(Ne.isDir(e.node.mode))throw new Ne.ErrnoError(31);if(!e.stream_ops.write)throw new Ne.ErrnoError(28);e.seekable&&1024&e.flags&&Ne.llseek(e,0,2);var a=void 0!==o;if(a){if(!e.seekable)throw new Ne.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,t,n,r,o,i);return a||(e.position+=s),s},allocate:function(e,t,n){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(t<0||n<=0)throw new Ne.ErrnoError(28);if(0==(2097155&e.flags))throw new Ne.ErrnoError(8);if(!Ne.isFile(e.node.mode)&&!Ne.isDir(e.node.mode))throw new Ne.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ne.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,o){if(0!=(2&r)&&0==(2&o)&&2!=(2097155&e.flags))throw new Ne.ErrnoError(2);if(1==(2097155&e.flags))throw new Ne.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ne.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,o)},msync:function(e,t,n,r,o){return e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,o):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new Ne.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.flags=n.flags||0,n.encoding=n.encoding||"binary","utf8"!==n.encoding&&"binary"!==n.encoding)throw new Error('Invalid encoding type "'.concat(n.encoding,'"'));var r=Ne.open(e,n.flags),o=Ne.stat(e),i=o.size,a=new Uint8Array(i);return Ne.read(r,a,0,i,0),"utf8"===n.encoding?t=le(a,0):"binary"===n.encoding&&(t=a),Ne.close(r),t},writeFile:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.flags=n.flags||577;var r=Ne.open(e,n.flags,n.mode);if("string"==typeof t){var o=new Uint8Array(be(t)+1),i=_e(t,o,0,o.length);Ne.write(r,o,0,i,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Ne.write(r,t,0,t.byteLength,void 0,n.canOwn)}Ne.close(r)},cwd:function(){return Ne.currentPath},chdir:function(e){var t=Ne.lookupPath(e,{follow:!0});if(null===t.node)throw new Ne.ErrnoError(44);if(!Ne.isDir(t.node.mode))throw new Ne.ErrnoError(54);var n=Ne.nodePermissions(t.node,"x");if(n)throw new Ne.ErrnoError(n);Ne.currentPath=t.path},createDefaultDirectories:function(){Ne.mkdir("/tmp"),Ne.mkdir("/home"),Ne.mkdir("/home/web_user")},createDefaultDevices:function(){Ne.mkdir("/dev"),Ne.registerDevice(Ne.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,o){return r}}),Ne.mkdev("/dev/null",Ne.makedev(1,3)),Se.register(Ne.makedev(5,0),Se.default_tty_ops),Se.register(Ne.makedev(6,0),Se.default_tty1_ops),Ne.mkdev("/dev/tty",Ne.makedev(5,0)),Ne.mkdev("/dev/tty1",Ne.makedev(6,0));var e=new Uint8Array(1024),t=0,n=function(){return 0===t&&(t=ve(e).byteLength),e[--t]};Ne.createDevice("/dev","random",n),Ne.createDevice("/dev","urandom",n),Ne.mkdir("/dev/shm"),Ne.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ne.mkdir("/proc");var e=Ne.mkdir("/proc/self");Ne.mkdir("/proc/self/fd"),Ne.mount({mount:function(){var t=Ne.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var n=+t,r=Ne.getStream(n);if(!r)throw new Ne.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return o.parent=o,o}},t}},{},"/proc/self/fd")},createStandardStreams:function(){o.stdin?Ne.createDevice("/dev","stdin",o.stdin):Ne.symlink("/dev/tty","/dev/stdin"),o.stdout?Ne.createDevice("/dev","stdout",null,o.stdout):Ne.symlink("/dev/tty","/dev/stdout"),o.stderr?Ne.createDevice("/dev","stderr",null,o.stderr):Ne.symlink("/dev/tty1","/dev/stderr"),Ne.open("/dev/stdin",0),Ne.open("/dev/stdout",1),Ne.open("/dev/stderr",1)},ensureErrnoError:function(){Ne.ErrnoError||(Ne.ErrnoError=function(e,t){this.name="ErrnoError",this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Ne.ErrnoError.prototype=new Error,Ne.ErrnoError.prototype.constructor=Ne.ErrnoError,[44].forEach((function(e){Ne.genericErrors[e]=new Ne.ErrnoError(e),Ne.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Ne.ensureErrnoError(),Ne.nameTable=new Array(4096),Ne.mount(xe,{},"/"),Ne.createDefaultDirectories(),Ne.createDefaultDevices(),Ne.createSpecialDirectories(),Ne.filesystems={MEMFS:xe,IDBFS:Me}},init:function(e,t,n){Ne.init.initialized=!0,Ne.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=t||o.stdout,o.stderr=n||o.stderr,Ne.createStandardStreams()},quit:function(){Ne.init.initialized=!1;for(var e=0;e<Ne.streams.length;e++){var t=Ne.streams[e];t&&Ne.close(t)}},findObject:function(e,t){var n=Ne.analyzePath(e,t);return n.exists?n.object:null},analyzePath:function(e,t){try{e=(r=Ne.lookupPath(e,{follow:!t})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=Ne.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=me.basename(e),r=Ne.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(e){n.error=e.errno}return n},createPath:function(e,t,n,r){e="string"==typeof e?e:Ne.getPath(e);for(var o=t.split("/").reverse();o.length;){var i=o.pop();if(i){var a=me.join2(e,i);try{Ne.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,n,r,o){var i=me.join2("string"==typeof e?e:Ne.getPath(e),t),a=Ae(r,o);return Ne.create(i,a)},createDataFile:function(e,t,n,r,o,i){var a=t;e&&(e="string"==typeof e?e:Ne.getPath(e),a=t?me.join2(e,t):e);var s=Ae(r,o),l=Ne.create(a,s);if(n){if("string"==typeof n){for(var u=new Array(n.length),c=0,f=n.length;c<f;++c)u[c]=n.charCodeAt(c);n=u}Ne.chmod(l,146|s);var d=Ne.open(l,577);Ne.write(d,n,0,n.length,0,i),Ne.close(d),Ne.chmod(l,s)}return l},createDevice:function(e,t,n,r){var o=me.join2("string"==typeof e?e:Ne.getPath(e),t),i=Ae(!!n,!!r);Ne.createDevice.major||(Ne.createDevice.major=64);var a=Ne.makedev(Ne.createDevice.major++,0);return Ne.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,o,i){for(var a=0,s=0;s<o;s++){var l;try{l=n()}catch(e){throw new Ne.ErrnoError(29)}if(void 0===l&&0===a)throw new Ne.ErrnoError(6);if(null==l)break;a++,t[r+s]=l}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,o,i){for(var a=0;a<o;a++)try{r(t[n+a])}catch(e){throw new Ne.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),a}}),Ne.mkdev(o,i,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!i)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=we(i(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new Ne.ErrnoError(29)}},createLazyFile:function(e,t,n,r,o){function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},i.prototype.setDataGetter=function(e){this.getter=e},i.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),o=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,i=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;o||(a=r);var s=this;s.setDataGetter((function(e){var t=e*a,o=(e+1)*a-1;if(o=Math.min(o,r-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",n,!1),r!==a&&o.setRequestHeader("Range","bytes="+e+"-"+t),o.responseType="arraybuffer",o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+n+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):we(o.responseText||"",!0)}(t,o)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!i&&r||(a=r=1,r=this.getter(0).length,a=r,g("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!f)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:n};var l=Ne.createFile(e,t,s,r,o);s.contents?l.contents=s.contents:s.url&&(l.contents=null,l.url=s.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var u={};function c(e,t,n,r,o){var i=e.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,r);if(i.slice)for(var s=0;s<a;s++)t[n+s]=i[o+s];else for(s=0;s<a;s++)t[n+s]=i.get(o+s);return a}return Object.keys(l.stream_ops).forEach((function(e){var t=l.stream_ops[e];u[e]=function(){return Ne.forceLoadFile(l),t.apply(null,arguments)}})),u.read=function(e,t,n,r,o){return Ne.forceLoadFile(l),c(e,t,n,r,o)},u.mmap=function(e,t,n,r,o){Ne.forceLoadFile(l);var i=ke(t);if(!i)throw new Ne.ErrnoError(48);return c(e,y,i,t,n),{ptr:i,allocated:!0}},l.stream_ops=u,l}},De={DEFAULT_POLLMASK:5,calculateAt:function(e,t,n){if(me.isAbs(t))return t;var r;if(r=-100===e?Ne.cwd():De.getStreamFromFD(e).path,0==t.length){if(!n)throw new Ne.ErrnoError(44);return r}return me.join2(r,t)},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&me.normalize(t)!==me.normalize(Ne.getPath(e.node)))return-54;throw e}w[n>>2]=r.dev,w[n+8>>2]=r.ino,w[n+12>>2]=r.mode,S[n+16>>2]=r.nlink,w[n+20>>2]=r.uid,w[n+24>>2]=r.gid,w[n+28>>2]=r.rdev,T[n+40>>3]=BigInt(r.size),w[n+48>>2]=4096,w[n+52>>2]=r.blocks;var o=r.atime.getTime(),i=r.mtime.getTime(),a=r.ctime.getTime();return T[n+56>>3]=BigInt(Math.floor(o/1e3)),S[n+64>>2]=o%1e3*1e3,T[n+72>>3]=BigInt(Math.floor(i/1e3)),S[n+80>>2]=i%1e3*1e3,T[n+88>>3]=BigInt(Math.floor(a/1e3)),S[n+96>>2]=a%1e3*1e3,T[n+104>>3]=BigInt(r.ino),0},doMsync:function(e,t,n,r,o){if(!Ne.isFile(t.node.mode))throw new Ne.ErrnoError(43);if(2&r)return 0;var i=b.slice(e,e+n);Ne.msync(t,i,o,n,r)},varargs:void 0,get:function(){return De.varargs+=4,w[De.varargs-4>>2]},getStr:function(e){return ue(e)},getStreamFromFD:function(e){var t=Ne.getStream(e);if(!t)throw new Ne.ErrnoError(8);return t}};function je(e,t,n){De.varargs=n;try{var r=De.getStreamFromFD(e);switch(t){case 0:return(o=De.get())<0?-28:Ne.createStream(r,o).fd;case 1:case 2:return 0;case 3:return r.flags;case 4:var o=De.get();return r.flags|=o,0;case 5:return o=De.get(),_[o+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return pe(28),-1;default:return-28}}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return-e.errno}}function Le(e,t,n){De.varargs=n;try{var r=De.getStreamFromFD(e);switch(t){case 21509:case 21505:return r.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return r.tty?0:-59;case 21519:if(!r.tty)return-59;var o=De.get();return w[o>>2]=0,0;case 21520:return r.tty?-28:-59;case 21531:return o=De.get(),Ne.ioctl(r,t,o);case 21523:case 21524:return r.tty?0:-59;default:return-28}}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return-e.errno}}function Fe(e,t,n,r){De.varargs=r;try{t=De.getStr(t),t=De.calculateAt(e,t);var o=r?De.get():0;return Ne.open(t,n,o).fd}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return-e.errno}}function ze(e,t){try{return e=De.getStr(e),De.doStat(Ne.stat,e,t)}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return-e.errno}}function Ue(e,t,n,r,o,i){try{var a=De.getStreamFromFD(o);2&n&&De.doMsync(e,a,t,r,i),Ne.munmap(a)}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return-e.errno}}function Be(){W("")}var Ve=[];function Ge(e,t){var n;for(Ve.length=0,t>>=2;n=b[e++];)t+=105!=n&t,Ve.push(105==n?w[t]:(106==n?T:k)[t++>>1]),++t;return Ve}function He(e,t,n){var r=Ge(t,n);return ee[e].apply(null,r)}function We(e,t,n){return He(e,t,n)}function qe(e,t,n){b.copyWithin(e,t,t+n)}function $e(e){var t=m.buffer;try{return m.grow(e-t.byteLength+65535>>>16),P(),1}catch(e){}}function Ke(e){var t=b.length;if((e>>>=0)>2147483648)return!1;for(var n,r,o=1;o<=4;o*=2){var i=t*(1+.2/o);if(i=Math.min(i,e+100663296),$e(Math.min(2147483648,(n=Math.max(e,i))+((r=65536)-n%r)%r)))return!0}return!1}var Xe={};function Ye(){return u||"./this.program"}function Qe(){if(!Qe.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==("undefined"==typeof navigator?"undefined":ne(navigator))&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ye()};for(var t in Xe)void 0===Xe[t]?delete e[t]:e[t]=Xe[t];var n=[];for(var t in e)n.push(t+"="+e[t]);Qe.strings=n}return Qe.strings}function Je(e,t){for(var n=0;n<e.length;++n)y[t++>>0]=e.charCodeAt(n);y[t>>0]=0}function Ze(e,t){var n=0;return Qe().forEach((function(r,o){var i=t+n;S[e+4*o>>2]=i,Je(r,i),n+=r.length+1})),0}function et(e,t){var n=Qe();S[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),S[t>>2]=r,0}function tt(e){try{var t=De.getStreamFromFD(e);return Ne.close(t),0}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return e.errno}}function nt(e,t,n,r){for(var o=0,i=0;i<n;i++){var a=S[t>>2],s=S[t+4>>2];t+=8;var l=Ne.read(e,y,a,s,r);if(l<0)return-1;if(o+=l,l<s)break;void 0!==r&&(r+=l)}return o}function rt(e,t,n,r){try{var o=nt(De.getStreamFromFD(e),t,n);return S[r>>2]=o,0}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return e.errno}}var ot=9007199254740992,it=-9007199254740992;function at(e){return e<it||e>ot?NaN:Number(e)}function st(e,t,n,r){try{if(t=at(t),isNaN(t))return 61;var o=De.getStreamFromFD(e);return Ne.llseek(o,t,n),T[r>>3]=BigInt(o.position),o.getdents&&0===t&&0===n&&(o.getdents=null),0}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return e.errno}}function lt(e,t,n,r){for(var o=0,i=0;i<n;i++){var a=S[t>>2],s=S[t+4>>2];t+=8;var l=Ne.write(e,y,a,s,r);if(l<0)return-1;o+=l,void 0!==r&&(r+=l)}return o}function ut(e,t,n,r){try{var o=lt(De.getStreamFromFD(e),t,n);return S[r>>2]=o,0}catch(e){if(void 0===Ne||"ErrnoError"!==e.name)throw e;return e.errno}}var ct=0;function ft(e,t,n){return _e(e,b,t,n)}function dt(e){var t=be(e)+1,n=St(t);return n&&ft(e,n,t),n}function ht(e){return o["_"+e]}function pt(e,t){y.set(e,t)}function mt(e){var t=be(e)+1,n=It(t);return ft(e,n,t),n}function gt(e,t,n,r,o){var i={string:function(e){var t=0;return null!=e&&0!==e&&(t=mt(e)),t},array:function(e){var t=It(e.length);return pt(e,t),t}},a=ht(e),s=[],l=0;if(r)for(var u=0;u<r.length;u++){var c=i[n[u]];c?(0===l&&(l=Pt()),s[u]=c(r[u])):s[u]=r[u]}var f=a.apply(null,s);return f=function(e){return 0!==l&&Ot(l),function(e){return"string"===t?ue(e):"boolean"===t?Boolean(e):e}(e)}(f)}var vt=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ne.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},yt=365,bt=146;Object.defineProperties(vt.prototype,{read:{get:function(){return(this.mode&yt)===yt},set:function(e){e?this.mode|=yt:this.mode&=~yt}},write:{get:function(){return(this.mode&bt)===bt},set:function(e){e?this.mode|=bt:this.mode&=~bt}},isFolder:{get:function(){return Ne.isDir(this.mode)}},isDevice:{get:function(){return Ne.isChrdev(this.mode)}}}),Ne.FSNode=vt,Ne.createPreloadedFile=Ie,Ne.staticInit();var _t,wt={b:ce,c:de,a:he,e:je,i:Le,j:Fe,p:ze,q:Ue,f:Be,l:We,k:qe,o:Ke,m:Ze,n:et,d:tt,h:rt,r:st,g:ut},St=(Z(),o._cqt_init=function(){return(o._cqt_init=o.asm.u).apply(null,arguments)},o._cqt_calc=function(){return(o._cqt_calc=o.asm.v).apply(null,arguments)},o._cqt_render_line=function(){return(o._cqt_render_line=o.asm.w).apply(null,arguments)},o._cqt_bin_to_freq=function(){return(o._cqt_bin_to_freq=o.asm.x).apply(null,arguments)},o._fluid_synth_noteon=function(){return(o._fluid_synth_noteon=o.asm.y).apply(null,arguments)},o._fluid_synth_noteoff=function(){return(o._fluid_synth_noteoff=o.asm.z).apply(null,arguments)},o._fluid_synth_write_float=function(){return(o._fluid_synth_write_float=o.asm.A).apply(null,arguments)},o._fluid_synth_all_notes_off=function(){return(o._fluid_synth_all_notes_off=o.asm.B).apply(null,arguments)},o._adl_rt_noteOn=function(){return(o._adl_rt_noteOn=o.asm.C).apply(null,arguments)},o._adl_rt_noteOff=function(){return(o._adl_rt_noteOff=o.asm.D).apply(null,arguments)},o._adl_rt_patchChange=function(){return(o._adl_rt_patchChange=o.asm.E).apply(null,arguments)},o._adl_rt_pitchBend=function(){return(o._adl_rt_pitchBend=o.asm.F).apply(null,arguments)},o._adl_rt_controllerChange=function(){return(o._adl_rt_controllerChange=o.asm.G).apply(null,arguments)},o._adl_rt_channelAfterTouch=function(){return(o._adl_rt_channelAfterTouch=o.asm.H).apply(null,arguments)},o._adl_panic=function(){return(o._adl_panic=o.asm.I).apply(null,arguments)},o._adl_rt_resetState=function(){return(o._adl_rt_resetState=o.asm.J).apply(null,arguments)},o._tp_note_on=function(){return(o._tp_note_on=o.asm.K).apply(null,arguments)},o._tp_note_off=function(){return(o._tp_note_off=o.asm.L).apply(null,arguments)},o._tp_program_change=function(){return(o._tp_program_change=o.asm.M).apply(null,arguments)},o._tp_pitch_bend=function(){return(o._tp_pitch_bend=o.asm.N).apply(null,arguments)},o._tp_control_change=function(){return(o._tp_control_change=o.asm.O).apply(null,arguments)},o._tp_channel_pressure=function(){return(o._tp_channel_pressure=o.asm.P).apply(null,arguments)},o._tp_render=function(){return(o._tp_render=o.asm.Q).apply(null,arguments)},o._tp_panic=function(){return(o._tp_panic=o.asm.R).apply(null,arguments)},o._tp_panic_channel=function(){return(o._tp_panic_channel=o.asm.S).apply(null,arguments)},o._tp_reset=function(){return(o._tp_reset=o.asm.T).apply(null,arguments)},o._tp_init=function(){return(o._tp_init=o.asm.U).apply(null,arguments)},o._new_fluid_settings=function(){return(o._new_fluid_settings=o.asm.V).apply(null,arguments)},o._fluid_settings_setstr=function(){return(o._fluid_settings_setstr=o.asm.W).apply(null,arguments)},o._fluid_settings_setint=function(){return(o._fluid_settings_setint=o.asm.X).apply(null,arguments)},o._fluid_settings_setnum=function(){return(o._fluid_settings_setnum=o.asm.Y).apply(null,arguments)},o._new_fluid_synth=function(){return(o._new_fluid_synth=o.asm.Z).apply(null,arguments)},o._fluid_synth_set_interp_method=function(){return(o._fluid_synth_set_interp_method=o.asm._).apply(null,arguments)},o._adl_init=function(){return(o._adl_init=o.asm.$).apply(null,arguments)},o._adl_setSoftPanEnabled=function(){return(o._adl_setSoftPanEnabled=o.asm.aa).apply(null,arguments)},o._adl_setNumChips=function(){return(o._adl_setNumChips=o.asm.ba).apply(null,arguments)},o._tp_unload_soundfont=function(){return(o._tp_unload_soundfont=o.asm.ca).apply(null,arguments)},o._tp_load_soundfont=function(){return(o._tp_load_soundfont=o.asm.da).apply(null,arguments)},o._fluid_synth_sfload=function(){return(o._fluid_synth_sfload=o.asm.ea).apply(null,arguments)},o._tp_add_soundfont=function(){return(o._tp_add_soundfont=o.asm.fa).apply(null,arguments)},o._tp_set_reverb=function(){return(o._tp_set_reverb=o.asm.ga).apply(null,arguments)},o._fluid_synth_set_reverb_on=function(){return(o._fluid_synth_set_reverb_on=o.asm.ha).apply(null,arguments)},o._fluid_synth_set_reverb=function(){return(o._fluid_synth_set_reverb=o.asm.ia).apply(null,arguments)},o._tp_get_polyphony=function(){return(o._tp_get_polyphony=o.asm.ja).apply(null,arguments)},o._fluid_synth_get_polyphony=function(){return(o._fluid_synth_get_polyphony=o.asm.ka).apply(null,arguments)},o._tp_set_polyphony=function(){return(o._tp_set_polyphony=o.asm.la).apply(null,arguments)},o._fluid_synth_set_polyphony=function(){return(o._fluid_synth_set_polyphony=o.asm.ma).apply(null,arguments)},o._tp_get_channel_in_use=function(){return(o._tp_get_channel_in_use=o.asm.na).apply(null,arguments)},o._tp_get_channel_program=function(){return(o._tp_get_channel_program=o.asm.oa).apply(null,arguments)},o._tp_set_channel_mute=function(){return(o._tp_set_channel_mute=o.asm.pa).apply(null,arguments)},o._tp_set_bank=function(){return(o._tp_set_bank=o.asm.qa).apply(null,arguments)},o._adl_setBank=function(){return(o._adl_setBank=o.asm.ra).apply(null,arguments)},o._tp_set_synth_engine=function(){return(o._tp_set_synth_engine=o.asm.sa).apply(null,arguments)},o._tp_set_ch10_melodic=function(){return(o._tp_set_ch10_melodic=o.asm.ta).apply(null,arguments)},o._fluid_synth_bank_select=function(){return(o._fluid_synth_bank_select=o.asm.ua).apply(null,arguments)},o._tp_get_fluid_synth=function(){return(o._tp_get_fluid_synth=o.asm.va).apply(null,arguments)},o._gme_open_data=function(){return(o._gme_open_data=o.asm.wa).apply(null,arguments)},o._gme_delete=function(){return(o._gme_delete=o.asm.xa).apply(null,arguments)},o._gme_track_count=function(){return(o._gme_track_count=o.asm.ya).apply(null,arguments)},o._gme_track_info=function(){return(o._gme_track_info=o.asm.za).apply(null,arguments)},o._gme_set_stereo_depth=function(){return(o._gme_set_stereo_depth=o.asm.Aa).apply(null,arguments)},o._gme_start_track=function(){return(o._gme_start_track=o.asm.Ba).apply(null,arguments)},o._gme_play=function(){return(o._gme_play=o.asm.Ca).apply(null,arguments)},o._gme_set_fade=function(){return(o._gme_set_fade=o.asm.Da).apply(null,arguments)},o._gme_track_ended=function(){return(o._gme_track_ended=o.asm.Ea).apply(null,arguments)},o._gme_tell_scaled=function(){return(o._gme_tell_scaled=o.asm.Fa).apply(null,arguments)},o._gme_seek_scaled=function(){return(o._gme_seek_scaled=o.asm.Ga).apply(null,arguments)},o._gme_voice_count=function(){return(o._gme_voice_count=o.asm.Ha).apply(null,arguments)},o._gme_ignore_silence=function(){return(o._gme_ignore_silence=o.asm.Ia).apply(null,arguments)},o._gme_set_tempo=function(){return(o._gme_set_tempo=o.asm.Ja).apply(null,arguments)},o._gme_mute_voices=function(){return(o._gme_mute_voices=o.asm.Ka).apply(null,arguments)},o._gme_disable_echo=function(){return(o._gme_disable_echo=o.asm.La).apply(null,arguments)},o._gme_voice_name=function(){return(o._gme_voice_name=o.asm.Ma).apply(null,arguments)},o._xmp_start_player=function(){return(o._xmp_start_player=o.asm.Na).apply(null,arguments)},o._xmp_end_player=function(){return(o._xmp_end_player=o.asm.Oa).apply(null,arguments)},o._xmp_play_buffer=function(){return(o._xmp_play_buffer=o.asm.Pa).apply(null,arguments)},o._xmp_get_frame_info=function(){return(o._xmp_get_frame_info=o.asm.Qa).apply(null,arguments)},o._xmp_get_module_info=function(){return(o._xmp_get_module_info=o.asm.Ra).apply(null,arguments)},o._xmp_create_context=function(){return(o._xmp_create_context=o.asm.Sa).apply(null,arguments)},o._xmp_stop_module=function(){return(o._xmp_stop_module=o.asm.Ta).apply(null,arguments)},o._xmp_restart_module=function(){return(o._xmp_restart_module=o.asm.Ua).apply(null,arguments)},o._xmp_seek_time=function(){return(o._xmp_seek_time=o.asm.Va).apply(null,arguments)},o._xmp_channel_mute=function(){return(o._xmp_channel_mute=o.asm.Wa).apply(null,arguments)},o._xmp_get_player=function(){return(o._xmp_get_player=o.asm.Xa).apply(null,arguments)},o._xmp_get_format_list=function(){return(o._xmp_get_format_list=o.asm.Ya).apply(null,arguments)},o._xmp_inject_event=function(){return(o._xmp_inject_event=o.asm.Za).apply(null,arguments)},o._xmp_load_module_from_memory=function(){return(o._xmp_load_module_from_memory=o.asm._a).apply(null,arguments)},o._lvgm_init=function(){return(o._lvgm_init=o.asm.$a).apply(null,arguments)},o._lvgm_load_data=function(){return(o._lvgm_load_data=o.asm.ab).apply(null,arguments)},o._lvgm_get_position_ms=function(){return(o._lvgm_get_position_ms=o.asm.bb).apply(null,arguments)},o._lvgm_get_duration_ms=function(){return(o._lvgm_get_duration_ms=o.asm.cb).apply(null,arguments)},o._lvgm_start=function(){return(o._lvgm_start=o.asm.db).apply(null,arguments)},o._lvgm_render=function(){return(o._lvgm_render=o.asm.eb).apply(null,arguments)},o._lvgm_stop=function(){return(o._lvgm_stop=o.asm.fb).apply(null,arguments)},o._lvgm_reset=function(){return(o._lvgm_reset=o.asm.gb).apply(null,arguments)},o._lvgm_set_playback_speed=function(){return(o._lvgm_set_playback_speed=o.asm.hb).apply(null,arguments)},o._lvgm_get_playback_speed=function(){return(o._lvgm_get_playback_speed=o.asm.ib).apply(null,arguments)},o._lvgm_seek_ms=function(){return(o._lvgm_seek_ms=o.asm.jb).apply(null,arguments)},o._lvgm_get_metadata=function(){return(o._lvgm_get_metadata=o.asm.kb).apply(null,arguments)},o._lvgm_get_voice_count=function(){return(o._lvgm_get_voice_count=o.asm.lb).apply(null,arguments)},o._lvgm_get_voice_name=function(){return(o._lvgm_get_voice_name=o.asm.mb).apply(null,arguments)},o._lvgm_get_voice_chip_name=function(){return(o._lvgm_get_voice_chip_name=o.asm.nb).apply(null,arguments)},o._lvgm_set_voice_mask=function(){return(o._lvgm_set_voice_mask=o.asm.ob).apply(null,arguments)},o._lvgm_get_voice_mask=function(){return(o._lvgm_get_voice_mask=o.asm.pb).apply(null,arguments)},o._malloc=function(){return(St=o._malloc=o.asm.qb).apply(null,arguments)}),Et=(o._free=function(){return(o._free=o.asm.rb).apply(null,arguments)},o._fluid_synth_all_sounds_off=function(){return(o._fluid_synth_all_sounds_off=o.asm.tb).apply(null,arguments)},o._fluid_synth_set_chorus=function(){return(o._fluid_synth_set_chorus=o.asm.ub).apply(null,arguments)},o._fluid_synth_set_chorus_on=function(){return(o._fluid_synth_set_chorus_on=o.asm.vb).apply(null,arguments)},o._adl_getNumChips=function(){return(o._adl_getNumChips=o.asm.wb).apply(null,arguments)},o._adl_getBanksCount=function(){return(o._adl_getBanksCount=o.asm.xb).apply(null,arguments)},o._adl_getBankNames=function(){return(o._adl_getBankNames=o.asm.yb).apply(null,arguments)},o._adl_generate=function(){return(o._adl_generate=o.asm.zb).apply(null,arguments)},o._v2m_open=function(){return(o._v2m_open=o.asm.Ab).apply(null,arguments)},o._v2m_write_audio=function(){return(o._v2m_write_audio=o.asm.Bb).apply(null,arguments)},o._v2m_get_position_ms=function(){return(o._v2m_get_position_ms=o.asm.Cb).apply(null,arguments)},o._v2m_get_duration_ms=function(){return(o._v2m_get_duration_ms=o.asm.Db).apply(null,arguments)},o._v2m_seek_ms=function(){return(o._v2m_seek_ms=o.asm.Eb).apply(null,arguments)},o._v2m_set_speed=function(){return(o._v2m_set_speed=o.asm.Fb).apply(null,arguments)},o._v2m_close=function(){return(o._v2m_close=o.asm.Gb).apply(null,arguments)},function(){return(Et=o.asm.Hb).apply(null,arguments)}),Tt=(o._n64_load_file=function(){return(o._n64_load_file=o.asm.Ib).apply(null,arguments)},o._n64_get_duration_ms=function(){return(o._n64_get_duration_ms=o.asm.Jb).apply(null,arguments)},o._n64_get_position_ms=function(){return(o._n64_get_position_ms=o.asm.Kb).apply(null,arguments)},o._n64_render_audio=function(){return(o._n64_render_audio=o.asm.Lb).apply(null,arguments)},o._n64_seek_ms=function(){return(o._n64_seek_ms=o.asm.Mb).apply(null,arguments)},o._n64_shutdown=function(){return(o._n64_shutdown=o.asm.Nb).apply(null,arguments)},o._mdx_open=function(){return(o._mdx_open=o.asm.Ob).apply(null,arguments)},o._mdx_set_dir=function(){return(o._mdx_set_dir=o.asm.Pb).apply(null,arguments)},o._mdx_set_rate=function(){return(o._mdx_set_rate=o.asm.Qb).apply(null,arguments)},o._mdx_set_max_loop=function(){return(o._mdx_set_max_loop=o.asm.Rb).apply(null,arguments)},o._mdx_next_frame=function(){return(o._mdx_next_frame=o.asm.Sb).apply(null,arguments)},o._mdx_frame_length=function(){return(o._mdx_frame_length=o.asm.Tb).apply(null,arguments)},o._mdx_calc_sample=function(){return(o._mdx_calc_sample=o.asm.Ub).apply(null,arguments)},o._mdx_calc_log=function(){return(o._mdx_calc_log=o.asm.Vb).apply(null,arguments)},o._mdx_get_title=function(){return(o._mdx_get_title=o.asm.Wb).apply(null,arguments)},o._mdx_get_length=function(){return(o._mdx_get_length=o.asm.Xb).apply(null,arguments)},o._mdx_get_tracks=function(){return(o._mdx_get_tracks=o.asm.Yb).apply(null,arguments)},o._mdx_get_current_notes=function(){return(o._mdx_get_current_notes=o.asm.Zb).apply(null,arguments)},o._mdx_close=function(){return(o._mdx_close=o.asm._b).apply(null,arguments)},o._mdx_create_context=function(){return(o._mdx_create_context=o.asm.$b).apply(null,arguments)},o._mdx_get_position_ms=function(){return(o._mdx_get_position_ms=o.asm.ac).apply(null,arguments)},o._mdx_set_speed=function(){return(o._mdx_set_speed=o.asm.bc).apply(null,arguments)},o._mdx_set_position_ms=function(){return(o._mdx_set_position_ms=o.asm.cc).apply(null,arguments)},o._mdx_get_pdx_filename=function(){return(o._mdx_get_pdx_filename=o.asm.dc).apply(null,arguments)},o._mdx_get_track_name=function(){return(o._mdx_get_track_name=o.asm.ec).apply(null,arguments)},o._mdx_get_track_mask=function(){return(o._mdx_get_track_mask=o.asm.fc).apply(null,arguments)},o._mdx_set_track_mask=function(){return(o._mdx_set_track_mask=o.asm.gc).apply(null,arguments)},function(){return(Tt=o.asm.hc).apply(null,arguments)}),kt=function(){return(kt=o.asm.ic).apply(null,arguments)},xt=function(){return(xt=o.asm.jc).apply(null,arguments)},Ct=function(){return(Ct=o.asm.kc).apply(null,arguments)},Pt=function(){return(Pt=o.asm.lc).apply(null,arguments)},Ot=function(){return(Ot=o.asm.mc).apply(null,arguments)},It=function(){return(It=o.asm.nc).apply(null,arguments)},Rt=function(){return(Rt=o.asm.oc).apply(null,arguments)},At=o.___set_stack_limits=function(){return(At=o.___set_stack_limits=o.asm.pc).apply(null,arguments)};function Mt(){kt(),O()}function Nt(){function t(){_t||(_t=!0,o.calledRun=!0,x||(D(),e(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),j()))}U>0||(Mt(),N(),U>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t(),I()))}if(o.ccall=gt,o.setValue=ae,o.getValue=oe,o.UTF8ToString=ue,o.stringToNewUTF8=dt,o.FS=Ne,o.ALLOC_NORMAL=ct,V=function e(){_t||Nt(),_t||(V=e)},o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return Nt(),r.ready}),ie=n(7);var ae=Object(r.memo)(se);function se(e){var t,n=Object(_.f)(),r=e.dim?"DirectoryLink-dim":null,i=e.dim?"inline-icon dim-icon icon-folder":"inline-icon icon-folder",a={pathname:e.to.replace("%25","%2525"),search:e.search||(delete(t=b.a.parse(window.location.search.substring(1))).q,b.a.stringify(t)),state:{prevPathname:window.location.pathname}},s=null;return e.isBackLink&&(s=function(e){e.preventDefault(),n.goBack()}),o.a.createElement(A,{to:a,className:r,onClick:s,tabIndex:"-1"},o.a.createElement("span",{className:i}),e.children)}se.propTypes={to:j.string.isRequired,dim:j.bool,search:j.string,isBackLink:j.bool};var le=/^https?:\/\/[a-z0-9\-.:]+\/(music|catalog)\//;function ue(){for(var e="",t=0;t<arguments.length;t++){if(!(t<0||arguments.length<=t?void 0:arguments[t]))return"";e+=t<0||arguments.length<=t?void 0:arguments[t]}return e}function ce(){for(var e="/",t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.length-1;return n.map((function(t,n){return 0!==n&&t.startsWith(e)&&(t=t.slice(1)),n!==o&&t.endsWith(e)&&(t=t.slice(0,-1)),t})).join(e)}function fe(e){return e.replace(ie.CATALOG_PREFIX,"/")}function de(e){return"".concat(ie.API_BASE,"/metadata?path=").concat(encodeURIComponent(e))}function he(e,t,n){return e.FS.analyzePath(t).exists?(console.debug("".concat(t," exists in Emscripten file system.")),Promise.resolve(t)):(console.log("Downloading ".concat(t,"...")),fetch(n).then((function(e){if(!e.ok)throw Error("HTTP ".concat(e.status," while fetching ").concat(t));return e})).then((function(e){return e.arrayBuffer()})).then((function(n){var r=new Uint8Array(n);return pe(e,t,r,!0)})))}function pe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r&&e.FS.analyzePath(t).exists)return console.debug("".concat(t," exists in Emscripten file system.")),Promise.resolve(t);console.debug("Writing ".concat(t," to Emscripten file system..."));var o=v.a.dirname(t);return e.FS.mkdirTree(o),e.FS.writeFile(t,n),new Promise((function(n,r){e.FS.syncfs(!1,(function(e){e?(console.error("Error synchronizing to indexeddb.",e),r(e)):(console.debug("Synchronized ".concat(t," to indexeddb.")),n(t))}))}))}function me(e,t,n){return function(e,t,n,r,o){return r+(e-t)/(n-t)*(o-r)}(e,0,1,t,n)}function ge(e){var t=e.send;return e.send=function(){var n=arguments;return new Promise((function(r,o){e.onload=function(){e.status<200||e.status>=300?o({status:e.status,statusText:e.statusText}):r(e)},e.onerror=function(){o({status:e.status,statusText:e.statusText})};try{t.apply(e,n)}catch(e){}}))},e}function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,be(r.key),r)}}function be(e){var t=function(e,t){if("object"!=ve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ve(t)?t:t+""}var _e=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(s.a)(this),this.data={},this.request=null},(t=[{key:"fetchCached",value:function(e){var t=this;return this.data[e]?Promise.resolve(this.data[e]):(this.request&&this.request.abort(),this.request=ge(new XMLHttpRequest),this.request.responseType="json",this.request.open("GET",e),this.request.send().then((function(n){if(n.status>=200&&n.status<400)return t.data[e]=n.response,n.response;throw Error("RequestCache HTTP "+n.status)})))}}])&&ye(e.prototype,t),n&&ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()),we=n(25),Se=n.n(we);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ke(r.key),r)}}function ke(e){var t=function(e,t){if("object"!=Ee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ee(t)?t:t+""}var xe=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(s.a)(this),this.fs=t,this.rootPath=n||"local",this.fs.mkdirTree(this.rootPath),this.fs.mount(this.fs.filesystems.IDBFS,{},this.rootPath),this.commit=Se()(this.commit,500)},(t=[{key:"fullPath",value:function(e){return e}},{key:"readAll",value:function(){var e=this,t=this.fs.readdir(this.rootPath);if(t){var n=t.filter((function(e){return".."!==e&&"."!==e})).map((function(t,n){var r=v.a.join(e.rootPath,t),o=e.fs.stat(r),i=o.size,a=o.mtime;return{idx:n,type:"file",size:i,mtime:Math.floor(Date.parse(a)/1e3),path:r}}));return n.sort((function(e,t){return e.mtime!==t.mtime?e.mtime-t.mtime:e.path.localeCompare(t.path)})),n}return[]}},{key:"write",value:function(e,t){var n=new Uint8Array(t);this.fs.writeFile(this.fullPath(e),n),this.commit()}},{key:"read",value:function(e){return this.fs.readFile(this.fullPath(e))}},{key:"delete",value:function(e){return!!this.fs.analyzePath(e).exists&&(this.fs.unlink(this.fullPath(e)),this.commit(),!0)}},{key:"commit",value:function(){var e=this;return new Promise((function(t,n){e.fs.syncfs(!1,(function(e){e?(console.error("Error synchronizing local files to indexeddb.",e),n()):(console.debug("Synchronized local files to indexeddb."),t())}))}))}}])&&Te(e.prototype,t),n&&Te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),Ce=n(35),Pe=n.n(Ce);function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ie=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:k(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",h="executing",p="completed",m={};function g(){}function v(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,a)&&(b=w);var S=y.prototype=g.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==Oe(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function k(t,n,r){var o=d;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?p:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Oe(t)+" is not iterable")}return v.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=u(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),u(S,l,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Re(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Ae(e){return function(e){if(Array.isArray(e))return Me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e,t,n){return(t=Le(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Le(r.key),r)}}function Le(e){var t=function(e,t){if("object"!=Oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oe(t)?t:t+""}function Fe(e,t,n){return t=ze(t),function(e,t){if(t&&("object"==Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ze(e).constructor):t.apply(e,n))}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){return(Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Be=["Off","All","One"],Ve=["Off","On "],Ge=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=Fe(this,t),Object(s.a)(r),r.player=null,r.players=e,r.localFilesManager=n,r.currIdx=0,r.context=null,r.currUrl=null,r.shuffle=0,r.shuffleOrder=[],r.songRequest=null,r.repeat=0,r.players.forEach((function(e){e.on("playerStateUpdate",r.handlePlayerStateUpdate),e.on("playerError",r.handlePlayerError)})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ue(e,t)}(t,e),function(e,t,n){return t&&je(e.prototype,t),n&&je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"handlePlayerError",value:function(e){this.emit("playerError",e),this.context?this.nextSong():this.emit("sequencerStateUpdate",{isEjected:!0})}},{key:"handlePlayerStateUpdate",value:function(e){var t=e.isStopped;console.debug("Sequencer.handlePlayerStateUpdate(isStopped=%s)",t),t?(this.currUrl=null,this.context&&this.nextSong()):this.emit("sequencerStateUpdate",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:this.currUrl,hasPlayer:!0,isEjected:!1},e))}},{key:"playContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.currIdx=t,this.context=e,1===this.shuffle&&this.setShuffle(this.shuffle),this.playCurrentSong(n)}},{key:"playCurrentSong",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.currIdx;1===this.shuffle&&(t=this.shuffleOrder[t],console.log("Shuffle (%s): %s",this.currIdx,t)),this.playSong(this.context[t],e)}},{key:"playSonglist",value:function(e){this.playContext(e,0)}},{key:"toggleShuffle",value:function(){this.setShuffle(!this.shuffle)}},{key:"setShuffle",value:function(e){var t=this;this.shuffle=e,1===this.shuffle&&this.context?(this.shuffleOrder=[this.currIdx].concat(Ae(m()(this.context.map((function(e,t){return t})).filter((function(e){return e!==t.currIdx}))))),this.currIdx=0):this.shuffleOrder&&null!==this.shuffleOrder[this.currIdx]&&(this.currIdx=this.shuffleOrder[this.currIdx])}},{key:"setRepeat",value:function(e){this.repeat=e}},{key:"advanceSong",value:function(e){null!=this.context&&(2!==this.repeat&&(this.currIdx+=e),this.currIdx<0||this.currIdx>=this.context.length?1===this.repeat?(this.currIdx=(this.currIdx+this.context.length)%this.context.length,this.playCurrentSong()):(console.debug("Sequencer.advanceSong(direction=%s) %s passed end of context length %s",e,this.currIdx,this.context.length),this.currIdx=0,this.context=null,this.player.stop(),this.player=null,this.emit("sequencerStateUpdate",{isEjected:!0})):this.playCurrentSong())}},{key:"nextSong",value:function(){this.advanceSong(1)}},{key:"prevSong",value:function(){this.advanceSong(-1)}},{key:"playSubtune",value:function(e){this.player.playSubtune(e)}},{key:"prevSubtune",value:function(){var e=this.player.getSubtune()-1;e<0||this.playSubtune(e)}},{key:"nextSubtune",value:function(){var e=this.player.getSubtune()+1;e>=this.player.getNumSubtunes()||this.playSubtune(e)}},{key:"getPlayer",value:function(){return this.player}},{key:"getCurrContext",value:function(){return this.context}},{key:"getCurrIdx",value:function(){return this.shuffle?this.shuffleOrder[this.currIdx]:this.currIdx}},{key:"getCurrUrl",value:function(){return this.currUrl}},{key:"getSubtune",value:function(){return this.player.getSubtune()}},{key:"playSong",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null!==this.player&&this.player.suspend();for(var r=e.split(".").pop().toLowerCase(),o=0;o<this.players.length;o++)if(this.players[o].canPlay(r)){this.player=this.players[o];break}if(null!==this.player)if(e.startsWith("local/")){var i=this.localFilesManager.read(e);this.currUrl=null,this.playSongBuffer(e,i,n)}else e=e.startsWith("http")?e:ce(ie.CATALOG_PREFIX,e),this.songRequest&&this.songRequest.abort(),this.songRequest=ge(new XMLHttpRequest),this.songRequest.responseType="arraybuffer",this.songRequest.open("GET",e),this.songRequest.send().then((function(e){return e.response})).then((function(r){t.currUrl=e;var o=e.replace(ie.CATALOG_PREFIX,"");t.playSongBuffer(o,r,n)})).catch((function(n){t.handlePlayerError(n.message||"HTTP ".concat(n.status," ").concat(n.statusText," ").concat(e))}));else this.emit("playerError",'The file format ".'.concat(r,'" was not recognized.'))}},{key:"playSongFile",value:function(e,t){null!==this.player&&this.player.suspend();var n=e.split(".").pop().toLowerCase(),r=this.players.find((function(e){return e.canPlay(n)}));null!=r?(this.player=r,this.context=[],this.currUrl=null,this.playSongBuffer(e,t)):this.emit("playerError",'The file format ".'.concat(n,'" was not recognized.'))}},{key:"playSongBuffer",value:(n=Ie().mark((function e(t,n){var r,o,i,a=arguments;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:0,o=new Uint8Array(n),this.player.setTempo(1),e.prev=3,e.next=6,this.player.loadData(o,t,r);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),this.handlePlayerError("Unable to play ".concat(t," (").concat(e.t0.message,")."));case 11:i=this.player.getNumVoices(),this.player.setVoiceMask(Ae(Array(i)).fill(!0));case 13:case"end":return e.stop()}}),e,this,[[3,8]])})),r=function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){Re(i,r,o,a,s,"next",e)}function s(e){Re(i,r,o,a,s,"throw",e)}a(void 0)}))},function(e,t){return r.apply(this,arguments)})}]);var n,r}(Pe.a);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e){return function(e){if(Array.isArray(e))return qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xe(r.key),r)}}function Xe(e){var t=function(e,t){if("object"!=He(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=He(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==He(t)?t:t+""}function Ye(e,t,n){return t=Qe(t),function(e,t){if(t&&("object"==He(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Qe(e).constructor):t.apply(e,n))}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Je(e,t){return(Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Ze=function(e){function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2048,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return $e(this,t),(r=Ye(this,t)).core=e,r.paused=!0,r.stopped=!0,r.fileExtensions=[],r.metadata=null,r.sampleRate=n,r.bufferSize=o,r.debug=i,r.timeCount=0,r.renderTime=0,r.perfLoggingInterval=100,r.paramDefs=[],r.params={},r.infoTexts=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Je(e,t)}(t,e),n=t,o=[{key:"metadataFromFilepath",value:function(e){var t=e.split("/"),n={};return n.title=t.pop(),n.system=t.shift(),"Game MIDI"===n.system?n.game=t.shift():n.artist=t.shift(),n}}],(r=[{key:"copyToHeap",value:function(e){var t=this.core._malloc(e.byteLength);return this.core.HEAPU8.set(e,t),t}},{key:"togglePause",value:function(){return this.paused=!this.paused,this.paused}},{key:"isPaused",value:function(){return this.paused}},{key:"resume",value:function(){this.stopped=!1,this.paused=!1}},{key:"canPlay",value:function(e){return-1!==this.fileExtensions.indexOf(e.toLowerCase())}},{key:"loadData",value:function(e,t){throw Error("Player.loadData() must be implemented.")}},{key:"stop",value:function(){throw Error("Player.stop() must be implemented.")}},{key:"isPlaying",value:function(){throw Error("Player.isPlaying() must be implemented.")}},{key:"getTempo",value:function(){return console.warn("Player.getTempo() not implemented for this player."),1}},{key:"setTempo",value:function(){console.warn("Player.setTempo() not implemented for this player.")}},{key:"setFadeout",value:function(e){console.warn("Player.setFadeout() not implemented for this player.")}},{key:"getDurationMs",value:function(){return console.warn("Player.getDurationMs() not implemented for this player."),5e3}},{key:"getPositionMs",value:function(){return console.warn("Player.getPositionMs() not implemented for this player."),0}},{key:"seekMs",value:function(e){console.warn("Player.seekMs() not implemented for this player.")}},{key:"getVoiceName",value:function(e){console.warn("Player.getVoiceName() not implemented for this player.")}},{key:"getVoiceMask",value:function(){return console.warn("Player.getVoiceMask() not implemented for this player."),[]}},{key:"setVoiceMask",value:function(){console.warn("Player.setVoiceMask() not implemented for this player.")}},{key:"getNumVoices",value:function(){return 0}},{key:"getVoiceGroups",value:function(){return[]}},{key:"getNumSubtunes",value:function(){return 1}},{key:"getSubtune",value:function(){return 0}},{key:"getMetadata",value:function(){return{title:null,author:null}}},{key:"getInfoTexts",value:function(){return this.infoTexts}},{key:"getParamDefs",value:function(){return this.paramDefs}},{key:"getBasePlayerState",value:function(){var e=this;return{metadata:this.getMetadata(),durationMs:this.getDurationMs(),positionMs:this.getPositionMs(),numVoices:this.getNumVoices(),numSubtunes:this.getNumSubtunes(),subtune:this.getSubtune(),paramDefs:this.getParamDefs(),tempo:this.getTempo(),voiceMask:this.getVoiceMask(),voiceNames:We(Array(this.getNumVoices())).map((function(t,n){return e.getVoiceName(n)})),voiceGroups:this.getVoiceGroups(),infoTexts:this.getInfoTexts(),isStopped:this.stopped,isPaused:this.paused}}},{key:"suspend",value:function(){this.stopped=!0,this.paused=!0}},{key:"processAudio",value:function(e){var t=performance.now();this.processAudioInner(e);var n=performance.now();if(this.debug&&(this.renderTime+=n-t,this.timeCount++,this.timeCount>=this.perfLoggingInterval)){var r=this.renderTime/this.timeCount,o=1e3*this.bufferSize/this.sampleRate;console.log("[%s] %s ms to render %d frames (%s ms) (%s% utilization)",this.constructor.name,r.toFixed(2),this.bufferSize,o.toFixed(1),(100*r/o).toFixed(1)),this.renderTime=0,this.timeCount=0}}},{key:"processAudioInner",value:function(){throw Error("Player.processAudioInner() must be implemented.")}},{key:"muteAudioDuringCall",value:function(e,t){if(e&&"running"===e.context.state&&!1===this.paused){var n=e.onaudioprocess;e.onaudioprocess=function(r){for(var o=0;o<r.outputBuffer.numberOfChannels;o++)r.outputBuffer.getChannelData(o).fill(0);t(),e.onaudioprocess=n}}else t()}},{key:"handleFileSystemReady",value:function(){}}])&&Ke(n.prototype,r),o&&Ke(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Pe.a),et=n(31);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ot(r.key),r)}}function rt(e,t,n){return t&&nt(e.prototype,t),n&&nt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ot(e){var t=function(e,t){if("object"!=tt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tt(t)?t:t+""}var it=rt((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new et.CalcCascades,r=n.lowpass({order:5,characteristic:"butterworth",Fs:t,Fc:200,gain:0}),o=n.lowpass({order:3,characteristic:"butterworth",Fs:t,Fc:120,gain:0}),i=n.highpass({order:3,characteristic:"butterworth",Fs:t,Fc:25,gain:0}),a=new et.IirFilter(r),s=new et.IirFilter(o),l=new et.IirFilter(i),u=0,c=0,f=0,d=0,h=Math.exp(-1/(.16*t)),p=0,m=Math.exp(-1/(.016*t));function g(e){return e=function(e){return e-(d=h*d+(1-h)*e)}(e),1.414*(p=m*p+(1-m)*Math.abs(e))}this.process=function(e){var t=a.singleStep(e),n=g(t);c=u,u=t,c<0&&u>=0&&(f=(f+1)%Math.pow(2,1));for(var r=0,o=0;o<1;o++){r+=f&1<<o?1:-1}return l.singleStep(s.singleStep(r))*n}}));function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mt(r.key),r)}}function ft(e,t,n){return t=dt(t),function(e,t){if(t&&("object"==at(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],dt(e).constructor):t.apply(e,n))}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e,t){return(ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function pt(e,t,n){return(t=mt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e){var t=function(e,t){if("object"!=at(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=at(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==at(t)?t:t+""}var gt=null,vt={".spc":5e3,".gym":1e4,".vgm":1e4,".vgz":1e4},yt=["nsf","nsfe","spc","ay","gbs"];window.requestIdleCallback=window.requestIdleCallback||function(e){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};var bt=function(e){function t(){var e;ut(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pt(e=ft(this,t,[].concat(r)),"paramDefs",[{id:"subbass",label:"Sub Bass",type:"number",min:0,max:2,step:.01,defaultValue:1},{id:"stereoWidth",label:"Stereo Width",type:"number",min:0,max:1,step:.01,defaultValue:1},{id:"disableEcho",label:"Disable SPC Echo",hint:"Disable echo effect for Super Nintendo SPC files.",type:"toggle",defaultValue:!1}]),Object(s.a)(e),gt=e.core,e.name="Game Music Emu Player",e.paused=!1,e.fileExtensions=yt,e.subtune=0,e.tempo=1,e.params={subbass:1},e.voiceMask=[],e.gmeCtx=null,e.seekRequestId=null,e.seekTargetMs=null,e.currentFileExt=null,e.buffer=gt._malloc(16*e.bufferSize),e.emuPtr=gt._malloc(4),e.subBass=new it(e.sampleRate),e.params={},e.paramDefs.forEach((function(t){return e.setParameter(t.id,t.defaultValue)})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ht(e,t)}(t,e),n=t,(r=[{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(t=0;t<e.length;t++)e[t].fill(0);else if(this.getPositionMs()>=this.getDurationMs()&&!1===this.fadingOut&&(console.log("Fading out at %d ms.",this.getPositionMs()),this.setFadeout(this.getPositionMs()),this.fadingOut=!0),1!==gt._gme_track_ended(this.gmeCtx)){for(gt._gme_play(this.gmeCtx,2*this.bufferSize,this.buffer),t=0;t<e.length;t++)for(n=0;n<this.bufferSize;n++)e[t][n]=gt.getValue(this.buffer+2*n*2+2*t,"i16")/65535;if(this.seekTargetMs){var r=Math.min(256,this.bufferSize/2);for(n=0;n<r;n++){var o=n/r;e[0][n]*=o,e[1][n]*=o,e[0][this.bufferSize-(n+1)]*=o,e[1][this.bufferSize-(n+1)]*=o}for(n=0;n<this.bufferSize;n++)e[0][n]*=.2,e[1][n]*=.2}if(this.params.stereoWidth<1){var i=me(this.params.stereoWidth,.5,1);for(n=0;n<this.bufferSize;n++){var a=e[0][n],s=e[1][n];e[0][n]=a*i+s*(1-i),e[1][n]=s*i+a*(1-i)}}if(this.params.subbass>0)for(n=0;n<this.bufferSize;n++){var l=this.subBass.process(e[0][n])*this.params.subbass;for(t=0;t<e.length;t++)e[t][n]+=l}}else this.subtune++,(this.subtune>=gt._gme_track_count(this.gmeCtx)||0!==this.playSubtune(this.subtune))&&(this.suspend(),console.debug("GMEPlayer.gmeAudioProcess(): _gme_track_ended == %s and subtune (%s) > _gme_track_count (%s).",gt._gme_track_ended(this.gmeCtx),this.subtune,gt._gme_track_count(this.gmeCtx)),this.emit("playerStateUpdate",{isStopped:!0}))}},{key:"playSubtune",value:function(e){return this.fadingOut=!1,this.subtune=e,this.metadata=this._parseMetadata(e),console.debug("GMEPlayer.playSubtune(subtune=%s)",e),this.emit("playerStateUpdate",lt(lt({},this.getBasePlayerState()),{},{isStopped:!1})),gt._gme_start_track(this.gmeCtx,e)}},{key:"loadData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.subtune=n,this.fadingOut=!1,this.seekTargetMs=null,this.seekRequestId=null,this.currentFileExt=v.a.extname(t),this.filepathMeta=Ze.metadataFromFilepath(t);var r=t.match(/(\.sgc$|\.kss$|\.nsfe?$|\.ay$|Master System|Game Gear)/i);this.params.subbass=r?1:0;var o=this.copyToHeap(e),i=gt._gme_open_data(o,e.length,this.emuPtr,this.sampleRate);if(gt._free(o),0!==i)throw this.stop(),Error("gme_open_data failed");if(this.gmeCtx=gt.getValue(this.emuPtr,"i32"),this.voiceMask=Array(gt._gme_voice_count(this.gmeCtx)).fill(!0),gt._gme_ignore_silence(this.gmeCtx,0),gt._gme_set_stereo_depth(this.gmeCtx,this.params.stereoWidth),gt._gme_disable_echo(this.gmeCtx,this.params.disableEcho?1:0),this.resume(),0!==this.playSubtune(this.subtune))throw this.stop(),Error("gme_start_track failed")}},{key:"_parseMetadata",value:function(e){var t=gt._malloc(4);0!==gt._gme_track_info(this.gmeCtx,t,e)&&console.error("could not load metadata");var n=gt.getValue(t,"*"),r=0,o=function(){var e=gt.getValue(n+r,"i32");return r+=4,e},i=function(){for(var e="",t=gt.getValue(n+r,"i8*"),o=0;o<255;o++){var i=gt.getValue(t+o,"i8");if(0===i)break;i<0&&(i=1+(255^Math.abs(i))),e+=String.fromCharCode(i)}return r+=4,e},a={};return a.length=o(),a.intro_length=o(),a.loop_length=o(),a.play_length=o(),r+=48,a.system=i(),a.game=i(),a.title=i()||a.game||this.filepathMeta.title,a.artist=i()||this.filepathMeta.artist,a.copyright=i(),a.comment=i(),a.formatted={title:a.game===a.title?a.title:ue(a.game," - ")+a.title,subtitle:[a.artist,a.system].filter((function(e){return e})).join(" - ")+ue(" (",a.copyright,")")},a}},{key:"getVoiceName",value:function(e){if(this.gmeCtx)return gt.UTF8ToString(gt._gme_voice_name(this.gmeCtx,e))}},{key:"getNumVoices",value:function(){if(this.gmeCtx)return gt._gme_voice_count(this.gmeCtx)}},{key:"getNumSubtunes",value:function(){if(this.gmeCtx)return gt._gme_track_count(this.gmeCtx)}},{key:"getSubtune",value:function(){return this.subtune}},{key:"getPositionMs",value:function(){return this.gmeCtx?gt._gme_tell_scaled(this.gmeCtx):0}},{key:"getDurationMs",value:function(){return this.gmeCtx?this.metadata.play_length:0}},{key:"getMetadata",value:function(){return this.metadata}},{key:"getParameter",value:function(e){return this.params[e]}},{key:"setParameter",value:function(e,t){switch(e){case"subbass":this.params[e]=parseFloat(t);break;case"stereoWidth":this.params[e]=parseFloat(t),this.gmeCtx&&gt._gme_set_stereo_depth(this.gmeCtx,t);break;case"disableEcho":this.params[e]=!!t,this.gmeCtx&&gt._gme_disable_echo(this.gmeCtx,t?1:0);break;default:console.warn('GMEPlayer has no parameter with id "%s".',e)}}},{key:"isPlaying",value:function(){return!this.isPaused()&&1!==gt._gme_track_ended(this.gmeCtx)}},{key:"getTempo",value:function(){return this.tempo}},{key:"setTempo",value:function(e){this.tempo=e,this.gmeCtx&&gt._gme_set_tempo(this.gmeCtx,e)}},{key:"setFadeout",value:function(e){this.gmeCtx&&gt._gme_set_fade(this.gmeCtx,e,4e3)}},{key:"getVoiceMask",value:function(){return this.voiceMask}},{key:"setVoiceMask",value:function(e){if(this.gmeCtx){var t=0;e.forEach((function(e,n){e||(t+=1<<n)})),gt._gme_mute_voices(this.gmeCtx,t),gt._gme_ignore_silence(this.gmeCtx,0===t?0:1),console.log("GMEPlayer: Silence detection is %s.",0===t?"enabled":"disabled"),this.voiceMask=e}}},{key:"doIncrementalSeek",value:function(e){var t=this;this.seekRequestId=requestIdleCallback((function(){var n=Math.min(t.getPositionMs()+e,t.seekTargetMs);gt._gme_seek_scaled(t.gmeCtx,n),n<t.seekTargetMs?t.doIncrementalSeek(e):(gt._gme_set_tempo(t.gmeCtx,t.tempo),t.seekTargetMs=null,t.seekRequestId=null)}))}},{key:"seekMs",value:function(e){var t=this;if(this.gmeCtx)if(vt[this.currentFileExt]){cancelIdleCallback(this.seekRequestId),this.seekTargetMs=e;var n=vt[this.currentFileExt];e<this.getPositionMs()&&gt._gme_seek_scaled(this.gmeCtx,0),gt._gme_set_tempo(this.gmeCtx,2),this.doIncrementalSeek(n)}else this.muteAudioDuringCall(this.audioNode,(function(){return gt._gme_seek_scaled(t.gmeCtx,e)}))}},{key:"stop",value:function(){this.suspend(),this.gmeCtx&&gt._gme_delete(this.gmeCtx),this.gmeCtx=null,console.debug("GMEPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&ct(n.prototype,r),o&&ct(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ze),_t=n(36),wt=n.n(_t);function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function kt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=St(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=St(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==St(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=n(15);n(121);var Ct=[126,127,9,1,247],Pt=[6,38,96,97,98,99,100,101],Ot=kt(kt(kt(kt(kt(kt(kt({},xt.EVENT_META_TEXT,"Text"),xt.EVENT_META_COPYRIGHT_NOTICE,"Copyright"),xt.EVENT_META_TRACK_NAME,"Track"),xt.EVENT_META_INSTRUMENT_NAME,"Instrument"),xt.EVENT_META_LYRICS,"Lyrics"),xt.EVENT_META_MARKER,"Marker"),xt.EVENT_META_CUE_POINT,"Cue point");function It(e){return("[F0 "+e.map((function(e){return("0"+e.toString(16)).slice(-2)})).join(" ")+"]").toUpperCase()}function Rt(e){Object(s.a)(this),e=e||{},this.output=e.output||null,this.synth=e.synth||null,this.programChangeCb=e.programChangeCb,this.speed=1,this.skipSilence=e.skipSilence||!1,this.lastProcessPlayTimestamp=0,this.lastSendTimestamp=0,this.events=[],this.paused=!0,this.useWebMIDI=!1,this.sampleRate=e.sampleRate||44100,this.channelsInUse=[],this.channelMask=[],this.channelProgramNums=[],this.textInfo=[],window.addEventListener("unload",this.stop)}Rt.prototype.load=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.stop(),this.position=0,this.elapsedTime=0;var n=e.tracks.map((function(t,n){return e.getTrackEvents(n)}));t?(console.debug("Processing MIDI track loops..."),this.events=e.getLoopedEvents(n,2)):this.events=e.getEvents(),this.summarizeMidiEvents()},Rt.prototype.doSkipSilence=function(){var e=this,t=0,n=0,r=0,o=this.events.find((function(e){return e.subtype===xt.EVENT_MIDI_NOTE_ON}));if(o&&o.playTime>0)if(this.useWebMIDI){for(var i,a=[];this.events[this.position]!==o;){var s=this.events[this.position];if(this.position++,s.type===xt.EVENT_SYSEX||s.type===xt.EVENT_DIVSYSEX){if(console.debug("Sysex event at %s ms:",Math.floor(s.playTime),It(s.data)),s.data&&0===s.data[3]&&0===s.data[4])t+=500,n+=500;else{var l=.5*s.length;t+=l,n+=l}r++,i=[s.type].concat(Et(s.data))}else if(-1!==xt.MIDI_1PARAM_EVENTS.indexOf(s.subtype))t+=2,n+=2,i=[(s.subtype<<4)+s.channel,s.param1];else{if(-1===xt.MIDI_2PARAMS_EVENTS.indexOf(s.subtype))continue;t+=2,n+=2,i=[(s.subtype<<4)+s.channel,s.param1,s.param2||0]}a.push({message:i,timestamp:this.lastProcessPlayTimestamp+n})}a.forEach((function(t){var n=t.message,r=t.timestamp;e.send(n,r)})),console.log("Time to first note %s ms was updated to %s ms; %s sysex events",Math.round(o.playTime),t,r),this.lastProcessPlayTimestamp+=t-o.playTime}else this.setPosition(o.playTime-50)},Rt.prototype.play=function(e){return 0===this.position?(this.endCallback=e,this.reset(),this.lastProcessPlayTimestamp=performance.now(),this.skipSilence&&this.doSkipSilence(),this.resume(),1):0},Rt.prototype.processPlaySynth=function(e,t){this.lastProcessPlayTimestamp=performance.now();for(var n=e,r=0,o=64,i=null,a=this.synth,s=1e3*this.speed*(o/this.sampleRate)/2,l=2*t;l>0;l-=o){if(o>l&&(o=l),!this.paused){var u=this.position;for(this.elapsedTime+=s;this.events[u]&&this.elapsedTime>=this.events[u].playTime;u++)switch((i=this.events[u]).subtype){case xt.EVENT_MIDI_NOTE_ON:if(!this.channelMask[i.channel])break;0===i.param2?a.noteOff(i.channel,i.param1):a.noteOn(i.channel,i.param1,i.param2);break;case xt.EVENT_MIDI_NOTE_OFF:a.noteOff(i.channel,i.param1);break;case xt.EVENT_MIDI_PROGRAM_CHANGE:this.handleProgramChange(i.channel,i.param1),a.programChange(i.channel,i.param1);break;case xt.EVENT_MIDI_PITCH_BEND:a.pitchBend(i.channel,(i.param2<<7)+i.param1);break;case xt.EVENT_MIDI_CONTROLLER:a.controlChange(i.channel,i.param1,i.param2)}this.position=u}a.render(e,o),e+=4*o,r+=o}if(this.position>=this.events.length){for(var c=0,f=0;f<t;f+=8)if(a.getValue(n+f,"float")>.001){c=1;break}if(0===c)return this.position=0,this.paused=!0,0}return r},Rt.prototype.processPlay=function(){var e=performance.now(),t=(e-this.lastProcessPlayTimestamp)*this.speed;if(this.lastProcessPlayTimestamp=e,!this.paused){var n=0,r=0,o=null;this.elapsedTime+=t;for(var i=this.events[this.position];this.events[this.position]&&i.playTime<this.elapsedTime+33;){if(o=null,r=0,i.type===xt.EVENT_SYSEX||i.type===xt.EVENT_DIVSYSEX)o=[i.type].concat(Et(i.data)),r=i.data&&0===i.data[3]&&0===i.data[4]?50:i.data.length/2,n>0?console.debug("Sysex event at %s ms delayed %s ms:",Math.floor(i.playTime),n,It(i.data)):console.debug("Sysex event at %s ms:",Math.floor(i.playTime),It(i.data));else switch(i.subtype){case xt.EVENT_MIDI_PROGRAM_CHANGE:this.handleProgramChange(i.channel,i.param1),o=[(i.subtype<<4)+i.channel,i.param1];break;case xt.EVENT_MIDI_CHANNEL_AFTERTOUCH:o=[(i.subtype<<4)+i.channel,i.param1];break;case xt.EVENT_MIDI_NOTE_OFF:case xt.EVENT_MIDI_NOTE_ON:case xt.EVENT_MIDI_NOTE_AFTERTOUCH:case xt.EVENT_MIDI_CONTROLLER:case xt.EVENT_MIDI_PITCH_BEND:if(!this.channelMask[i.channel])break;o=[(i.subtype<<4)+i.channel,i.param1,i.param2||0]}if(o){var a=(i.playTime-this.elapsedTime)/this.speed+this.lastProcessPlayTimestamp;this.send(o,a+n),n+=r,this.lastSendTimestamp=a}this.position++,i=this.events[this.position]}this.position>=this.events.length&&(setTimeout(this.endCallback,133),this.position=0,this.paused=!0)}},Rt.prototype.handleProgramChange=function(e,t){this.channelProgramNums[e]=t,this.programChangeCb()},Rt.prototype.togglePause=function(){return this.paused=!this.paused,!0===this.paused&&this.panic(this.lastSendTimestamp+10),this.paused},Rt.prototype.resume=function(){this.paused=!1},Rt.prototype.stop=function(){this.paused=!0,this.panic()},Rt.prototype.send=function(e,t){try{this.output.send(e,t)}catch(t){console.warn(t),console.warn(e)}},Rt.prototype.panic=function(e){if(this.useWebMIDI)for(var t=0;t<16;t++)this.send([(xt.EVENT_MIDI_CONTROLLER<<4)+t,64,0],e),this.send([(xt.EVENT_MIDI_CONTROLLER<<4)+t,120,0],e),this.send([(xt.EVENT_MIDI_CONTROLLER<<4)+t,121,0],e);else{for(var n=0;n<16;n++)this.synth.controlChange(n,64,0);this.synth.panic()}},Rt.prototype.reset=function(e){if(this.useWebMIDI){this.send([xt.EVENT_SYSEX].concat(Ct));for(var t=0;t<16;t++)this.send([(xt.EVENT_MIDI_CONTROLLER<<4)+t,64,0],e),this.send([(xt.EVENT_MIDI_CONTROLLER<<4)+t,120,0],e),this.send([(xt.EVENT_MIDI_CONTROLLER<<4)+t,121,0],e)}else this.synth.reset()},Rt.prototype.getDuration=function(){return this.events&&this.events.length>0?this.events[this.events.length-1].playTime:0},Rt.prototype.getPosition=function(){return this.elapsedTime},Rt.prototype.setOutput=function(e){this.panic(this.lastSendTimestamp+10),this.output=e,this.setPosition(this.getPosition()-10)},Rt.prototype.getSpeed=function(){return this.speed},Rt.prototype.setSpeed=function(e){this.speed=Math.max(.1,Math.min(10,e))},Rt.prototype.setPositionSynth=function(e){var t=this.synth;e.forEach((function(e){switch(e.subtype){case xt.EVENT_MIDI_PROGRAM_CHANGE:t.programChange(e.channel,e.param1);break;case xt.EVENT_MIDI_CONTROLLER:default:t.controlChange(e.channel,e.param1,e.param2)}}))},Rt.prototype.setPositionWebMidi=function(e,t){var n,r=this,o=this.paused;this.paused=!0,t.forEach((function(e,t){e.subtype===xt.EVENT_MIDI_PROGRAM_CHANGE?n=[(e.subtype<<4)+e.channel,e.param1]:e.subtype===xt.EVENT_MIDI_CONTROLLER&&(n=[(e.subtype<<4)+e.channel,e.param1,e.param2]),r.send(n,r.lastSendTimestamp+20+2*t)}));var i=t.length,a=2*i;console.log("Scheduled %s events. Resuming playback in %s ms...",i,a),o||setTimeout(this.resume,a)},Rt.prototype.setPosition=function(e){if(!(e<0||e>this.getDuration())){this.lastProcessPlayTimestamp=performance.now(),this.panic(this.lastSendTimestamp+10);var t={},n=[],r=this.position;for(e<this.elapsedTime&&(r=0);this.events[r]&&this.events[r].playTime<e;){var o=this.events[r];o.subtype===xt.EVENT_MIDI_PROGRAM_CHANGE?(this.handleProgramChange(o.channel,o.param1),t["".concat(o.subtype,"-").concat(o.channel)]=o):o.subtype===xt.EVENT_MIDI_CONTROLLER&&(Pt.includes(o.param1)?n.push(o):t["".concat(o.subtype,"-").concat(o.channel,"-").concat(o.param1)]=o),r++}n=Object.values(t).concat(n),this.useWebMIDI?this.setPositionWebMidi(e,n):this.setPositionSynth(n),this.elapsedTime=e,this.position=r}},Rt.prototype.getChannelInUse=function(e){return!!this.channelsInUse[e]},Rt.prototype.getChannelProgramNum=function(e){return this.channelProgramNums[e]},Rt.prototype.summarizeMidiEvents=function(){this.textInfo=[];for(var e=this.channelsInUse,t=this.channelProgramNums,n=this.channelMask,r=0;r<16;r++)e[r]=0,t[r]=0,n[r]=!0;for(var o=0;o<this.events.length;o++){var i=this.events[o];switch(i.subtype){case xt.EVENT_MIDI_NOTE_ON:e[i.channel]=1;break;case xt.EVENT_MIDI_PROGRAM_CHANGE:t[i.channel]||this.handleProgramChange(i.channel,i.param1);break;case xt.EVENT_META_TEXT:case xt.EVENT_META_COPYRIGHT_NOTICE:case xt.EVENT_META_TRACK_NAME:case xt.EVENT_META_LYRICS:case xt.EVENT_META_MARKER:case xt.EVENT_META_CUE_POINT:var a=i.data.map((function(e){return String.fromCharCode(e)})).join("").trim();a&&!a.match(/nstd/i)&&this.textInfo.push("".concat(Ot[i.subtype],": ").concat(a))}}},Rt.prototype.setChannelMute=function(e,t){if(this.channelMask[e]=!t,t){var n=this.lastSendTimestamp+10;this.send([(xt.EVENT_MIDI_CONTROLLER<<4)+e,64,0],n),this.send([(xt.EVENT_MIDI_CONTROLLER<<4)+e,120,0],n),this.synth.panicChannel(e)}},Rt.prototype.setUseWebMIDI=function(e){this.useWebMIDI=e,this.setPosition(this.getPosition()-10)};var At=Rt,Mt=["Piano         ","Bright Piano  ","Electric Piano","Honky-tonk    ","Rhodes Piano  ","FM Piano      ","Harpsichord   ","Clavinet      ","Celesta       ","Glockenspiel  ","Music Box     ","Vibraphone    ","Marimba       ","Xylophone     ","Tubular Bells ","Dulcimer      ","Drawbar Organ ","Perc Organ    ","Rock Organ    ","Church Organ  ","Reed Organ    ","Accordion     ","Harmonica     ","Accordion     ","Steel Guitar  ","Nylon Guitar  ","Jazz Guitar   ","Clean Guitar  ","Muted Guitar  ","Overdrive Guit","Distort Guitar","Guit Harmonics","Acoustic Bass ","Finger Bass   ","Picked Bass   ","Fretless Bass ","Slap Bass 1   ","Slap Bass 2   ","Synth Bass 1  ","Synth Bass 2  ","Violin        ","Viola         ","Cello         ","Contrabass    ","Trem Strings  ","Pizz Strings  ","Harp          ","Timpani       ","String Ens 1  ","String Ens 2  ","Syn Strings 1 ","Syn Strings 2 ","Choir Aahs    ","Voice Oohs    ","Synth Voice   ","Orch Hit      ","Trumpet       ","Trombone      ","Tuba          ","Muted Trumpet ","French Horn   ","Brass Section ","SynthBrass 1  ","SynthBrass 2  ","Soprano Sax   ","Alto Sax      ","Tenor Sax     ","Baritone Sax  ","Oboe          ","English Horn  ","Bassoon       ","Clarinet      ","Piccolo       ","Flute         ","Recorder      ","Pan Flute     ","Blown Bottle  ","Shakuhachi    ","Whistle       ","Ocarina       ","Lead: Square  ","Lead: Sawtooth","Lead: Calliope","Lead: Chiff   ","Lead: Charang ","Lead: Voice   ","Lead: Fifths  ","Lead: Bass    ","Pad: New Age  ","Pad: Warm     ","Pad: Polysynth","Pad: Choir    ","Pad: Bowed    ","Pad: Metallic ","Pad: Halo     ","Pad: Sweep    ","FX: Rain      ","FX: Soundtrack","FX: Crystal   ","FX: Atmosphere","FX: Brightness","FX: Goblins   ","FX: Echoes    ","FX: Sci-fi    ","Sitar         ","Banjo         ","Shamisen      ","Koto          ","Kalimba       ","Bag pipe      ","Fiddle        ","Shanai        ","Tinkle Bell   ","Agogo         ","Steel Drums   ","Woodblock     ","Taiko Drum    ","Melodic Tom   ","Synth Drum    ","Reverse Cym   ","Fret Noise    ","Breath Noise  ","Seashore      ","Bird Tweet    ","Telephone Ring","Helicopter    ","Applause      ","Gunshot       "],Nt={0:"Std Drumkit   ",8:"Room Drumkit  ",16:"Power Drumkit ",24:"Elec Drumkit  ",25:"TR808 Drumkit ",32:"Jazz Drumkit  ",40:"Brush Drumkit "},Dt=n(66),jt=n.n(Dt);function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ft=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:k(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",h="executing",p="completed",m={};function g(){}function v(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,a)&&(b=w);var S=y.prototype=g.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==Lt(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function k(t,n,r){var o=d;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?p:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Lt(t)+" is not iterable")}return v.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=u(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),u(S,l,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){Qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Vt(e){return function(e){if(Array.isArray(e))return Gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Gt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jt(r.key),r)}}function qt(e,t,n){return t=Xt(t),function(e,t){if(t&&("object"==Lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Xt(e).constructor):t.apply(e,n))}function $t(){return($t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Kt(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(null,arguments)}function Kt(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Xt(e)););return e}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e,t){return(Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e,t,n){return(t=Jt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e){var t=function(e,t){if("object"!=Lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lt(t)?t:t+""}var Zt=null,en={send:function(){}},tn=[en],nn=["mid","midi","smf"],rn=function(e){function t(){var e;Ht(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];Qt(e=qt(this,t,[].concat(r)),"paramDefs",[{id:"synthengine",label:"Synth Engine",type:"enum",options:[{label:"MIDI Synthesis Engine",items:[{label:"SoundFont (libFluidLite)",value:0},{label:"Adlib/OPL3 FM (libADLMIDI)",value:1},{label:"MIDI Device (Web MIDI)",value:2}]}],defaultValue:0},{id:"soundfont",label:"Soundfont",type:"enum",options:ie.SOUNDFONTS,defaultValue:ie.SOUNDFONTS[1].items[0].value,dependsOn:{param:"synthengine",value:0}},{id:"reverb",label:"Reverb",type:"number",min:0,max:1,step:.01,defaultValue:.33,dependsOn:{param:"synthengine",value:0}},{id:"chorus",label:"Chorus",type:"number",min:0,max:1,step:.01,defaultValue:.5,dependsOn:{param:"synthengine",value:0}},{id:"fluidpoly",label:"Polyphony",type:"number",min:4,max:256,step:4,defaultValue:128,dependsOn:{param:"synthengine",value:0}},{id:"opl3bank",label:"OPL3 Bank",type:"enum",options:[],defaultValue:58,dependsOn:{param:"synthengine",value:1}},{id:"mididevice",label:"MIDI Device",type:"enum",options:[{label:"MIDI Output Devices",items:[{label:"Dummy device",value:0}]}],defaultValue:0,dependsOn:{param:"synthengine",value:2}},{id:"autoengine",label:"Auto Synth Engine Switching",hint:'Switch synth engine based on filenames. Files containing "FM" will play through Adlib/OPL3 synth.',type:"toggle",defaultValue:!0},{id:"gmreset",label:"GM Reset",hint:"Send a General MIDI Reset sysex and reset all controllers on all channels.",type:"button"}]),Object(s.a)(e),(Zt=e.core)._tp_init(e.sampleRate),Zt.FS.mkdir(ie.SOUNDFONT_MOUNTPOINT),Zt.FS.mount(Zt.FS.filesystems.IDBFS,{},ie.SOUNDFONT_MOUNTPOINT),e.name="MIDI Player",e.fileExtensions=nn,e.activeChannels=[],e.buffer=Zt._malloc(4*e.bufferSize*2),e.filepathMeta={},e.midiFilePlayer=new At({programChangeCb:Se()((function(){return e.emit("playerStateUpdate",{voiceNames:jt()(e.getNumVoices()).map(e.getVoiceName)})}),200),output:en,skipSilence:!0,sampleRate:e.sampleRate,synth:{noteOn:Zt._tp_note_on,noteOff:Zt._tp_note_off,pitchBend:Zt._tp_pitch_bend,controlChange:Zt._tp_control_change,programChange:Zt._tp_program_change,panic:Zt._tp_panic,panicChannel:Zt._tp_panic_channel,render:Zt._tp_render,reset:Zt._tp_reset,getValue:Zt.getValue}});for(var i=Zt._adl_getBanksCount(),a=Zt._adl_getBankNames(),l=[],u=0;u<i;u++)l.push({label:Zt.UTF8ToString(Zt.getValue(a+4*u,"*")),value:u});return e.paramDefs.find((function(e){return"opl3bank"===e.id})).options=[{label:"OPL3 Bank",items:l}],e.webMidiIsInitialized=!1,e.params={},e.transientParams={},e.paramDefs.filter((function(e){return"soundfont"!==e.id})).forEach((function(t){return e.setParameter(t.id,t.defaultValue)})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yt(e,t)}(t,e),function(e,t,n){return t&&Wt(e.prototype,t),n&&Wt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"handleFileSystemReady",value:function(){var e=this.paramDefs.find((function(e){return"soundfont"===e.id}));this.setParameter(e.id,e.defaultValue),this.updateSoundfontParamDefs()}},{key:"processAudioInner",value:function(e){if(2===this.params.synthengine)this.midiFilePlayer.processPlay();else if(this.midiFilePlayer.processPlaySynth(this.buffer,this.bufferSize))for(var t=0;t<e.length;t++)for(var n=0;n<this.bufferSize;n++)e[t][n]=Zt.getValue(this.buffer+4*n*2+4*t,"float");else this.stop()}},{key:"metadataFromFilepath",value:function(e){var t=(e=decodeURIComponent(e)).split("/"),n=t.length,r={};return t.length>=3?r.formatted={title:"".concat(t[1]," - ").concat(t[n-1]),subtitle:t[0]}:2===t.length?r.formatted={title:t[1],subtitle:t[0]}:r.formatted={title:t[0],subtitle:"MIDI"},r}},{key:"ensureWebMidiInitialized",value:function(){var e=this;!0!==this.webMidiIsInitialized&&(this.webMidiIsInitialized=!0,console.debug("Requesting MIDI output devices."),"function"==typeof navigator.requestMIDIAccess?navigator.requestMIDIAccess({sysex:!0}).then((function(t){0===t.outputs.length?console.warn("No MIDI output devices found."):(Vt(t.outputs.values()).forEach((function(t){console.debug("MIDI Output:",t),tn.push(t),e.paramDefs.find((function(e){return"mididevice"===e.id})).options[0].items.push({label:t.name,value:tn.length-1})})),e.setParameter("mididevice",1))})):console.warn("Web MIDI API not supported. Try Chrome if you want to use external MIDI output devices."))}},{key:"loadData",value:(n=Ft().mark((function e(t,n){var r,o,i,a,s,l,u,c,f,d,h=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureWebMidiInitialized(),this.filepathMeta=this.metadataFromFilepath(n),r={},this.getParameter("autoengine")&&(r.synthengine=this.getSynthengineBasedOnFilename(n),r.opl3bank=this.getOpl3bankBasedOnFilename(n)),0!==this.getParameter("synthengine")){e.next=22;break}return o=de(n),i=!1,e.next=9,_e.fetchCached(o);case 9:if(a=e.sent,!(s=a.soundfont)){e.next=21;break}if(l=v.a.basename(fe(s)),u="user/".concat(l),r.soundfont=u,this.getParameter("soundfont")===u){e.next=19;break}return e.next=18,he(Zt,"".concat(ie.SOUNDFONT_MOUNTPOINT,"/").concat(u),s);case 18:this.updateSoundfontParamDefs();case 19:["Centre Court Tennis","Goemon","Bomberman","GoldenEye","Perfect Dark","Banjo Kazooie","Diddy Kong","Zelda"].some((function(e){return s.includes(e)}))&&(console.debug("MIDI channel 10 melodic mode enabled for %s.",l),i=!0);case 21:Zt._tp_set_ch10_melodic(i);case 22:for(Object.keys(this.params).forEach((function(e){r[e]!==h.transientParams[e]&&h.setTransientParameter(e,r[e])})),c=new wt.a(t),f=n.includes("SoundFont MIDI"),this.midiFilePlayer.load(c,f),this.midiFilePlayer.play((function(){return h.emit("playerStateUpdate",{isStopped:!0})})),this.activeChannels=[],d=0;d<16;d++)this.midiFilePlayer.getChannelInUse(d)&&this.activeChannels.push(d);this.resume(),this.emit("playerStateUpdate",Ut(Ut({},this.getBasePlayerState()),{},{isStopped:!1}));case 31:case"end":return e.stop()}}),e,this)})),r=function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){Bt(i,r,o,a,s,"next",e)}function s(e){Bt(i,r,o,a,s,"throw",e)}a(void 0)}))},function(e,t){return r.apply(this,arguments)})},{key:"getSynthengineBasedOnFilename",value:function(e){return e.toLowerCase().replace("_"," ").match(/(\bfm|fm\b)/i)?1:null}},{key:"getOpl3bankBasedOnFilename",value:function(e){var t=e.toLowerCase().replace("_"," "),n=this.paramDefs.find((function(e){return"opl3bank"===e.id}));if(n){var r=n.options[0].items,o=function(e){return r.findIndex((function(t){return t.label.indexOf(e)>-1}))},i=n.defaultValue;if(t.indexOf("[rick]")>-1?i=o("Descent:: Rick"):t.indexOf("[ham]")>-1?i=o("Descent:: Ham"):t.indexOf("[int]")>-1?i=o("Descent:: Int"):t.indexOf("descent 2")>-1?i=o("Descent 2"):t.indexOf("magic carpet")>-1?i=o("Magic Carpet"):t.indexOf("duke nukem")>-1?i=o("Duke Nukem"):t.indexOf("wacky wheels")>-1?i=o("Apogee IMF"):t.indexOf("warcraft 2")>-1?i=o("Warcraft 2"):t.indexOf("warcraft")>-1?i=o("Warcraft"):t.indexOf("system shock")>-1?i=o("System Shock"):t.indexOf("/hexen")>-1||t.indexOf("/heretic")>-1?i=o("Hexen"):t.indexOf("/raptor")>-1?i=o("Raptor"):t.indexOf("/doom 2")>-1?i=o("Doom 2"):t.indexOf("/doom")>-1&&(i=o("DOOM")),i>-1)return i}return null}},{key:"isPlaying",value:function(){return!this.midiFilePlayer.paused}},{key:"suspend",value:function(){var e,n,r,o,i;(e=t,n="suspend",r=this,i=$t(Xt(1&(o=3)?e.prototype:e),n,r),2&o&&"function"==typeof i?function(e){return i.apply(r,e)}:i)([]),this.midiFilePlayer.stop()}},{key:"stop",value:function(){this.suspend(),console.debug("MIDIPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}},{key:"togglePause",value:function(){return this.midiFilePlayer.togglePause()}},{key:"getDurationMs",value:function(){return this.midiFilePlayer.getDuration()}},{key:"getPositionMs",value:function(){return this.midiFilePlayer.getPosition()}},{key:"seekMs",value:function(e){return this.midiFilePlayer.setPosition(e)}},{key:"getTempo",value:function(){return this.midiFilePlayer.getSpeed()}},{key:"setTempo",value:function(e){this.midiFilePlayer.setSpeed(e)}},{key:"getNumVoices",value:function(){return this.activeChannels.length}},{key:"getVoiceName",value:function(e){var t=this.activeChannels[e],n=this.midiFilePlayer.channelProgramNums[t];return 9===t?Nt[n]||Nt[0]:Mt[n]}},{key:"getVoiceMask",value:function(){var e=this;return this.activeChannels.map((function(t){return e.midiFilePlayer.channelMask[t]}))}},{key:"setVoiceMask",value:function(e){var t=this;e.forEach((function(e,n){var r=t.activeChannels[n];t.midiFilePlayer.setChannelMute(r,!e)}))}},{key:"getMetadata",value:function(){return this.filepathMeta}},{key:"getInfoTexts",value:function(){return[this.midiFilePlayer.textInfo.join("\n")].filter((function(e){return""!==e}))}},{key:"getParameter",value:function(e){return"fluidpoly"===e?Zt._tp_get_polyphony():null!=this.transientParams[e]?this.transientParams[e]:this.params[e]}},{key:"updateSoundfontParamDefs",value:function(){this.paramDefs=this.paramDefs.map((function(e){if("soundfont"===e.id){var t=e.options[0],n="".concat(ie.SOUNDFONT_MOUNTPOINT,"/user/");Zt.FS.analyzePath(n).exists&&(t.items=Zt.FS.readdir(n).filter((function(e){return e.match(/\.sf2$/i)})).map((function(e){return{label:e,value:"user/".concat(e)}})))}return e}))}},{key:"setTransientParameter",value:function(e,t){null==t?this.setParameter(e,this.params[e]):this.setParameter(e,t,!0)}},{key:"setFluidChorus",value:function(e){var t=Zt._tp_get_fluid_synth();if(0===e)Zt._fluid_synth_set_chorus_on(t,!1);else{Zt._fluid_synth_set_chorus_on(t,!0);var n=Math.round(me(e,0,4)),r=Math.round(me(e,2,14));Zt._fluid_synth_set_chorus(t,3,n,.3,r,0)}}},{key:"setParameter",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e){case"synthengine":t=parseInt(t,10),this.midiFilePlayer.panic(),2===t?this.midiFilePlayer.setUseWebMIDI(!0):(this.midiFilePlayer.setUseWebMIDI(!1),Zt._tp_set_synth_engine(t));break;case"soundfont":var o="".concat(ie.SOUNDFONT_URL_PATH,"/").concat(t);he(Zt,"".concat(ie.SOUNDFONT_MOUNTPOINT,"/").concat(t),o).then((function(e){return n._loadSoundfont(e)}));break;case"reverb":t=parseFloat(t),Zt._tp_set_reverb(t);break;case"chorus":t=parseFloat(t),this.setFluidChorus(t);break;case"fluidpoly":t=parseInt(t,10),Zt._tp_set_polyphony(t);break;case"opl3bank":t=parseInt(t,10),Zt._tp_set_bank(t);break;case"autoengine":t=!!t;break;case"mididevice":this.midiFilePlayer.setOutput(tn[t]);break;case"gmreset":this.midiFilePlayer.reset();break;default:console.warn('MIDIPlayer has no parameter with id "%s".',e)}r?this.transientParams[e]=t:(delete this.transientParams[e],this.params[e]=t)}},{key:"_loadSoundfont",value:function(e){console.log("Loading soundfont %s...",e),this.muteAudioDuringCall(this.audioNode,(function(){-1!==Zt.ccall("tp_load_soundfont","number",["string"],[e])&&console.log("Loaded soundfont.")}))}}]);var n,r}(Ze);function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ln(e,t,n){return(t=fn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fn(r.key),r)}}function fn(e){var t=function(e,t){if("object"!=on(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=on(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==on(t)?t:t+""}function dn(e,t,n){return t=hn(t),function(e,t){if(t&&("object"==on(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],hn(e).constructor):t.apply(e,n))}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t){return(pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var mn=["v2m"],gn=function(e){function t(){var e;un(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=dn(this,t,[].concat(r)),Object(s.a)(e),e.name="Farbrausch V2M Player",e.speed=1,e.fileExtensions=mn,e.buffer=e.core._malloc(8*e.bufferSize),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pn(e,t)}(t,e),n=t,(r=[{key:"loadData",value:function(e,t){var n=this.copyToHeap(e),r=this.core._v2m_open(n,e.byteLength,this.sampleRate);if(this.core._free(n),0!==r)throw console.error("v2m_open failed. error code: %d",r),Error("Unable to load this file!");this.metadata={title:t},this.resume(),this.emit("playerStateUpdate",sn(sn({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(0===this.core._v2m_write_audio(this.buffer,this.bufferSize)&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+4*t*2+4*n,"float")}},{key:"getTempo",value:function(){return this.speed}},{key:"setTempo",value:function(e){return this.speed=e,this.core._v2m_set_speed(e)}},{key:"getPositionMs",value:function(){return this.core._v2m_get_position_ms()}},{key:"getDurationMs",value:function(){return this.core._v2m_get_duration_ms()}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){this.core._v2m_seek_ms(e)}},{key:"stop",value:function(){this.suspend(),this.core._v2m_close(),console.debug("V2MPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&cn(n.prototype,r),o&&cn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ze);function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){_n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _n(e,t,n){return(t=En(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,En(r.key),r)}}function En(e){var t=function(e,t){if("object"!=vn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vn(t)?t:t+""}function Tn(e,t,n){return t=kn(t),function(e,t){if(t&&("object"==vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],kn(e).constructor):t.apply(e,n))}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xn(e,t){return(xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Cn=Math.pow(2,16)-1,Pn=["it","mod","s3m","xm"],On=function(e){function t(){var e;wn(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=Tn(this,t,[].concat(r)),Object(s.a)(e),e.name="XMP Player",e.xmpCtx=e.core._xmp_create_context(),e.infoPtr=e.core._malloc(2048),e.fileExtensions=Pn,e.lastBPM=125,e.tempoScale=e.lastTempoScale=1,e._positionMs=0,e._durationMs=1e3,e.buffer=e.core._malloc(16*e.bufferSize),e.infoTexts=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xn(e,t)}(t,e),n=t,(r=[{key:"processAudioInner",value:function(e){var t,n,r,o=this.infoPtr;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else{if(-1===(r=this.core._xmp_play_buffer(this.xmpCtx,this.buffer,4*this.bufferSize,1)))this.stop();else if(0!==r)throw this.suspend(),console.error("xmp_play_buffer failed. error code: %d",r),Error("xmp_play_buffer failed");this.core._xmp_get_frame_info(this.xmpCtx,o);var i=this.core.getValue(o+24,"i32");for(this._positionMs=this.core.getValue(o+28,"i32"),this._maybeInjectTempo(i),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+2*t*2+2*n,"i16")/Cn}}},{key:"_parseMetadata",value:function(){var e={},t=[],n=this.core,r=this.infoPtr;n._xmp_get_module_info(this.xmpCtx,r);var o=n.getValue(r+20,"*");e.title=n.UTF8ToString(o,256),e.system=n.UTF8ToString(o+64,256),e.comment=n.UTF8ToString(n.getValue(r+24,"*"),512),e.comment&&t.push("Comment:",e.comment),n._xmp_get_frame_info(this.xmpCtx,r),this._durationMs=n.getValue(r+32,"i32"),e.patterns=n.getValue(o+128+0,"i32"),e.tracks=n.getValue(o+128+4,"i32"),e.numChannels=n.getValue(o+128+8,"i32"),e.numInstruments=n.getValue(o+128+12,"i32"),e.numSamples=n.getValue(o+128+16,"i32"),e.initialSpeed=n.getValue(o+128+20,"i32"),e.initialBPM=n.getValue(o+128+24,"i32"),e.moduleLength=n.getValue(o+128+28,"i32"),e.restartPosition=n.getValue(o+128+32,"i32");for(var i=n.getValue(o+128+48,"i32"),a=[],s=0;s<e.numInstruments;s++){var l=i+764*s;a.push(n.UTF8ToString(l))}var u=a.join("\n");u.trim()&&t.push("Instruments:",u),e.title||(e.title=this.filepathMeta.title),this.lastBPM=e.initialBPM,this.metadata=e,this.infoTexts=t.length?[t.join("\n\n")]:[]}},{key:"loadData",value:function(e,t){var n;this.filepathMeta=Ze.metadataFromFilepath(t);var r=this.copyToHeap(e);if(n=this.core._xmp_load_module_from_memory(this.xmpCtx,r,e.length),this.core._free(r),0!==n)throw console.error("xmp_load_module_from_memory failed. error code: %d",n),Error("xmp_load_module_from_memory failed");if(0!==(n=this.core._xmp_start_player(this.xmpCtx,this.sampleRate,0)))throw console.error("xmp_start_player failed. error code: %d",n),Error("xmp_start_player failed");this._parseMetadata(t),this.resume(),this.emit("playerStateUpdate",bn(bn({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"getVoiceMask",value:function(){for(var e=[],t=0;t<this.metadata.numChannels;t++)e.push(!this.core._xmp_channel_mute(this.xmpCtx,t,-1));return e}},{key:"setVoiceMask",value:function(e){var t=this;e.forEach((function(e,n){t.core._xmp_channel_mute(t.xmpCtx,n,e?0:1)}))}},{key:"getTempo",value:function(){return this.tempoScale}},{key:"setTempo",value:function(e){!this.metadata||this.metadata.initialSpeed?this.tempoScale=e:console.log("Unable to set speed for %s.",this.filepathMeta.title)}},{key:"_maybeInjectTempo",value:function(e){var t=this.core,n=Math.floor(Math.max(Math.min(this.lastBPM*this.tempoScale,255),20));if(n!==e){var r=this.metadata.initialBPM;if(this.lastTempoScale===this.tempoScale){if(this.lastBPM=e,1===this.tempoScale)return;r=Math.floor(Math.max(Math.min(e*this.tempoScale,255),20))}else r=n,this.lastTempoScale=this.tempoScale;console.log("Injecting %d BPM into libxmp. (Initial: %d)",r,this.metadata.initialBPM);for(var o=t._malloc(8),i=0;i<8;i++)t.setValue(o+i,0,"i8");t.setValue(o+3,135,"i8"),t.setValue(o+4,r,"i32"),t._xmp_inject_event(this.xmpCtx,0,o)}}},{key:"getVoiceName",value:function(e){return"Ch ".concat(e+1)}},{key:"getNumVoices",value:function(){return this.metadata.numChannels}},{key:"getPositionMs",value:function(){return this._positionMs}},{key:"getDurationMs",value:function(){return this._durationMs}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){var e=this.core._xmp_get_player(this.xmpCtx,8);return!this.isPaused()&&2===e}},{key:"seekMs",value:function(e){this.core._xmp_seek_time(this.xmpCtx,e)}},{key:"stop",value:function(){this.suspend(),this.core._xmp_stop_module(this.xmpCtx),console.debug("XMPPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&Sn(n.prototype,r),o&&Sn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ze);function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){Mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mn(e,t,n){return(t=Un(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||jn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e){return function(e){if(Array.isArray(e))return Ln(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(e,t){if(e){if("string"==typeof e)return Ln(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ln(e,t):void 0}}function Ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Un(r.key),r)}}function Un(e){var t=function(e,t){if("object"!=In(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=In(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==In(t)?t:t+""}function Bn(e,t,n){return t=Vn(t),function(e,t){if(t&&("object"==In(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vn(e).constructor):t.apply(e,n))}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(e,t){return(Gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Hn=["miniusf"],Wn=Math.pow(2,16)-1,qn=function(e){function t(){var e;Fn(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=Bn(this,t,[].concat(r)),Object(s.a)(e),e.core.FS.mkdirTree("/n64"),e.core.FS.mount(e.core.FS.filesystems.IDBFS,{},"/n64"),e.name="N64 Player",e.fileExtensions=Hn,e.buffer=e.core._malloc(4*e.bufferSize),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gn(e,t)}(t,e),n=t,(r=[{key:"loadData",value:function(e,t){var n,r=this;this.filepathMeta=Ze.metadataFromFilepath(t);var o=String.fromCharCode.apply(null,e).match(/_lib=([^\n]+)/).slice(1);if(0===o.length)throw new Error("No .usflib references found");var i=v.a.dirname(t),a=ce("/n64",t),s=[pe(this.core,a,e)].concat(Dn(o.map((function(e){var t=ce("/n64",i,e),n=ce(ie.CATALOG_PREFIX,i,e);return he(r.core,t,n)}))));return Promise.all(s).then((function(e){var o=Nn(e,1)[0];r.muteAudioDuringCall(r.audioNode,(function(){if(0!==(n=r.core.ccall("n64_load_file","number",["string","number","number","number"],[o,r.buffer,r.bufferSize,r.sampleRate])))throw console.error("n64_load_file failed. error code: %d",n),Error("n64_load_file failed");r.metadata={title:t},r.resume(),r.emit("playerStateUpdate",An(An({},r.getBasePlayerState()),{},{isStopped:!1}))}))}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(this.core._n64_render_audio(this.buffer,this.bufferSize)<=0&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+2*t*2+2*n,"i16")/Wn}},{key:"getPositionMs",value:function(){return this.core._n64_get_position_ms()}},{key:"getDurationMs",value:function(){return this.core._n64_get_duration_ms()}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){this.core._n64_seek_ms(e)}},{key:"stop",value:function(){this.suspend(),this.core._n64_shutdown(),console.debug("N64Player.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&zn(n.prototype,r),o&&zn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ze),$n=n(46),Kn=n.n($n);function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){Jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jn(e,t,n){return(t=tr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tr(r.key),r)}}function tr(e){var t=function(e,t){if("object"!=Xn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xn(t)?t:t+""}function nr(e,t,n){return t=rr(t),function(e,t){if(t&&("object"==Xn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],rr(e).constructor):t.apply(e,n))}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function or(e,t){return(or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ir=["mdx"],ar=Math.pow(2,16)-1,sr=function(e){function t(){var e;Zn(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=nr(this,t,[].concat(r)),Object(s.a)(e),e.core.FS.mkdirTree("/mdx"),e.core.FS.mount(e.core.FS.filesystems.IDBFS,{},"/mdx"),e.name="Sharp X68000 MDX Player",e.speed=1,e.mdxCtx=e.core._mdx_create_context(),e.core._mdx_set_rate(e.sampleRate),e.core._mdx_set_dir(e.mdxCtx,"/mdx"),e.fileExtensions=ir,e.buffer=e.core._malloc(4*e.bufferSize),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&or(e,t)}(t,e),n=t,(r=[{key:"loadData",value:function(e,t){var n,r=this;this.filepathMeta=Ze.metadataFromFilepath(t);var o=v.a.dirname(t),i=ce("/mdx",t);return pe(this.core,i,e).then((function(){var e=r.core.ccall("mdx_get_pdx_filename","string",["number","string"],[r.mdxCtx,i]);if(e){var t=ce("/mdx",o,e),n=ce(ie.CATALOG_PREFIX,o,e.toUpperCase());return he(r.core,t,n)}})).then((function(){r.muteAudioDuringCall(r.audioNode,(function(){if(0!==(n=r.core.ccall("mdx_open","number",["number","string","string"],[r.mdxCtx,i,null])))throw console.error("mdx_load_file failed. error code: %d",n),Error("mdx_load_file failed");r.core._mdx_set_speed(r.mdxCtx,r.speed);var e=r.core._malloc(256);r.core._mdx_get_title(r.mdxCtx,e);var o=r.core.HEAPU8.subarray(e,e+256),a=o.indexOf(0),s=new TextDecoder("shift-jis").decode(o.subarray(0,a));r.metadata={title:s||v.a.basename(t)},r.resume(),r.emit("playerStateUpdate",Qn(Qn({},r.getBasePlayerState()),{},{isStopped:!1}))}))}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(0===this.core._mdx_calc_sample(this.mdxCtx,this.buffer,this.bufferSize)&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+2*t*2+2*n,"i16")/ar}},{key:"getTempo",value:function(){return this.speed}},{key:"setTempo",value:function(e){return this.speed=e,this.core._mdx_set_speed(this.mdxCtx,e)}},{key:"getPositionMs",value:function(){return this.core._mdx_get_position_ms(this.mdxCtx)}},{key:"getDurationMs",value:function(){return 1e3*this.core._mdx_get_length(this.mdxCtx)}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"getVoiceName",value:function(e){if(this.mdxCtx)return this.core.UTF8ToString(this.core._mdx_get_track_name(this.mdxCtx,e))}},{key:"getNumVoices",value:function(){if(this.mdxCtx)return this.core._mdx_get_tracks(this.mdxCtx)}},{key:"getVoiceGroups",value:function(){if(!this.mdxCtx)return[];for(var e,t=[],n=this.core._mdx_get_tracks(this.mdxCtx),r=0;r<n;r++){var o=this.core.UTF8ToString(this.core._mdx_get_track_name(this.mdxCtx,r));0===r&&(e={name:"YM2151 (OPM)",icon:Kn.a,voices:[]},t.push(e)),8===r&&(e={name:9===n?"OKI MSM6258":"Mercury Unit (PCM8)",icon:Kn.a,voices:[]},t.push(e)),e.voices.push({idx:r,name:o})}return t}},{key:"getVoiceMask",value:function(){for(var e=[],t=this.core._mdx_get_track_mask(this.mdxCtx),n=0;n<this.core._mdx_get_tracks(this.mdxCtx);n++)e.push(0==(t>>n&1));return e}},{key:"setVoiceMask",value:function(e){var t=0;e.forEach((function(e,n){e||(t+=1<<n)})),this.mdxCtx&&this.core._mdx_set_track_mask(this.mdxCtx,t)}},{key:"seekMs",value:function(e){var t=this;this.muteAudioDuringCall(this.audioNode,(function(){return t.core._mdx_set_position_ms(t.mdxCtx,e)}))}},{key:"stop",value:function(){this.suspend(),this.core._mdx_close(this.mdxCtx),console.debug("MDXPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&er(n.prototype,r),o&&er(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ze);function lr(e){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(n),!0).forEach((function(t){fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fr(e,t,n){return(t=pr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pr(r.key),r)}}function pr(e){var t=function(e,t){if("object"!=lr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lr(t)?t:t+""}function mr(e,t,n){return t=gr(t),function(e,t){if(t&&("object"==lr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],gr(e).constructor):t.apply(e,n))}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e,t){return(vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var yr=["vgm","vgz","gym","s98","dro"],br=function(e){function t(){var e;dr(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=mr(this,t,[].concat(r)),Object(s.a)(e),e.name="LibVGM Player",e.speed=1,e.fileExtensions=yr,e.buffer=e.core._malloc(4*e.bufferSize*2),e.vgmCtx=e.core._lvgm_init(e.sampleRate),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vr(e,t)}(t,e),n=t,(r=[{key:"loadData",value:function(e,t){var n=this.copyToHeap(e),r=this.core._lvgm_load_data(this.vgmCtx,n,e.byteLength);if(this.core._free(n),0!==r)throw console.error("lvgm_load_data failed. error code: %d",r),Error("Unable to load this file!");this.core._lvgm_start(this.vgmCtx);var o=this.core._lvgm_get_metadata(this.vgmCtx),i={title:this.core.UTF8ToString(this.core.getValue(o+0,"i32")),artist:this.core.UTF8ToString(this.core.getValue(o+4,"i32")),game:this.core.UTF8ToString(this.core.getValue(o+8,"i32")),system:this.core.UTF8ToString(this.core.getValue(o+12,"i32")),date:this.core.UTF8ToString(this.core.getValue(o+16,"i32")),comment:this.core.UTF8ToString(this.core.getValue(o+20,"i32"))};i.formatted={title:i.game===i.title?i.title:ue(i.game," - ")+i.title,subtitle:[i.artist,i.system].filter((function(e){return e})).join(" - ")+ue(" (",i.date,")")},this.metadata=i,this.resume(),this.emit("playerStateUpdate",cr(cr({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"processAudioInner",value:function(e){var t,n;if(this.paused)for(n=0;n<e.length;n++)e[n].fill(0);else for(0===this.core._lvgm_render(this.vgmCtx,this.buffer,this.bufferSize)&&this.stop(),n=0;n<e.length;n++)for(t=0;t<this.bufferSize;t++)e[n][t]=this.core.getValue(this.buffer+4*t*2+4*n,"i32")/134217728}},{key:"getTempo",value:function(){if(this.vgmCtx)return this.core._lvgm_get_playback_speed(this.vgmCtx)}},{key:"setTempo",value:function(e){if(this.vgmCtx)return this.core._lvgm_set_playback_speed(this.vgmCtx,e)}},{key:"getPositionMs",value:function(){if(this.vgmCtx)return this.core._lvgm_get_position_ms(this.vgmCtx)}},{key:"getDurationMs",value:function(){if(this.vgmCtx)return this.core._lvgm_get_duration_ms(this.vgmCtx)}},{key:"getNumVoices",value:function(){if(this.vgmCtx)return this.core._lvgm_get_voice_count(this.vgmCtx)}},{key:"getVoiceGroups",value:function(){for(var e,t,n=[],r=this.core._lvgm_get_voice_count(this.vgmCtx),o=0;o<r;o++){var i=this.core.UTF8ToString(this.core._lvgm_get_voice_name(this.vgmCtx,o)),a=this.core.UTF8ToString(this.core._lvgm_get_voice_chip_name(this.vgmCtx,o));a!==e&&(t={name:a,icon:!0,voices:[]},e=a,n.push(t)),t.voices.push({idx:o,name:i})}return n}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){this.vgmCtx&&this.core._lvgm_seek_ms(this.vgmCtx,e)}},{key:"getVoiceName",value:function(e){if(this.vgmCtx)return this.core.UTF8ToString(this.core._lvgm_get_voice_name(this.vgmCtx,e))}},{key:"getVoiceMask",value:function(){if(this.vgmCtx){for(var e=this.core._lvgm_get_voice_mask(this.vgmCtx),t=[],n=0n;n<64n;n++)t.push(0n===(e&1n<<n));return t}return[]}},{key:"setVoiceMask",value:function(e){if(this.vgmCtx){var t=0n;e.forEach((function(e,n){e||(t+=1n<<BigInt(n))})),this.core._lvgm_set_voice_mask(this.vgmCtx,t)}}},{key:"stop",value:function(){this.suspend(),this.vgmCtx&&this.core._lvgm_stop(this.vgmCtx),console.debug("VGMPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&hr(n.prototype,r),o&&hr(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ze);function _r(e){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sr(r.key),r)}}function Sr(e){var t=function(e,t){if("object"!=_r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_r(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_r(t)?t:t+""}function Er(e,t,n){return t=Tr(t),function(e,t){if(t&&("object"==_r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Tr(e).constructor):t.apply(e,n))}function Tr(e){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kr(e,t){return(kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var xr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(n=Er(this,t,[e])),n.node=o.a.createRef(),n.knob=o.a.createRef(),n.state={dragging:!1,draggedPos:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kr(e,t)}(t,e),n=t,(r=[{key:"onMouseMove",value:function(e){if(this.state.dragging){var t=this.node.current,n=this.knob.current,r=(e.clientX-t.offsetLeft-n.offsetWidth/2)/t.offsetWidth,o=Math.max(Math.min(r,1),0);this.setState({draggedPos:o}),this.props.onDrag(o)}}},{key:"onMouseDown",value:function(e){var t=this;e.preventDefault(),e.persist(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),this.setState({dragging:!0},(function(){return t.onMouseMove(e)}))}},{key:"onMouseUp",value:function(e){var t=this;document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),setTimeout((function(){t.setState({dragging:!1})}),150),this.props.onChange(this.state.draggedPos)}},{key:"render",value:function(){var e=100*Math.max(Math.min(this.state.dragging?this.state.draggedPos:this.props.pos,1),0)+"%";return o.a.createElement("div",{ref:this.node,className:"Slider",onMouseDown:this.onMouseDown},o.a.createElement("div",{className:"Slider-rail"}),o.a.createElement("div",{className:"Slider-knob",ref:this.knob,style:{left:e}}))}}])&&wr(n.prototype,r),i&&wr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(r.PureComponent);function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Or(r.key),r)}}function Or(e){var t=function(e,t){if("object"!=Cr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cr(t)?t:t+""}function Ir(e,t,n){return t=Rr(t),function(e,t){if(t&&("object"==Cr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Rr(e).constructor):t.apply(e,n))}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ar(e,t){return(Ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Mr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(n=Ir(this,t,[e])),n.state={draggedSongPositionMs:-1,currentSongPositionMs:0},n.timer=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ar(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this;!0===e.paused&&!1===this.props.paused?this.timer=setInterval((function(){var e=t.props,n=e.getCurrentPositionMs,r=e.currentSongDurationMs;t.setState({currentSongPositionMs:Math.min(n(),r)})}),100):!1===e.paused&&!0===this.props.paused&&clearInterval(this.timer)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"getSongPos",value:function(){return this.state.currentSongPositionMs/this.props.currentSongDurationMs}},{key:"getTimeLabel",value:function(){var e=this.state.draggedSongPositionMs>=0?this.state.draggedSongPositionMs:this.state.currentSongPositionMs;return this.getTime(e)}},{key:"getTime",value:function(e){var t=e<0?"-":"";e=Math.abs(e);var n,r=Math.floor(e/6e4),o=(Math.floor(e%6e4/100)/10).toFixed(1);return"".concat(t).concat(r,":").concat((n=o)<10?"0"+n:n)}},{key:"handlePositionDrag",value:function(e){var t=e.target?e.target.value:e;this.setState({draggedSongPositionMs:t*this.props.currentSongDurationMs})}},{key:"handlePositionDrop",value:function(e){this.setState({draggedSongPositionMs:-1,currentSongPositionMs:this.state.draggedSongPositionMs}),this.props.onChange(e)}},{key:"render",value:function(){return o.a.createElement("div",{className:"TimeSlider"},o.a.createElement(xr,{pos:this.getSongPos(),onDrag:this.handlePositionDrag,onChange:this.handlePositionDrop}),o.a.createElement("div",{className:"TimeSlider-labels"},o.a.createElement("div",null,this.getTimeLabel()),o.a.createElement("div",null,this.getTime(this.props.currentSongDurationMs))))}}])&&Pr(n.prototype,r),i&&Pr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.a.Component),Nr=Object(r.memo)(Dr);function Dr(e){return o.a.createElement("div",{className:"VolumeSlider"},o.a.createElement("input",{type:"range",title:"Volume",min:0,max:150,step:1,onChange:e.onChange,onDoubleClick:e.handleReset,onContextMenu:e.handleReset,value:e.value}),o.a.createElement("div",{className:"VolumeSlider-labels"},o.a.createElement("div",null,"Volume"),o.a.createElement("div",null,e.value,"%")))}var jr=n(2),Lr=n(67);class Fr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Lr.a;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,"[DEFAULT]"===r?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ur{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=[];var Vr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Vr||(Vr={}));const Gr={debug:Vr.DEBUG,verbose:Vr.VERBOSE,info:Vr.INFO,warn:Vr.WARN,error:Vr.ERROR,silent:Vr.SILENT},Hr=Vr.INFO,Wr={[Vr.DEBUG]:"log",[Vr.VERBOSE]:"log",[Vr.INFO]:"info",[Vr.WARN]:"warn",[Vr.ERROR]:"error"},qr=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),o=Wr[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${r}]  ${e.name}:`,...n)};class $r{constructor(e){this.name=e,this._logLevel=Hr,this._logHandler=qr,this._userLogHandler=null,Br.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Gr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Vr.DEBUG,...e),this._logHandler(this,Vr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Vr.VERBOSE,...e),this._logHandler(this,Vr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Vr.INFO,...e),this._logHandler(this,Vr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Vr.WARN,...e),this._logHandler(this,Vr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Vr.ERROR,...e),this._logHandler(this,Vr.ERROR,...e)}}var Kr=n(18);let Xr,Yr;const Qr=new WeakMap,Jr=new WeakMap,Zr=new WeakMap,eo=new WeakMap,to=new WeakMap;let no={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Jr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Zr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return io(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ro(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yr||(Yr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(ao(this),t),io(Qr.get(this))}:function(...t){return io(e.apply(ao(this),t))}:function(t,...n){const r=e.call(ao(this),t,...n);return Zr.set(r,t.sort?t.sort():[t]),io(r)}}function oo(e){return"function"==typeof e?ro(e):(e instanceof IDBTransaction&&function(e){if(Jr.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});Jr.set(e,t)}(e),t=e,(Xr||(Xr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,no):e);var t}function io(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(io(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&Qr.set(t,e)}).catch(()=>{}),to.set(t,e),t}(e);if(eo.has(e))return eo.get(e);const t=oo(e);return t!==e&&(eo.set(e,t),to.set(t,e)),t}const ao=e=>to.get(e);const so=["get","getKey","getAll","getAllKeys","count"],lo=["put","add","delete","clear"],uo=new Map;function co(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(uo.get(t))return uo.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=lo.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!so.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),o&&i.done]))[0]};return uo.set(t,i),i}no=(e=>({...e,get:(t,n,r)=>co(t,n)||e.get(t,n,r),has:(t,n)=>!!co(t,n)||e.has(t,n)}))(no);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fo{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const ho="@firebase/app",po=new $r("@firebase/app"),mo={[ho]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},go=new Map,vo=new Map;function yo(e,t){try{e.container.addComponent(t)}catch(n){po.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function bo(e){const t=e.name;if(vo.has(t))return po.debug(`There were multiple attempts to register component ${t}.`),!1;vo.set(t,e);for(const t of go.values())yo(t,e);return!0}function _o(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const wo={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},So=new Kr.a("app","Firebase",wo);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Eo{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),o=r.name;if("string"!=typeof o||!o)throw So.create("bad-app-name",{appName:String(o)});if(n||(n=Object(Kr.e)()),!n)throw So.create("no-options");const i=go.get(o);if(i){if(Object(Kr.d)(n,i.options)&&Object(Kr.d)(r,i.config))return i;throw So.create("duplicate-app",{appName:o})}const a=new Ur(o);for(const e of vo.values())a.addComponent(e);const s=new Eo(n,r,a);return go.set(o,s),s}function ko(e="[DEFAULT]"){const t=go.get(e);if(!t&&"[DEFAULT]"===e&&Object(Kr.e)())return To();if(!t)throw So.create("no-app",{appName:e});return t}function xo(e,t,n){var r;let o=null!==(r=mo[e])&&void 0!==r?r:e;n&&(o+="-"+n);const i=o.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${o}" with version "${t}":`];return i&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void po.warn(e.join(" "))}bo(new Fr(o+"-version",()=>({library:o,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Co="firebase-heartbeat-store";let Po=null;function Oo(){return Po||(Po=function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(e,t),s=io(a);return r&&a.addEventListener("upgradeneeded",e=>{r(io(a.result),e.oldVersion,e.newVersion,io(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Co)}}}).catch(e=>{throw So.create("idb-open",{originalErrorMessage:e.message})})),Po}async function Io(e,t){try{const n=(await Oo()).transaction(Co,"readwrite"),r=n.objectStore(Co);await r.put(t,Ro(e)),await n.done}catch(e){if(e instanceof Kr.b)po.warn(e.message);else{const t=So.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});po.warn(t.message)}}}function Ro(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new No(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Mo();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Mo(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),Do(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Do(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Object(Kr.c)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Mo(){return(new Date).toISOString().substring(0,10)}class No{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Object(Kr.f)()&&Object(Kr.g)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const t=await Oo();return await t.transaction(Co).objectStore(Co).get(Ro(e))}catch(e){if(e instanceof Kr.b)po.warn(e.message);else{const t=So.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});po.warn(t.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Io(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Io(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Do(e){return Object(Kr.c)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jo;jo="",bo(new Fr("platform-logger",e=>new fo(e),"PRIVATE")),bo(new Fr("heartbeat",e=>new Ao(e),"PRIVATE")),xo(ho,"0.9.13",jo),xo(ho,"0.9.13","esm2017"),xo("fire-js","");function Lo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;function Fo(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zo=Fo,Uo=new jr.a("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Bo=new $r("@firebase/auth");function Vo(e,...t){Bo.logLevel<=Vr.ERROR&&Bo.error("Auth (9.23.0): "+e,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(e,...t){throw $o(e,...t)}function Ho(e,...t){return $o(e,...t)}function Wo(e,t,n){const r=Object.assign(Object.assign({},zo()),{[t]:n});return new jr.a("auth","Firebase",r).create(t,{appName:e.name})}function qo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Go(e,"argument-error"),Wo(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $o(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Uo.create(e,...t)}function Ko(e,t,...n){if(!e)throw $o(t,...n)}function Xo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Vo(t),new Error(t)}function Yo(e,t){e||Xo(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Jo(){return"http:"===Zo()||"https:"===Zo()}function Zo(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ei{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yo(t>e,"Short delay should be less than long delay!"),this.isMobile=Object(jr.n)()||Object(jr.o)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Jo()||Object(jr.k)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(e,t){Yo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},oi=new ei(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ai(e,t,n,r,o={}){return si(e,o,async()=>{let o={},i={};r&&("GET"===t?i=r:o={body:JSON.stringify(r)});const a=Object(jr.p)(Object.assign({key:e.config.apiKey},i)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),ni.fetch()(ui(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},o))})}async function si(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ri),t);try{const t=new ci(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw fi(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw fi(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw fi(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw fi(e,"user-disabled",i);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Wo(e,s,a);Go(e,s)}}catch(t){if(t instanceof jr.b)throw t;Go(e,"network-request-failed",{message:String(t)})}}async function li(e,t,n,r,o={}){const i=await ai(e,t,n,r,o);return"mfaPendingCredential"in i&&Go(e,"multi-factor-auth-required",{_serverResponse:i}),i}function ui(e,t,n,r){const o=`${t}${n}?${r}`;return e.config.emulator?ti(e.config,o):`${e.config.apiScheme}://${o}`}class ci{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Ho(this.auth,"network-request-failed")),oi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ho(e,t,r);return o.customData._tokenResponse=n,o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function di(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(e){return 1e3*Number(e)}function pi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Vo("JWT malformed, contained fewer than 3 sections"),null;try{const e=Object(jr.c)(n);return e?JSON.parse(e):(Vo("Failed to decode base64 JWT payload"),null)}catch(e){return Vo("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function mi(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof jr.b&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class gi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=di(this.lastLoginAt),this.creationTime=di(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yi(e){var t;const n=e.auth,r=await e.getIdToken(),o=await mi(e,async function(e,t){return ai(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Ko(null==o?void 0:o.users.length,n,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?i.providerUserInfo.map(e=>{var{providerId:t}=e,n=Lo(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const s=(l=e.providerData,u=a,[...l.filter(e=>!u.some(t=>t.providerId===e.providerId)),...u]);var l,u;const c=e.isAnonymous,f=!(e.email&&i.passwordHash||(null==s?void 0:s.length)),d=!!c&&f,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new vi(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,h)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ko(e.idToken,"internal-error"),Ko(void 0!==e.idToken,"internal-error"),Ko(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=pi(e);return Ko(t,"internal-error"),Ko(void 0!==t.exp,"internal-error"),Ko(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Ko(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){const n=await si(e,{},async()=>{const n=Object(jr.p)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=ui(e,r,"/v1/token","key="+o),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ni.fetch()(i,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new bi;return n&&(Ko("string"==typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Ko("string"==typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(Ko("number"==typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bi,this.toJSON())}_performRefresh(){return Xo("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(e,t){Ko("string"==typeof e||void 0===e,"internal-error",{appName:t})}class wi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,o=Lo(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vi(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await mi(this,this.stsTokenManager.getToken(this.auth,e));return Ko(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Object(jr.i)(e),r=await n.getIdToken(t),o=pi(r);Ko(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"==typeof o.firebase?o.firebase:void 0,a=null==i?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:di(hi(o.auth_time)),issuedAtTime:di(hi(o.iat)),expirationTime:di(hi(o.exp)),signInProvider:a||null,signInSecondFactor:(null==i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Object(jr.i)(e);await yi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ko(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ko(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await yi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await mi(this,async function(e,t){return ai(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,o,i,a,s,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,f=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,h=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:_,providerData:w,stsTokenManager:S}=t;Ko(y&&S,e,"internal-error");const E=bi.fromJSON(this.name,S);Ko("string"==typeof y,e,"internal-error"),_i(c,e.name),_i(f,e.name),Ko("boolean"==typeof b,e,"internal-error"),Ko("boolean"==typeof _,e,"internal-error"),_i(d,e.name),_i(h,e.name),_i(p,e.name),_i(m,e.name),_i(g,e.name),_i(v,e.name);const T=new wi({uid:y,auth:e,email:f,emailVerified:b,displayName:c,isAnonymous:_,photoURL:h,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(T.providerData=w.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,n=!1){const r=new bi;r.updateFromServerResponse(t);const o=new wi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await yi(o),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Map;function Ei(e){Yo(e instanceof Function,"Expected a class definition");let t=Si.get(e);return t?(Yo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Si.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ti.type="NONE";const ki=Ti;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(e,t,n){return`firebase:${e}:${t}:${n}`}class Ci{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=xi(this.userKey,r.apiKey,o),this.fullPersistenceKey=xi("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Ci(Ei(ki),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let o=r[0]||Ei(ki);const i=xi(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=await n._get(i);if(t){const r=wi._fromJSON(e,t);n!==o&&(a=r),o=n;break}}catch(e){}const s=r.filter(e=>e._shouldAllowMigration);return o._shouldAllowMigration&&s.length?(o=s[0],a&&await o._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==o)try{await e._remove(i)}catch(e){}})),new Ci(o,e,n)):new Ci(o,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ai(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Oi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ni(t))return"Blackberry";if(Di(t))return"Webos";if(Ii(t))return"Safari";if((t.includes("chrome/")||Ri(t))&&!t.includes("edge/"))return"Chrome";if(Mi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Oi(e=Object(jr.j)()){return/firefox\//i.test(e)}function Ii(e=Object(jr.j)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ri(e=Object(jr.j)()){return/crios\//i.test(e)}function Ai(e=Object(jr.j)()){return/iemobile/i.test(e)}function Mi(e=Object(jr.j)()){return/android/i.test(e)}function Ni(e=Object(jr.j)()){return/blackberry/i.test(e)}function Di(e=Object(jr.j)()){return/webos/i.test(e)}function ji(e=Object(jr.j)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Li(e=Object(jr.j)()){return ji(e)||Mi(e)||Di(e)||Ni(e)||/windows phone/i.test(e)||Ai(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Fi(e,t=[]){let n;switch(e){case"Browser":n=Pi(Object(jr.j)());break;case"Worker":n=`${Pi(Object(jr.j)())}-${e}`;break;default:n=e}return`${n}/JsCore/9.23.0/${t.length?t.join(","):"FirebaseCore-web"}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zi(e,t){return ai(e,"GET","/v2/recaptchaConfig",ii(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e){return void 0!==e&&void 0!==e.enterprise}class Bi{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(e){return new Promise((t,n)=>{const r=document.createElement("script");var o,i;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ho("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(i=null===(o=document.getElementsByTagName("head"))||void 0===o?void 0:o[0])&&void 0!==i?i:document).appendChild(r)})}function Gi(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Hi{constructor(e){this.type="recaptcha-enterprise",this.auth=Ki(e)}async verify(e="verify",t=!1){function n(t,n,r){const o=window.grecaptcha;Ui(o)?o.enterprise.ready(()=>{o.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{zi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Bi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(o=>{if(!t&&Ui(window.grecaptcha))n(o,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Vi("https://www.google.com/recaptcha/enterprise.js?render="+o).then(()=>{n(o,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Wi(e,t,n,r=!1){const o=new Hi(e);let i;try{i=await o.verify(n)}catch(e){i=await o.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xi(this),this.idTokenSubscription=new Xi(this),this.beforeStateQueue=new qi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ei(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ci.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null==a?void 0:a.user)||(r=a.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ko(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yi(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Object(jr.i)(e):null;return t&&Ko(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ko(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ei(e))})}async initializeRecaptchaConfig(){const e=await zi(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Bi(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Hi(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jr.a("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ei(e)||this._popupRedirectResolver;Ko(t,this,"argument-error"),this.redirectPersistenceManager=await Ci.create(this,[Ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),i=this._isInitialized?Promise.resolve():this._initializationPromise;return Ko(i,this,"internal-error"),i.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ko(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Bo.logLevel<=Vr.WARN&&Bo.warn("Auth (9.23.0): "+e,...t)}("Error while retrieving App Check token: "+t.error),null==t?void 0:t.token}}function Ki(e){return Object(jr.i)(e)}class Xi{constructor(e){this.auth=e,this.observer=null,this.addObserver=Object(jr.d)(e=>this.observer=e)}get next(){return Ko(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(e,t,n){const r=Ki(e);Ko(r._canInitEmulator,r,"emulator-config-failed"),Ko(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!(null==n?void 0:n.disableWarnings),i=Qi(t),{host:a,port:s}=function(e){const t=Qi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:Ji(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ji(t)}}}(t),l=null===s?"":":"+s;r.config.emulator={url:`${i}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function Qi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ji(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Zi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xo("not implemented")}_getIdTokenResponse(e){return Xo("not implemented")}_linkToIdToken(e,t){return Xo("not implemented")}_getReauthenticationResolver(e){return Xo("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(e,t){return ai(e,"POST","/v1/accounts:update",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ta(e,t){return li(e,"POST","/v1/accounts:signInWithPassword",ii(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class na extends Zi{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new na(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new na(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Wi(e,n,"signInWithPassword");return ta(e,t)}return ta(e,n).catch(async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Wi(e,n,"signInWithPassword");return ta(e,t)}return Promise.reject(t)});case"emailLink":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e,t){return li(e,"POST","/v1/accounts:signInWithEmailLink",ii(e,t))}(e,{email:this._email,oobCode:this._password});default:Go(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ea(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return li(e,"POST","/v1/accounts:signInWithEmailLink",ii(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Go(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(e,t){return li(e,"POST","/v1/accounts:signInWithIdp",ii(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Zi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Go("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=Lo(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new oa(n,r);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){return ra(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ra(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ra(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(jr.p)(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia={USER_NOT_FOUND:"user-not-found"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class aa extends Zi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new aa({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new aa({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return li(e,"POST","/v1/accounts:signInWithPhoneNumber",ii(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await li(e,"POST","/v1/accounts:signInWithPhoneNumber",ii(e,t));if(n.temporaryProof)throw fi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return li(e,"POST","/v1/accounts:signInWithPhoneNumber",ii(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ia)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new aa({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){var t,n,r,o,i,a;const s=Object(jr.q)(Object(jr.f)(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,u=null!==(n=s.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Ko(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(o=s.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(i=s.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Object(jr.q)(Object(jr.f)(e)).link,n=t?Object(jr.q)(Object(jr.f)(t)).deep_link_id:null,r=Object(jr.q)(Object(jr.f)(e)).deep_link_id;return(r?Object(jr.q)(Object(jr.f)(r)).link:null)||r||n||t||e}(e);try{return new sa(t)}catch(e){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class la{constructor(){this.providerId=la.PROVIDER_ID}static credential(e,t){return na._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=sa.parseLink(t);return Ko(n,"argument-error"),na._fromEmailAndCode(e,n.code,n.tenantId)}}la.PROVIDER_ID="password",la.EMAIL_PASSWORD_SIGN_IN_METHOD="password",la.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ua{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends ua{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fa extends ca{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch(e){return null}}}fa.FACEBOOK_SIGN_IN_METHOD="facebook.com",fa.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class da extends ca{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return oa._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return da.credential(t,n)}catch(e){return null}}}da.GOOGLE_SIGN_IN_METHOD="google.com",da.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ha extends ca{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch(e){return null}}}ha.GITHUB_SIGN_IN_METHOD="github.com",ha.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pa extends ca{constructor(){super("twitter.com")}static credential(e,t){return oa._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return pa.credential(t,n)}catch(e){return null}}}pa.TWITTER_SIGN_IN_METHOD="twitter.com",pa.PROVIDER_ID="twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const o=await wi._fromIdTokenResponse(e,n,r),i=ga(n);return new ma({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ga(n);return new ma({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ga(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class va extends jr.b{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,va.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new va(e,t,n,r)}}function ya(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw va._fromErrorAndOperation(e,n,t,r);throw n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(e,t,n=!1){const r=await mi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ma._forOperation(e,"link",r)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function _a(e,t,n=!1){const{auth:r}=e;try{const o=await mi(e,ya(r,"reauthenticate",t,e),n);Ko(o.idToken,r,"internal-error");const i=pi(o.idToken);Ko(i,r,"internal-error");const{sub:a}=i;return Ko(e.uid===a,r,"user-mismatch"),ma._forOperation(e,"reauthenticate",o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&Go(r,"user-mismatch"),e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(e,t,n=!1){const r=await ya(e,"signIn",t),o=await ma._fromIdTokenResponse(e,"signIn",r);return n||await e._updateCurrentUser(o.user),o}function Sa(e){return Object(jr.i)(e).signOut()}new WeakMap;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ea{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Ea{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Object(jr.j)();return Ii(e)||ji(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Li(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);Object(jr.m)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ta.type="LOCAL";const ka=Ta;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Ea{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xa.type="SESSION";const Ca=xa;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Pa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Pa(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(!(null==i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,o)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Oa(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pa.receivers=[];class Ia{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise((a,s)=>{const l=Oa("",20);r.port1.start();const u=setTimeout(()=>{s(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(t.data.response);break;default:clearTimeout(u),clearTimeout(o),s(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Aa(){return void 0!==Ra().WorkerGlobalScope&&"function"==typeof Ra().importScripts}class Ma{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Na(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function Da(){const e=indexedDB.open("firebaseLocalStorageDb",1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains("firebaseLocalStorage")?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase("firebaseLocalStorageDb");return new Ma(e).toPromise()}(),t(await Da()))})})}async function ja(e,t,n){const r=Na(e,!0).put({fbase_key:t,value:n});return new Ma(r).toPromise()}function La(e,t){const n=Na(e,!0).delete(t);return new Ma(n).toPromise()}class Fa{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Da()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Aa()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pa._getInstance(Aa()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ia(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Da();return await ja(e,"__sak","1"),await La(e,"__sak"),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ja(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Na(e,!1).get(t),r=await new Ma(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>La(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Na(e,!1).getAll();return new Ma(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Fa.type="LOCAL";const za=Fa;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Gi("rcb"),new ei(3e4,6e4);async function Ua(e,t,n){var r;const o=await n.verify();try{let i;if(Ko("string"==typeof o,e,"argument-error"),Ko("recaptcha"===n.type,e,"argument-error"),i="string"==typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Ko("enroll"===t.type,e,"internal-error");return(await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){return ai(e,"POST","/v2/accounts/mfaEnrollment:start",ii(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:o}})).phoneSessionInfo.sessionInfo}{Ko("signin"===t.type,e,"internal-error");const n=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Ko(n,e,"missing-multi-factor-info");return(await function(e,t){return ai(e,"POST","/v2/accounts/mfaSignIn:start",ii(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:o}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return ai(e,"POST","/v1/accounts:sendVerificationCode",ii(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:o});return t}}finally{n._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ba{constructor(e){this.providerId=Ba.PROVIDER_ID,this.auth=Ki(e)}verifyPhoneNumber(e,t){return Ua(this.auth,e,Object(jr.i)(t))}static credential(e,t){return aa._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ba.credentialFromTaggedObject(t)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?aa._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Va(e,t){return t?Ei(t):(Ko(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ba.PROVIDER_ID="phone",Ba.PHONE_SIGN_IN_METHOD="phone";class Ga extends Zi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ha(e){return wa(e.auth,new Ga(e),e.bypassAuthState)}function Wa(e){const{auth:t,user:n}=e;return Ko(n,t,"internal-error"),_a(n,new Ga(e),e.bypassAuthState)}async function qa(e){const{auth:t,user:n}=e;return Ko(n,t,"internal-error"),ba(n,new Ga(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t,n,r,o=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:a}=e;if(i)return void this.reject(i);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ha;case"linkViaPopup":case"linkViaRedirect":return qa;case"reauthViaPopup":case"reauthViaRedirect":return Wa;default:Go(this.auth,"internal-error")}}resolve(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new ei(2e3,1e4);async function Xa(e,t,n){const r=Ki(e);qo(e,t,ua);const o=Va(r,n);return new Ya(r,"signInViaPopup",t,o).executeNotNull()}class Ya extends $a{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ko(e,this.auth,"internal-error"),e}async onExecution(){Yo(1===this.filter.length,"Popup operations only handle one event");const e=Oa();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ho(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ho(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ho(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ka.get())};e()}}Ya.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Qa=new Map;class Ja extends $a{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Qa.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ts(t),r=es(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Qa.set(this.auth._key(),e)}return this.bypassAuthState||Qa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Za(e,t){Qa.set(e._key(),t)}function es(e){return Ei(e._redirectPersistence)}function ts(e){return xi("pendingRedirect",e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ns(e,t,n=!1){const r=Ki(e),o=Va(r,t),i=new Ja(r,o,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class rs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return is(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!is(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ho(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(os(e))}saveEventToCache(e){this.cachedEventUids.add(os(e)),this.lastProcessedEventTime=Date.now()}}function os(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function is({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const as=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ss=/^https?/;async function ls(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return ai(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(us(e))return}catch(e){}Go(e,"unauthorized-domain")}function us(e){const t=Qo(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!ss.test(n))return!1;if(as.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new ei(3e4,6e4);function fs(){const e=Ra().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let ds=null;function hs(e){return ds=ds||function(e){return new Promise((t,n)=>{var r,o,i;function a(){fs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fs(),n(Ho(e,"network-request-failed"))},timeout:cs.get()})}if(null===(o=null===(r=Ra().gapi)||void 0===r?void 0:r.iframes)||void 0===o?void 0:o.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Ra().gapi)||void 0===i?void 0:i.load)){const t=Gi("iframefcb");return Ra()[t]=()=>{gapi.load?a():n(Ho(e,"network-request-failed"))},Vi("https://apis.google.com/js/api.js?onload="+t).catch(e=>n(e))}a()}}).catch(e=>{throw ds=null,e})}(e),ds}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new ei(5e3,15e3),ms={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vs(e){const t=e.config;Ko(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ti(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:"9.23.0"},o=gs.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Object(jr.p)(r).slice(1)}`}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ys={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function _s(e,t,n,r=500,o=600){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},ys),{width:r.toString(),height:o.toString(),top:i,left:a}),u=Object(jr.j)().toLowerCase();n&&(s=Ri(u)?"_blank":n),Oi(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=Object(jr.j)()){var t;return ji(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",s),new bs(null);const f=window.open(t||"",s,c);Ko(f,e,"popup-blocked");try{f.focus()}catch(e){}return new bs(f)}const ws=encodeURIComponent("fac");async function Ss(e,t,n,r,o,i){Ko(e.config.authDomain,e,"auth-domain-config-required"),Ko(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:"9.23.0",eventId:o};if(t instanceof ua){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Object(jr.l)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof ca){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const e of Object.keys(s))void 0===s[e]&&delete s[e];const l=await e._getAppCheckToken(),u=l?`#${ws}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/__/auth/handler`;return ti(e,"emulator/auth/handler")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${Object(jr.p)(s).slice(1)}${u}`}const Es=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ca,this._completeRedirectFn=ns,this._overrideRedirectResult=Za}async _openPopup(e,t,n,r){var o;Yo(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return _s(e,await Ss(e,t,n,Qo(),r),Oa())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ra().location.href=e}(await Ss(e,t,n,Qo(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Yo(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await hs(e),n=Ra().gapi;return Ko(n,e,"internal-error"),t.open({where:document.body,url:vs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ms,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=Ho(e,"network-request-failed"),i=Ra().setTimeout(()=>{r(o)},ps.get());function a(){Ra().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(o)})}))}(e),n=new rs(e);return t.register("authEvent",t=>{Ko(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},n=>{var r;const o=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==o&&t(!!o),Go(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ls(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Li()||Ii()||ji()}};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ts{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ko(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ks=Object(jr.h)("authIdTokenMaxAge")||300;let xs=null;function Cs(e=ko()){const t=_o(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=_o(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if(Object(jr.e)(r,null!=t?t:{}))return e;Go(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Es,persistence:[za,ka,Ca]}),r=Object(jr.h)("authTokenSyncURL");if(r){const e=(o=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ks)return;const r=null==t?void 0:t.token;xs!==r&&(xs=r,await fetch(o,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer "+r}:{}}))});!function(e,t,n){Object(jr.i)(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){Object(jr.i)(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var o;const i=Object(jr.g)("auth");return i&&Yi(n,"http://"+i),n}var Ps;Ps="Browser",bo(new Fr("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=n.options;Ko(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const s={apiKey:i,authDomain:a,clientPlatform:Ps,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fi(Ps)},l=new $i(n,r,o,s);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ei);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),bo(new Fr("auth-internal",e=>(e=>new Ts(e))(Ki(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),xo("@firebase/auth","0.23.2",function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ps)),xo("@firebase/auth","0.23.2","esm2017");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
xo("firebase","9.23.0","app");var Os=n(11);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Is.UNAUTHENTICATED=new Is(null),Is.GOOGLE_CREDENTIALS=new Is("google-credentials-uid"),Is.FIRST_PARTY=new Is("first-party-uid"),Is.MOCK_USER=new Is("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Rs="9.23.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new $r("@firebase/firestore");function Ms(e,...t){if(As.logLevel<=Vr.DEBUG){const n=t.map(js);As.debug(`Firestore (${Rs}): ${e}`,...n)}}function Ns(e,...t){if(As.logLevel<=Vr.ERROR){const n=t.map(js);As.error(`Firestore (${Rs}): ${e}`,...n)}}function Ds(e,...t){if(As.logLevel<=Vr.WARN){const n=t.map(js);As.warn(`Firestore (${Rs}): ${e}`,...n)}}function js(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(e="Unexpected state"){const t=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: `+e;throw Ns(t),new Error(t)}function Fs(e,t){e||Ls()}function zs(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="cancelled",Bs="unknown",Vs="invalid-argument",Gs="deadline-exceeded",Hs="not-found",Ws="permission-denied",qs="unauthenticated",$s="failed-precondition",Ks="out-of-range",Xs="unimplemented",Ys="internal",Qs="unavailable";class Js extends Os.a{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Zs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer "+e)}}class el{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Is.UNAUTHENTICATED))}shutdown(){}}class tl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nl{constructor(e){this.auth=null,e.onInit(e=>{this.auth=e})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(Fs("string"==typeof e.accessToken),new Zs(e.accessToken,new Is(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class rl{constructor(e,t,n){this.t=e,this.i=t,this.o=n,this.type="FirstParty",this.user=Is.FIRST_PARTY,this.u=new Map}h(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);const e=this.h();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}class ol{constructor(e,t,n){this.t=e,this.i=t,this.o=n}getToken(){return Promise.resolve(new rl(this.t,this.i,this.o))}start(e,t){e.enqueueRetryable(()=>t(Is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class il{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class al{constructor(e){this.l=e,this.appCheck=null,e.onInit(e=>{this.appCheck=e})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(Fs("string"==typeof e.token),new il(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,t,n,r,o,i,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class ll{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ll("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ll&&e.projectId===this.projectId&&e.database===this.database}}class ul{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ls(),void 0===n?n=e.length-t:n>e.length-t&&Ls(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ul.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ul?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),o=t.get(r);if(n<o)return-1;if(n>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cl extends ul{construct(e,t,n){return new cl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Js(Vs,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new cl(t)}static emptyPath(){return new cl([])}}const fl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dl extends ul{construct(e,t,n){return new dl(e,t,n)}static isValidIdentifier(e){return fl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dl(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new Js(Vs,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Js(Vs,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Js(Vs,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new Js(Vs,"Unterminated ` in path: "+e);return new dl(t)}static emptyPath(){return new dl([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.path=e}static fromPath(e){return new hl(cl.fromString(e))}static fromName(e){return new hl(cl.fromString(e).popFirst(5))}static empty(){return new hl(cl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new hl(new cl(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(e,t,n){if(!n)throw new Js(Vs,`Function ${e}() cannot be called with an empty ${t}.`)}function ml(e){if(!hl.isDocumentKey(e))throw new Js(Vs,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function gl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ls()}function vl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Js(Vs,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gl(e);throw new Js(Vs,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function yl(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}let bl=null;function _l(e){return 0===e&&1/e==-1/0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sl,El;function Tl(e){if(void 0===e)return Ns("RPC_ERROR","HTTP error has no status"),Bs;switch(e){case 200:return"ok";case 400:return $s;case 401:return qs;case 403:return Ws;case 404:return Hs;case 409:return"aborted";case 416:return Ks;case 429:return"resource-exhausted";case 499:return Us;case 500:return Bs;case 501:return Xs;case 503:return Qs;case 504:return Gs;default:return e>=200&&e<300?"ok":e>=400&&e<500?$s:e>=500&&e<600?Ys:Bs}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(El=Sl||(Sl={}))[El.OK=0]="OK",El[El.CANCELLED=1]="CANCELLED",El[El.UNKNOWN=2]="UNKNOWN",El[El.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",El[El.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",El[El.NOT_FOUND=5]="NOT_FOUND",El[El.ALREADY_EXISTS=6]="ALREADY_EXISTS",El[El.PERMISSION_DENIED=7]="PERMISSION_DENIED",El[El.UNAUTHENTICATED=16]="UNAUTHENTICATED",El[El.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",El[El.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",El[El.ABORTED=10]="ABORTED",El[El.OUT_OF_RANGE=11]="OUT_OF_RANGE",El[El.UNIMPLEMENTED=12]="UNIMPLEMENTED",El[El.INTERNAL=13]="INTERNAL",El[El.UNAVAILABLE=14]="UNAVAILABLE",El[El.DATA_LOSS=15]="DATA_LOSS";class kl extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.m=t+"://"+e.host,this.p="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get g(){return!1}v(e,t,n,r,o){const i=(null===bl?bl=268435456+Math.round(2147483648*Math.random()):bl++,"0x"+bl.toString(16)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */),a=this.I(e,t);Ms("RestConnection",`Sending RPC '${e}' ${i}:`,a,n);const s={};return this.T(s,r,o),this.A(e,a,s,n).then(t=>(Ms("RestConnection",`Received RPC '${e}' ${i}: `,t),t),t=>{throw Ds("RestConnection",`RPC '${e}' ${i} failed with error: `,t,"url: ",a,"request:",n),t})}R(e,t,n,r,o,i){return this.v(e,t,n,r,o)}T(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}I(e,t){const n=wl[e];return`${this.m}/v1/${t}:${n}`}}{constructor(e,t){super(e),this.P=t}V(e,t){throw new Error("Not supported by FetchConnection")}async A(e,t,n,r){var o;const i=JSON.stringify(r);let a;try{a=await this.P(t,{method:"POST",headers:n,body:i})}catch(e){const t=e;throw new Js(Tl(t.status),"Request failed with error: "+t.statusText)}if(!a.ok){let e=await a.json();Array.isArray(e)&&(e=e[0]);const t=null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message;throw new Js(Tl(a.status),"Request failed with error: "+(null!=t?t:a.statusText))}return a.json()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static N(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=xl(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<t&&(n+=e.charAt(r[o]%e.length))}return n}}function Pl(e,t){return e<t?-1:e>t?1:0}function Ol(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Rl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Al("Invalid base64 string: "+e):e}}(e);return new Ml(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ml(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ml.EMPTY_BYTE_STRING=new Ml("");const Nl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dl(e){if(Fs(!!e),"string"==typeof e){let t=0;const n=Nl.exec(e);if(Fs(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:jl(e.seconds),nanos:jl(e.nanos)}}function jl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ll(e){return"string"==typeof e?Ml.fromBase64String(e):Ml.fromUint8Array(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Js(Vs,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Js(Vs,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Js(Vs,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Js(Vs,"Timestamp seconds out of range: "+e)}static now(){return Fl.fromMillis(Date.now())}static fromDate(e){return Fl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Fl(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pl(this.nanoseconds,e.nanoseconds):Pl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ul(e){const t=Dl(e.mapValue.fields.__local_write_time__.timestampValue);return new Fl(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zl(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:10:Ls()}function Vl(e,t){if(e===t)return!0;const n=Bl(e);if(n!==Bl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ul(e).isEqual(Ul(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Dl(e.timestampValue),r=Dl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ll(e.bytesValue).isEqual(Ll(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return jl(e.geoPointValue.latitude)===jl(t.geoPointValue.latitude)&&jl(e.geoPointValue.longitude)===jl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return jl(e.integerValue)===jl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=jl(e.doubleValue),r=jl(t.doubleValue);return n===r?_l(n)===_l(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ol(e.arrayValue.values||[],t.arrayValue.values||[],Vl);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Il(n)!==Il(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Vl(n[e],r[e])))return!1;return!0}(e,t);default:return Ls()}}function Gl(e){return!!e&&"mapValue"in e}function Hl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Rl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Hl(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hl(e.arrayValue.values[n]);return t}return Object.assign({},e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Wl{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wl(e)}static min(){return new Wl(new Fl(0,0))}static max(){return new Wl(new Fl(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t){this.comparator=e,this.root=t||Kl.EMPTY}insert(e,t){return new ql(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kl.BLACK,null,null))}remove(e){return new ql(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}}class $l{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kl{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:Kl.RED,this.left=null!=r?r:Kl.EMPTY,this.right=null!=o?o:Kl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new Kl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Kl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ls();if(this.right.isRed())throw Ls();const e=this.left.check();if(e!==this.right.check())throw Ls();return e+(this.isRed()?0:1)}}Kl.EMPTY=null,Kl.RED=!0,Kl.BLACK=!1,Kl.EMPTY=new class{constructor(){this.size=0}get key(){throw Ls()}get value(){throw Ls()}get color(){throw Ls()}get left(){throw Ls()}get right(){throw Ls()}copy(e,t,n,r,o){return this}insert(e,t,n){return new Kl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xl{constructor(e){this.comparator=e,this.data=new ql(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yl(this.data.getIterator())}getIteratorFrom(e){return new Yl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Xl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xl(this.comparator);return t.data=e,t}}class Yl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.fields=e,e.sort(dl.comparator)}static empty(){return new Ql([])}unionWith(e){let t=new Xl(dl.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new Ql(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ol(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.value=e}static empty(){return new Jl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Gl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(t)}setAll(e){let t=dl.emptyPath(),n={},r=[];e.forEach((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=Hl(e):r.push(o.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());Gl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Gl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Rl(t,(t,n)=>e[t]=n);for(const t of n)delete e[t]}clone(){return new Jl(Hl(this.value))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t,n,r,o,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Zl(e,0,Wl.min(),Wl.min(),Wl.min(),Jl.empty(),0)}static newFoundDocument(e,t,n,r){return new Zl(e,1,t,Wl.min(),n,r,0)}static newNoDocument(e,t){return new Zl(e,2,t,Wl.min(),Wl.min(),Jl.empty(),0)}static newUnknownDocument(e,t){return new Zl(e,3,t,Wl.min(),Wl.min(),Jl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Zl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class eu{constructor(e,t=null,n=[],r=[],o=null,i="F",a=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=s,this.q=null,this.O=null,this.startAt,this.endAt}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tu(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!_l(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?function(e){return{integerValue:""+e}}(t):function(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_l(t)?"-0":t}}(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(){this._=void 0}}class ru extends nu{}class ou extends nu{constructor(e){super(),this.elements=e}}class iu extends nu{constructor(e){super(),this.elements=e}}class au extends nu{constructor(e,t){super(),this.serializer=e,this.k=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t){this.field=e,this.transform=t}}class lu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lu}static exists(e){return new lu(void 0,e)}static updateTime(e){return new lu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}class uu{}class cu extends uu{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fu extends uu{constructor(e,t,n,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}class du extends uu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hu extends uu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vu(e,t){return mu(e,t.toTimestamp())}function yu(e){return Fs(!!e),Wl.fromTimestamp(function(e){const t=Dl(e);return new Fl(t.seconds,t.nanos)}(e))}function bu(e,t){return function(e){return new cl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function _u(e,t){return bu(e.databaseId,t.path)}function wu(e,t){const n=function(e){const t=cl.fromString(e);return Fs(ku(t)),t}(t);if(n.get(1)!==e.databaseId.projectId)throw new Js(Vs,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Js(Vs,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new hl((Fs((r=n).length>4&&"documents"===r.get(4)),r.popFirst(5)));var r}function Su(e){return new cl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Eu(e,t,n){return{name:_u(e,t),fields:n.value.mapValue.fields}}function Tu(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ku(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(e){return new pu(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Cu extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.J=!1}X(){if(this.J)throw new Js($s,"The client has already been terminated.")}v(e,t,n){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.v(e,t,n,r,o)).catch(e=>{throw"FirebaseError"===e.name?(e.code===qs&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Js(Bs,e.toString())})}R(e,t,n,r){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.R(e,t,n,o,i,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===qs&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Js(Bs,e.toString())})}terminate(){this.J=!0}}async function Pu(e,t){const n=zs(e),r=Su(n.serializer)+"/documents",o={writes:t.map(e=>function(e,t){let n;if(t instanceof cu)n={update:Eu(e,t.key,t.value)};else if(t instanceof du)n={delete:_u(e,t.key)};else if(t instanceof fu)n={update:Eu(e,t.key,t.data),updateMask:Tu(t.fieldMask)};else{if(!(t instanceof hu))return Ls();n={verify:_u(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ru)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ou)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof iu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof au)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Ls()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ls()}(e,t.precondition)),n}(n.serializer,e))};await n.v("Commit",r,o)}async function Ou(e,t){const n=zs(e),r=Su(n.serializer)+"/documents",o={documents:t.map(e=>_u(n.serializer,e))},i=await n.R("BatchGetDocuments",r,o,t.length),a=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Fs(!!t.found),t.found.name,t.found.updateTime;const n=wu(e,t.found.name),r=yu(t.found.updateTime),o=t.found.createTime?yu(t.found.createTime):Wl.min(),i=new Jl({mapValue:{fields:t.found.fields}});return Zl.newFoundDocument(n,r,o,i)}(e,t):"missing"in t?function(e,t){Fs(!!t.missing),Fs(!!t.readTime);const n=wu(e,t.missing),r=yu(t.readTime);return Zl.newNoDocument(n,r)}(e,t):Ls()}(n.serializer,e);a.set(t.key.toString(),t)});const s=[];return t.forEach(e=>{const t=a.get(e.toString());Fs(!!t),s.push(t)}),s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Iu=new Map;function Ru(e){if(e._terminated)throw new Js($s,"The client has already been terminated.");if(!Iu.has(e)){Ms("ComponentProvider","Initializing Datastore");const i=function(e){return new kl(e,fetch.bind(null))}((t=e._databaseId,n=e.app.options.appId||"",r=e._persistenceKey,o=e._freezeSettings(),new sl(t,n,r,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,yl(o.experimentalLongPollingOptions),o.useFetchStreams))),a=xu(e._databaseId),s=function(e,t,n,r){return new Cu(e,t,n,r)}(e._authCredentials,e._appCheckCredentials,i,a);Iu.set(e,s)}var t,n,r,o;
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return Iu.get(e)}class Au{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Js(Vs,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Js(Vs,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}!function(e,t,n,r){if(!0===t&&!0===r)throw new Js(Vs,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yl(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Js(Vs,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Js(Vs,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Js(Vs,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Mu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Au({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Js($s,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Js($s,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Au(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new el;switch(e.type){case"firstParty":return new ol(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Js(Vs,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Iu.get(e);t&&(Ms("ComponentProvider","Removing Datastore"),Iu.delete(e),t.terminate())}(this),Promise.resolve()}}function Nu(e,t){const n="string"==typeof e?e:t||"(default)",r=_o("object"==typeof e?e:ko(),"firestore/lite").getImmediate({identifier:n});if(!r._initialized){const e=Object(Os.d)("firestore");e&&function(e,t,n,r={}){var o;const i=(e=vl(e,Mu))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==i.host&&i.host!==a&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Is.MOCK_USER;else{t=Object(Os.b)(r.mockUserToken,null===(o=e._app)||void 0===o?void 0:o.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Js(Vs,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Is(i)}e._authCredentials=new tl(new Zs(t,n))}}(r,...e)}return r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Du{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Du(this.firestore,e,this._key)}}class ju{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ju(this.firestore,e,this._query)}}class Lu extends ju{constructor(e,t,n){super(e,t,new eu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Du(this.firestore,null,new hl(e))}withConverter(e){return new Lu(this.firestore,e,this._path)}}function Fu(e,t,...n){if(e=Object(Os.e)(e),1===arguments.length&&(t=Cl.N()),pl("doc","path",t),e instanceof Mu){const r=cl.fromString(t,...n);return ml(r),new Du(e,null,new hl(r))}{if(!(e instanceof Du||e instanceof Lu))throw new Js(Vs,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(cl.fromString(t,...n));return ml(r),new Du(e.firestore,e instanceof Lu?e.converter:null,new hl(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zu(Ml.fromBase64String(e))}catch(e){throw new Js(Vs,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new zu(Ml.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Js(Vs,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dl(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bu{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Js(Vs,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Js(Vs,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pl(this._lat,e._lat)||Pl(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=/^__.*__$/;class Hu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new fu(e,this.data,this.fieldMask,t,this.fieldTransforms):new cu(e,this.data,t,this.fieldTransforms)}}class Wu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new fu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ls()}}class $u{constructor(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.tt(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get et(){return this.settings.et}nt(e){return new $u(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}rt(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nt({path:n,st:!1});return r.it(e),r}ot(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nt({path:n,st:!1});return r.tt(),r}ut(e){return this.nt({path:void 0,st:!0})}ct(e){return cc(e,this.settings.methodName,this.settings.ht||!1,this.path,this.settings.lt)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tt(){if(this.path)for(let e=0;e<this.path.length;e++)this.it(this.path.get(e))}it(e){if(0===e.length)throw this.ct("Document fields must not be empty");if(qu(this.et)&&Gu.test(e))throw this.ct('Document fields cannot begin and end with "__"')}}class Ku{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||xu(e)}ft(e,t,n,r=!1){return new $u({et:e,methodName:t,lt:n,path:dl.emptyPath(),st:!1,ht:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xu(e){const t=e._freezeSettings(),n=xu(e._databaseId);return new Ku(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Yu(e,t,n,r,o,i={}){const a=e.ft(i.merge||i.mergeFields?2:0,t,n,o);ac("Data must be an object, but it was:",a,r);const s=oc(r,a);let l,u;if(i.merge)l=new Ql(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const o=sc(t,r,n);if(!a.contains(o))throw new Js(Vs,`Field '${o}' is specified in your field mask but missing from your input data.`);fc(e,o)||e.push(o)}l=new Ql(e),u=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=a.fieldTransforms;return new Hu(new Jl(s),l,u)}class Qu extends Bu{_toFieldTransform(e){if(2!==e.et)throw 1===e.et?e.ct(this._methodName+"() can only appear at the top level of your update data"):e.ct(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qu}}function Ju(e,t,n){return new $u({et:3,lt:t.settings.lt,methodName:e._methodName,st:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Zu extends Bu{constructor(e,t){super(e),this.dt=t}_toFieldTransform(e){const t=Ju(this,e,!0),n=this.dt.map(e=>rc(e,t)),r=new ou(n);return new su(e.path,r)}isEqual(e){return this===e}}class ec extends Bu{constructor(e,t){super(e),this.dt=t}_toFieldTransform(e){const t=Ju(this,e,!0),n=this.dt.map(e=>rc(e,t)),r=new iu(n);return new su(e.path,r)}isEqual(e){return this===e}}function tc(e,t,n,r){const o=e.ft(1,t,n);ac("Data must be an object, but it was:",o,r);const i=[],a=Jl.empty();Rl(r,(e,r)=>{const s=uc(t,e,n);r=Object(Os.e)(r);const l=o.ot(s);if(r instanceof Qu)i.push(s);else{const e=rc(r,l);null!=e&&(i.push(s),a.set(s,e))}});const s=new Ql(i);return new Wu(a,s,o.fieldTransforms)}function nc(e,t,n,r,o,i){const a=e.ft(1,t,n),s=[sc(t,r,n)],l=[o];if(i.length%2!=0)throw new Js(Vs,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<i.length;e+=2)s.push(sc(t,i[e])),l.push(i[e+1]);const u=[],c=Jl.empty();for(let e=s.length-1;e>=0;--e)if(!fc(u,s[e])){const t=s[e];let n=l[e];n=Object(Os.e)(n);const r=a.ot(t);if(n instanceof Qu)u.push(t);else{const e=rc(n,r);null!=e&&(u.push(t),c.set(t,e))}}const f=new Ql(u);return new Wu(c,f,a.fieldTransforms)}function rc(e,t){if(ic(e=Object(Os.e)(e)))return ac("Unsupported field value:",t,e),oc(e,t);if(e instanceof Bu)return function(e,t){if(!qu(t.et))throw t.ct(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.ct(e._methodName+"() is not currently supported inside arrays");const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.st&&4!==t.et)throw t.ct("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=rc(o,t.ut(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(Os.e)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return tu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Fl.fromDate(e);return{timestampValue:mu(t.serializer,n)}}if(e instanceof Fl){const n=new Fl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mu(t.serializer,n)}}if(e instanceof Vu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zu)return{bytesValue:gu(t.serializer,e._byteString)};if(e instanceof Du){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.ct(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:bu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ct("Unsupported field value: "+gl(e))}(e,t)}function oc(e,t){const n={};return function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rl(e,(e,r)=>{const o=rc(r,t.rt(e));null!=o&&(n[e]=o)}),{mapValue:{fields:n}}}function ic(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Fl||e instanceof Vu||e instanceof zu||e instanceof Du||e instanceof Bu)}function ac(e,t,n){if(!ic(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=gl(n);throw"an object"===r?t.ct(e+" a custom object"):t.ct(e+" "+r)}}function sc(e,t,n){if((t=Object(Os.e)(t))instanceof Uu)return t._internalPath;if("string"==typeof t)return uc(e,t);throw cc("Field path arguments must be of type string or ",e,!1,void 0,n)}const lc=new RegExp("[~\\*/\\[\\]]");function uc(e,t,n){if(t.search(lc)>=0)throw cc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Uu(...t.split("."))._internalPath}catch(r){throw cc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function cc(e,t,n,r,o){const i=r&&!r.isEmpty(),a=void 0!==o;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field "+r),a&&(l+=" in document "+o),l+=")"),new Js(Vs,s+e+l)}function fc(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Du(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hc extends dc{data(){return super.data()}}function pc(e,t){return"string"==typeof t?uc(e,t):t instanceof Uu?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function mc(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class gc extends class{convertValue(e,t="none"){switch(Bl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ll(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ls()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Rl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Vu(jl(e.latitude),jl(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=function e(t){const n=t.mapValue.fields.__previous_value__;return zl(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const t=Dl(e);return new Fl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=cl.fromString(e);Fs(ku(n));const r=new ll(n.get(1),n.get(3)),o=new hl(n.popFirst(5));return r.isEqual(t)||Ns(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Du(this.firestore,null,t)}}function vc(e,t,n,...r){const o=Xu((e=vl(e,Du)).firestore);let i;return i="string"==typeof(t=Object(Os.e)(t))||t instanceof Uu?nc(o,"updateDoc",e._key,t,n,r):tc(o,"updateDoc",e._key,t),Pu(Ru(e.firestore),[i.toMutation(e._key,lu.exists(!0))])}function yc(...e){return new Zu("arrayUnion",e)}function bc(...e){return new ec("arrayRemove",e)}Rs="9.23.0_lite",bo(new Fr("firestore/lite",(e,{instanceIdentifier:t,options:n})=>{const r=e.getProvider("app").getImmediate(),o=new Mu(new nl(e.getProvider("auth-internal")),new al(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Js(Vs,'"projectId" not provided in firebase.initializeApp.');return new ll(e.options.projectId,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,t),r);return n&&o._setSettings(n),o},"PUBLIC").setMultipleInstances(!0)),xo("firestore-lite","3.13.0",""),xo("firestore-lite","3.13.0","esm2017");var _c={apiKey:"AIzaSyDHcrVxSLoGA-_t-Ad46Ds1YEvbM2GazQw",authDomain:"chip-player-js.firebaseapp.com",databaseURL:"https://chip-player-js.firebaseio.com",projectId:"chip-player-js",storageBucket:"chip-player-js.appspot.com",messagingSenderId:"762111649253"};function wc(e){return(wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sc(e){return function(e){if(Array.isArray(e))return Pc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ec(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ec=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:k(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",h="executing",p="completed",m={};function g(){}function v(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,a)&&(b=w);var S=y.prototype=g.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==wc(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function k(t,n,r){var o=d;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?p:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(wc(t)+" is not iterable")}return v.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=u(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),u(S,l,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Tc(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function kc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Tc(i,r,o,a,s,"next",e)}function s(e){Tc(i,r,o,a,s,"throw",e)}a(void 0)}))}}function xc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||Cc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cc(e,t){if(e){if("string"==typeof e)return Pc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pc(e,t):void 0}}function Pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Oc=Object(r.createContext)({user:null,loadingUser:!0,faves:[],favesContext:[],showPlayerSettings:!1,handleLogin:function(){},handleLogout:function(){},handleToggleFavorite:function(){},handleToggleSettings:function(){}});var Ic=function(e){var t=e.children,n=xc(Object(r.useState)(null),2),i=n[0],a=n[1],s=xc(Object(r.useState)([]),2),l=s[0],u=s[1],c=xc(Object(r.useState)(!1),2),f=c[0],d=c[1],h=xc(Object(r.useState)(!0),2),p=h[0],m=h[1];Object(r.useEffect)((function(){var e=To(_c),t=Cs(e),n=Nu(e);!function(e,t,n,r){Object(jr.i)(e).onAuthStateChanged(t,n,r)}(t,(function(e){if(a(e),m(!1),e){var t=Fu(n,"users",e.uid);(function(e){const t=Ru((e=vl(e,Du)).firestore),n=new gc(e.firestore);return Ou(t,[e._key]).then(t=>{Fs(1===t.length);const r=t[0];return new dc(e.firestore,n,e._key,r.isFoundDocument()?r:null,e.converter)})})(t).then((function(n){if(n.exists()){var r,o=n.data(),i=function(e){return e.length>0?e.map((function(e){return"string"==typeof e?{href:e,mtime:Math.floor(Date.parse("2024-01-01")/1e3)}:e})):e}(o.faves||[]);u(i),d((null===(r=o.settings)||void 0===r?void 0:r.showPlayerSettings)||!1)}else console.debug("Creating user document",e.uid),function(e,t,n){const r=mc((e=vl(e,Du)).converter,t,n),o=Yu(Xu(e.firestore),"setDoc",e._key,r,null!==e.converter,n);Pu(Ru(e.firestore),[o.toMutation(e._key,lu.none())])}(t,{faves:[],settings:{}})}))}}))}),[]);var g=function(){var e=kc(Ec().mark((function e(){var t,n,r;return Ec().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Cs(),n=new da,e.prev=2,e.next=5,Xa(t,n);case 5:r=e.sent,console.log("Firebase auth result:",r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Firebase auth error:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=kc(Ec().mark((function e(){var t;return Ec().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Cs(),e.prev=1,e.next=4,Sa(t);case 4:a(null),u([]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Firebase logout error:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=kc(Ec().mark((function e(t){var n,r,o,a,s,c,f;return Ec().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=15;break}return n=Fu(Nu(),"users",i.uid),-1===(s=(a=l).findLastIndex((function(e){return e===t||e.href===t})))?(c={href:t,mtime:Math.floor(Date.now()/1e3)},r=[].concat(Sc(a),[c]),o=yc(c)):(f=a[s],r=a.toSpliced(s,1),o=bc(f,f.href)),u(r),e.prev=6,e.next=9,vc(n,{faves:o});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),u(a),console.log("Couldn't update favorites in Firebase.",e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t){return e.apply(this,arguments)}}(),b=Object(r.useMemo)((function(){return l.map((function(e){return e.href}))}),[l]);return o.a.createElement(Oc.Provider,{value:{user:i,loadingUser:p,faves:l,favesContext:b,showPlayerSettings:f,handleLogin:g,handleLogout:v,handleToggleFavorite:y,handleToggleSettings:function(){var e=!f;(d(e),i)&&vc(Fu(Nu(),"users",i.uid),{settings:{showPlayerSettings:e}}).catch((function(e){console.log("Couldn't update settings in Firebase.",e)}))}}},t)},Rc=function(e){var t=e.href,n=Object(r.useContext)(Oc),i=n.user,a=n.faves,s=n.handleToggleFavorite,l=Object(r.useCallback)((function(e){i&&(e.preventDefault(),e.stopPropagation(),s(t))}),[s,t,i]),u=a.find((function(e){return e.href===t})),c="FavoriteButton ".concat(u?"isFavorite":"");return o.a.createElement("button",{onClick:l,className:c,tabIndex:"-1"},"")},Ac=Object(r.memo)(Mc);function Mc(e){var t,n=e.currentSongDurationMs,i=e.currentSongNumSubtunes,a=e.currentSongSubtune,s=e.ejected,l=e.imageUrl,u=e.infoTexts,c=e.paused,f=e.repeat,d=e.shuffle,h=e.songUrl,p=e.subtitle,m=e.title,g=e.volume,v=e.getCurrentSongLink,y=e.handleCopyLink,b=e.handleCycleRepeat,_=e.handleCycleShuffle,w=e.handleTimeSliderChange,S=e.handleVolumeChange,E=e.nextSong,T=e.nextSubtune,k=e.prevSong,x=e.prevSubtune,C=e.sequencer,P=e.toggleInfo,O=e.togglePause,I=Object(r.useContext)(Oc),R=I.faves,A=I.handleToggleFavorite,M=(t=h)?(t=t.replace(le,"/").split("/").slice(0,-1).join("/"),o.a.createElement(ae,{dim:!0,to:ce("/browse",t)},decodeURI(t))):null,N="Tune ".concat(a+1," of ").concat(i),D=Object(r.useCallback)((function(e){e.preventDefault(),P()}),[P]),j=Object(r.useCallback)((function(e){e.preventDefault(),y(v())}),[v,y]),L=Object(r.useCallback)((function(e){e.preventDefault(),y(v(!0))}),[v,y]),F=c?"Play":"Pause",z=c?"icon-play":"icon-pause";return o.a.createElement("div",{className:"AppFooter"},o.a.createElement("div",{className:"AppFooter-main"},o.a.createElement("div",{className:"AppFooter-top-row"},o.a.createElement("button",{onClick:k,title:"Previous",className:"box-button",disabled:s},o.a.createElement("span",{className:"inline-icon icon-prev"})),o.a.createElement("button",{onClick:O,title:F,className:"box-button",disabled:s},o.a.createElement("span",{className:"inline-icon ".concat(z)})),o.a.createElement("button",{onClick:E,title:"Next",className:"box-button",disabled:s},o.a.createElement("span",{className:"inline-icon icon-next"})),i>1&&o.a.createElement(o.a.Fragment,null,h?o.a.createElement("a",{style:{color:"var(--neutral4)"},href:v(!0),title:"Copy subtune link to clipboard",onClick:L},N,o.a.createElement("span",{className:"inline-icon icon-copy"})):N,o.a.createElement("button",{className:"AppFooter-back box-button",disabled:s,onClick:x},o.a.createElement("span",{className:"inline-icon icon-back"})),o.a.createElement("button",{className:"AppFooter-forward box-button",disabled:s,onClick:T},o.a.createElement("span",{className:"inline-icon icon-forward"}))),o.a.createElement("button",{title:"Cycle Repeat (repeat off, repeat all songs in the context, or repeat one song)",style:{marginLeft:"auto"},className:"AppFooter-repeat box-button",onClick:b},o.a.createElement("span",{className:"inline-icon icon-repeat"}),Be[f]),o.a.createElement("button",{title:"Toggle shuffle mode",className:"AppFooter-shuffle box-button",onClick:_},o.a.createElement("span",{className:"inline-icon icon-shuffle"}),Ve[d])),o.a.createElement("div",{style:{display:"flex",gap:"var(--charW2)"}},o.a.createElement(Mr,{paused:c,currentSongDurationMs:n,getCurrentPositionMs:function(){return C&&C.getPlayer()?C.getPlayer().getPositionMs():0},onChange:w}),o.a.createElement(Nr,{onChange:function(e){S(e.target.value)},handleReset:function(e){S(100),e.preventDefault(),e.stopPropagation()},title:"Double-click or right-click to reset to 100%.",value:g})),!s&&o.a.createElement("div",{className:"SongDetails"},R&&h&&o.a.createElement(Rc,{isFavorite:R.includes(h),toggleFavorite:A,href:h}),o.a.createElement("div",{className:"SongDetails-title"},h?o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:v(),title:"Copy song link to clipboard",onClick:j},m," ",o.a.createElement("span",{className:"inline-icon icon-copy"})),o.a.createElement("a",{href:h,title:"Download song"},o.a.createElement("span",{className:"inline-icon icon-download"}))):m,u.length>0&&o.a.createElement("a",{onClick:D,href:"#"},"")),o.a.createElement("div",{className:"SongDetails-subtitle"},p),o.a.createElement("div",{className:"SongDetails-filepath"},M))),l&&o.a.createElement("img",{alt:"Cover art",className:"AppFooter-art",src:l}))}var Nc=function(){var e=Object(r.useContext)(Oc),t=e.user,n=e.handleLogout,i=e.handleLogin;return o.a.createElement("header",{className:"AppHeader"},o.a.createElement(A,{className:"AppHeader-title",to:{pathname:"/"}},"Chip Player JS"),t?o.a.createElement(o.a.Fragment,null,"  ","Logged in as ",t.displayName,"."," ",o.a.createElement("a",{href:"#",onClick:n},"Logout")):o.a.createElement(o.a.Fragment,null,"  ",o.a.createElement("a",{href:"#",onClick:i},"Login/Sign Up")," to Save Favorites"),"  ",o.a.createElement("a",{href:"https://twitter.com/messages/compose?recipient_id=587634572",target:"_blank",rel:"noopener noreferrer"},"Feedback"))},Dc=n(5),jc=n.n(Dc),Lc=n(6),Fc=n.n(Lc),zc=n(8),Uc=n.n(zc),Bc=n(4),Vc=n.n(Bc),Gc=n(9),Hc=n.n(Gc),Wc=n(1),qc=n.n(Wc);function $c(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Kc(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function Xc(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function Yc(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=$c,t.componentWillReceiveProps=Kc),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Xc;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}return e}function Qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(n),!0).forEach((function(t){qc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zc(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}$c.__suppressDeprecationWarning=!0,Kc.__suppressDeprecationWarning=!0,Xc.__suppressDeprecationWarning=!0;var ef=function(e){function t(){var e;jc()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=Zc(this,t,[].concat(r)),qc()(e,"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),qc()(e,"_columnStartIndex",0),qc()(e,"_columnStopIndex",0),qc()(e,"_rowStartIndex",0),qc()(e,"_rowStopIndex",0),qc()(e,"_onKeyDown",(function(t){var n=e.props,r=n.columnCount,o=n.disabled,i=n.mode,a=n.rowCount;if(!o){var s=e._getScrollState(),l=s.scrollToColumn,u=s.scrollToRow,c=e._getScrollState(),f=c.scrollToColumn,d=c.scrollToRow;switch(t.key){case"ArrowDown":d="cells"===i?Math.min(d+1,a-1):Math.min(e._rowStopIndex+1,a-1);break;case"ArrowLeft":f="cells"===i?Math.max(f-1,0):Math.max(e._columnStartIndex-1,0);break;case"ArrowRight":f="cells"===i?Math.min(f+1,r-1):Math.min(e._columnStopIndex+1,r-1);break;case"ArrowUp":d="cells"===i?Math.max(d-1,0):Math.max(e._rowStartIndex-1,0)}f===l&&d===u||(t.preventDefault(),e._updateScrollState({scrollToColumn:f,scrollToRow:d}))}})),qc()(e,"_onSectionRendered",(function(t){var n=t.columnStartIndex,r=t.columnStopIndex,o=t.rowStartIndex,i=t.rowStopIndex;e._columnStartIndex=n,e._columnStopIndex=r,e._rowStartIndex=o,e._rowStopIndex=i})),e}return Hc()(t,e),Fc()(t,[{key:"setScrollIndexes",value:function(e){var t=e.scrollToColumn,n=e.scrollToRow;this.setState({scrollToRow:n,scrollToColumn:t})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,o=this._getScrollState(),i=o.scrollToColumn,a=o.scrollToRow;return r.createElement("div",{className:t,onKeyDown:this._onKeyDown},n({onSectionRendered:this._onSectionRendered,scrollToColumn:i,scrollToRow:a}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(e){var t=e.scrollToColumn,n=e.scrollToRow,r=this.props,o=r.isControlled,i=r.onScrollToChange;"function"==typeof i&&i({scrollToColumn:t,scrollToRow:n}),o||this.setState({scrollToColumn:t,scrollToRow:n})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isControlled?{}:e.scrollToColumn!==t.instanceProps.prevScrollToColumn||e.scrollToRow!==t.instanceProps.prevScrollToRow?Jc(Jc({},t),{},{scrollToColumn:e.scrollToColumn,scrollToRow:e.scrollToRow,instanceProps:{prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow}}):{}}}])}(r.PureComponent);qc()(ef,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0}),Yc(ef);var tf=ef,nf=n(37);function rf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function of(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rf(Object(n),!0).forEach((function(t){qc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function af(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}var sf=function(e){function t(){var e;jc()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=af(this,t,[].concat(r)),qc()(e,"state",{height:e.props.defaultHeight||0,width:e.props.defaultWidth||0}),qc()(e,"_parentNode",void 0),qc()(e,"_autoSizer",void 0),qc()(e,"_window",void 0),qc()(e,"_detectElementResize",void 0),qc()(e,"_onResize",(function(){var t=e.props,n=t.disableHeight,r=t.disableWidth,o=t.onResize;if(e._parentNode){var i=e._parentNode.offsetHeight||0,a=e._parentNode.offsetWidth||0,s=(e._window||window).getComputedStyle(e._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,u=parseInt(s.paddingRight,10)||0,c=parseInt(s.paddingTop,10)||0,f=parseInt(s.paddingBottom,10)||0,d=i-c-f,h=a-l-u;(!n&&e.state.height!==d||!r&&e.state.width!==h)&&(e.setState({height:i-c-f,width:a-l-u}),o({height:i,width:a}))}})),qc()(e,"_setRef",(function(t){e._autoSizer=t})),e}return Hc()(t,e),Fc()(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Object(nf.a)(e,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=e.disableHeight,i=e.disableWidth,a=e.style,s=this.state,l=s.height,u=s.width,c={overflow:"visible"},f={};return o||(c.height=0,f.height=l),i||(c.width=0,f.width=u),r.createElement("div",{className:n,ref:this._setRef,style:of(of({},c),a)},t(f))}}])}(r.Component);function lf(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}qc()(sf,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var uf=function(e){function t(){var e;jc()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=lf(this,t,[].concat(o)),qc()(e,"_child",r.createRef()),qc()(e,"_measure",(function(){var t=e.props,n=t.cache,r=t.columnIndex,o=void 0===r?0:r,i=t.parent,a=t.rowIndex,s=void 0===a?e.props.index||0:a,l=e._getCellMeasurements(),u=l.height,c=l.width;u===n.getHeight(s,o)&&c===n.getWidth(s,o)||(n.set(s,o,c,u),i&&"function"==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:o,rowIndex:s}))})),qc()(e,"_registerChild",(function(t){!t||t instanceof Element||console.warn("CellMeasurer registerChild expects to be passed Element or null"),e._child.current=t,t&&e._maybeMeasureCell()})),e}return Hc()(t,e),Fc()(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this,t=this.props.children,n="function"==typeof t?t({measure:this._measure,registerChild:this._registerChild}):t;return null===n?n:Object(r.cloneElement)(n,{ref:function(t){"function"==typeof n.ref?n.ref(t):n.ref&&(n.ref.current=t),e._child.current=t}})}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=this._child.current;if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var n=t.style.width,r=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var o=Math.ceil(t.offsetHeight),i=Math.ceil(t.offsetWidth);return n&&(t.style.width=n),r&&(t.style.height=r),{height:o,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,n=e.columnIndex,r=void 0===n?0:n,o=e.parent,i=e.rowIndex,a=void 0===i?this.props.index||0:i;if(!t.has(a,r)){var s=this._getCellMeasurements(),l=s.height,u=s.width;t.set(a,r,u,l),o&&"function"==typeof o.invalidateCellSizeAfterRender&&o.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:a})}}}])}(r.PureComponent);qc()(uf,"__internalCellMeasurerFlag",!1);var cf=n(68),ff=n.n(cf),df=n(17),hf=n.n(df);function pf(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=pf(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var mf=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=pf(e))&&(r&&(r+=" "),r+=t);return r};function gf(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var r=n.callback,o=n.indices,i=Object.keys(o),a=!e||i.every((function(e){var t=o[e];return Array.isArray(t)?t.length>0:t>=0})),s=i.length!==Object.keys(t).length||i.some((function(e){var n=t[e],r=o[e];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r}));t=o,a&&s&&r(o)}}var vf,yf=!("undefined"==typeof window||!window.document||!window.document.createElement);function bf(e){if((!vf&&0!==vf||e)&&yf){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),vf=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return vf}function _f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_f(Object(n),!0).forEach((function(t){qc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sf(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}var Ef="observed",Tf="requested",kf=function(e){function t(){var e;jc()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=Sf(this,t,[].concat(r)),qc()(e,"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),qc()(e,"_calculateSizeAndPositionDataOnNextUpdate",!1),qc()(e,"_onSectionRenderedMemoizer",gf()),qc()(e,"_onScrollMemoizer",gf(!1)),qc()(e,"_invokeOnSectionRenderedHelper",(function(){var t=e.props,n=t.cellLayoutManager,r=t.onSectionRendered;e._onSectionRenderedMemoizer({callback:r,indices:{indices:n.getLastRenderedIndices()}})})),qc()(e,"_setScrollingContainerRef",(function(t){e._scrollingContainer=t})),qc()(e,"_updateScrollPositionForScrollToCell",(function(){var t=e.props,n=t.cellLayoutManager,r=t.height,o=t.scrollToAlignment,i=t.scrollToCell,a=t.width,s=e.state,l=s.scrollLeft,u=s.scrollTop;if(i>=0){var c=n.getScrollPositionForCell({align:o,cellIndex:i,height:r,scrollLeft:l,scrollTop:u,width:a});c.scrollLeft===l&&c.scrollTop===u||e._setScrollPosition(c)}})),qc()(e,"_onScroll",(function(t){if(t.target===e._scrollingContainer){e._enablePointerEventsAfterDelay();var n=e.props,r=n.cellLayoutManager,o=n.height,i=n.isScrollingChange,a=n.width,s=e._scrollbarSize,l=r.getTotalSize(),u=l.height,c=l.width,f=Math.max(0,Math.min(c-a+s,t.target.scrollLeft)),d=Math.max(0,Math.min(u-o+s,t.target.scrollTop));if(e.state.scrollLeft!==f||e.state.scrollTop!==d){var h=t.cancelable?Ef:Tf;e.state.isScrolling||i(!0),e.setState({isScrolling:!0,scrollLeft:f,scrollPositionChangeReason:h,scrollTop:d})}e._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:d,totalWidth:c,totalHeight:u})}})),e._scrollbarSize=bf(),void 0===e._scrollbarSize?(e._scrollbarSizeMeasured=!1,e._scrollbarSize=0):e._scrollbarSizeMeasured=!0,e}return Hc()(t,e),Fc()(t,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.cellLayoutManager,n=e.scrollLeft,r=e.scrollToCell,o=e.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=bf(),this._scrollbarSizeMeasured=!0,this.setState({})),r>=0?this._updateScrollPositionForScrollToCell():(n>=0||o>=0)&&this._setScrollPosition({scrollLeft:n,scrollTop:o}),this._invokeOnSectionRenderedHelper();var i=t.getTotalSize(),a=i.height,s=i.width;this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:o||0,totalHeight:a,totalWidth:s})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.height,o=n.scrollToAlignment,i=n.scrollToCell,a=n.width,s=this.state,l=s.scrollLeft,u=s.scrollPositionChangeReason,c=s.scrollTop;u===Tf&&(l>=0&&l!==t.scrollLeft&&l!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=l),c>=0&&c!==t.scrollTop&&c!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=c)),r===e.height&&o===e.scrollToAlignment&&i===e.scrollToCell&&a===e.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoHeight,n=e.cellCount,o=e.cellLayoutManager,i=e.className,a=e.height,s=e.horizontalOverscanSize,l=e.id,u=e.noContentRenderer,c=e.style,f=e.verticalOverscanSize,d=e.width,h=this.state,p=h.isScrolling,m=h.scrollLeft,g=h.scrollTop;(this._lastRenderedCellCount!==n||this._lastRenderedCellLayoutManager!==o||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=n,this._lastRenderedCellLayoutManager=o,this._calculateSizeAndPositionDataOnNextUpdate=!1,o.calculateSizeAndPositionData());var v=o.getTotalSize(),y=v.height,b=v.width,_=Math.max(0,m-s),w=Math.max(0,g-f),S=Math.min(b,m+d+s),E=Math.min(y,g+a+f),T=a>0&&d>0?o.cellRenderers({height:E-w,isScrolling:p,width:S-_,x:_,y:w}):[],k={boxSizing:"border-box",direction:"ltr",height:t?"auto":a,position:"relative",WebkitOverflowScrolling:"touch",width:d,willChange:"transform"},x=y>a?this._scrollbarSize:0,C=b>d?this._scrollbarSize:0;return k.overflowX=b+x<=d?"hidden":"auto",k.overflowY=y+C<=a?"hidden":"auto",r.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:mf("ReactVirtualized__Collection",i),id:l,onScroll:this._onScroll,role:"grid",style:wf(wf({},k),c),tabIndex:0},n>0&&r.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:y,maxHeight:y,maxWidth:b,overflow:"hidden",pointerEvents:p?"none":"",width:b}},T),0===n&&u())}},{key:"_enablePointerEventsAfterDelay",value:function(){var e=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout((function(){(0,e.props.isScrollingChange)(!1),e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1})}),150)}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,o=e.totalHeight,i=e.totalWidth;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:o,scrollLeft:n,scrollTop:r,scrollWidth:i})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_setScrollPosition",value:function(e){var t=e.scrollLeft,n=e.scrollTop,r={scrollPositionChangeReason:Tf};t>=0&&(r.scrollLeft=t),n>=0&&(r.scrollTop=n),(t>=0&&t!==this.state.scrollLeft||n>=0&&n!==this.state.scrollTop)&&this.setState(r)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 0!==e.cellCount||0===t.scrollLeft&&0===t.scrollTop?e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop?e.scrollTop:t.scrollTop,scrollPositionChangeReason:Tf}:null:{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:Tf}}}])}(r.PureComponent);qc()(kf,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0}),kf.propTypes={},Yc(kf);var xf=kf,Cf=function(){return Fc()((function e(t){var n=t.height,r=t.width,o=t.x,i=t.y;jc()(this,e),this.height=n,this.width=r,this.x=o,this.y=i,this._indexMap={},this._indices=[]}),[{key:"addCellIndex",value:function(e){var t=e.index;this._indexMap[t]||(this._indexMap[t]=!0,this._indices.push(t))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}])}(),Pf=function(){return Fc()((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;jc()(this,e),this._sectionSize=t,this._cellMetadata=[],this._sections={}}),[{key:"getCellIndices",value:function(e){var t=e.height,n=e.width,r=e.x,o=e.y,i={};return this.getSections({height:t,width:n,x:r,y:o}).forEach((function(e){return e.getCellIndices().forEach((function(e){i[e]=e}))})),Object.keys(i).map((function(e){return i[e]}))}},{key:"getCellMetadata",value:function(e){var t=e.index;return this._cellMetadata[t]}},{key:"getSections",value:function(e){for(var t=e.height,n=e.width,r=e.x,o=e.y,i=Math.floor(r/this._sectionSize),a=Math.floor((r+n-1)/this._sectionSize),s=Math.floor(o/this._sectionSize),l=Math.floor((o+t-1)/this._sectionSize),u=[],c=i;c<=a;c++)for(var f=s;f<=l;f++){var d="".concat(c,".").concat(f);this._sections[d]||(this._sections[d]=new Cf({height:this._sectionSize,width:this._sectionSize,x:c*this._sectionSize,y:f*this._sectionSize})),u.push(this._sections[d])}return u}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var e=this;return Object.keys(this._sections).map((function(t){return e._sections[t].toString()}))}},{key:"registerCell",value:function(e){var t=e.cellMetadatum,n=e.index;this._cellMetadata[n]=t,this.getSections(t).forEach((function(e){return e.addCellIndex({index:n})}))}}])}();function Of(e){var t=e.align,n=void 0===t?"auto":t,r=e.cellOffset,o=e.cellSize,i=e.containerSize,a=e.currentOffset,s=r,l=s-i+o;switch(n){case"start":return s;case"end":return l;case"center":return s-(i-o)/2;default:return Math.max(l,Math.min(s,a))}}function If(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}var Rf=function(e){function t(e,n){var r;return jc()(this,t),(r=If(this,t,[e,n]))._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(r),r._setCollectionViewRef=r._setCollectionViewRef.bind(r),r}return Hc()(t,e),Fc()(t,[{key:"forceUpdate",value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var e=hf()({},(ff()(this.props),this.props));return r.createElement(xf,hf()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},e))}},{key:"calculateSizeAndPositionData",value:function(){var e=this.props,t=function(e){for(var t=e.cellCount,n=e.cellSizeAndPositionGetter,r=e.sectionSize,o=[],i=new Pf(r),a=0,s=0,l=0;l<t;l++){var u=n({index:l});if(null==u.height||isNaN(u.height)||null==u.width||isNaN(u.width)||null==u.x||isNaN(u.x)||null==u.y||isNaN(u.y))throw Error("Invalid metadata returned for cell ".concat(l,":\n        x:").concat(u.x,", y:").concat(u.y,", width:").concat(u.width,", height:").concat(u.height));a=Math.max(a,u.y+u.height),s=Math.max(s,u.x+u.width),o[l]=u,i.registerCell({cellMetadatum:u,index:l})}return{cellMetadata:o,height:a,sectionManager:i,width:s}}({cellCount:e.cellCount,cellSizeAndPositionGetter:e.cellSizeAndPositionGetter,sectionSize:e.sectionSize});this._cellMetadata=t.cellMetadata,this._sectionManager=t.sectionManager,this._height=t.height,this._width=t.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(e){var t=e.align,n=e.cellIndex,r=e.height,o=e.scrollLeft,i=e.scrollTop,a=e.width,s=this.props.cellCount;if(n>=0&&n<s){var l=this._cellMetadata[n];o=Of({align:t,cellOffset:l.x,cellSize:l.width,containerSize:a,currentOffset:o,targetIndex:n}),i=Of({align:t,cellOffset:l.y,cellSize:l.height,containerSize:r,currentOffset:i,targetIndex:n})}return{scrollLeft:o,scrollTop:i}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(e){var t=this,n=e.height,r=e.isScrolling,o=e.width,i=e.x,a=e.y,s=this.props,l=s.cellGroupRenderer,u=s.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:n,width:o,x:i,y:a}),l({cellCache:this._cellCache,cellRenderer:u,cellSizeAndPositionGetter:function(e){var n=e.index;return t._sectionManager.getCellMetadata({index:n})},indices:this._lastRenderedCellIndices,isScrolling:r})}},{key:"_isScrollingChange",value:function(e){e||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(e){this._collectionView=e}}])}(r.PureComponent);qc()(Rf,"defaultProps",{"aria-label":"grid",cellGroupRenderer:function(e){var t=e.cellCache,n=e.cellRenderer,r=e.cellSizeAndPositionGetter,o=e.indices,i=e.isScrolling;return o.map((function(e){var o=r({index:e}),a={index:e,isScrolling:i,key:e,style:{height:o.height,left:o.x,position:"absolute",top:o.y,width:o.width}};return i?(e in t||(t[e]=n(a)),t[e]):n(a)})).filter((function(e){return!!e}))}}),Rf.propTypes={};function Af(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}var Mf=function(e){function t(e,n){var r;return jc()(this,t),(r=Af(this,t,[e,n]))._registerChild=r._registerChild.bind(r),r}return Hc()(t,e),Fc()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.columnMaxWidth,r=t.columnMinWidth,o=t.columnCount,i=t.width;n===e.columnMaxWidth&&r===e.columnMinWidth&&o===e.columnCount&&i===e.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.columnMaxWidth,r=e.columnMinWidth,o=e.columnCount,i=e.width,a=r||1,s=n?Math.min(n,i):i,l=i/o;return l=Math.max(a,l),l=Math.min(s,l),l=Math.floor(l),t({adjustedWidth:Math.min(i,l*o),columnWidth:l,getColumnWidth:function(){return l},registerChild:this._registerChild})}},{key:"_registerChild",value:function(e){if(e&&"function"!=typeof e.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=e,this._registeredChild&&this._registeredChild.recomputeGridSize()}}])}(r.PureComponent);Mf.propTypes={};var Nf=n(27),Df=n.n(Nf);function jf(e){var t=e.cellCount,n=e.cellSize,r=e.computeMetadataCallback,o=e.computeMetadataCallbackProps,i=e.nextCellsCount,a=e.nextCellSize,s=e.nextScrollToIndex,l=e.scrollToIndex,u=e.updateScrollOffsetForScrollToIndex;t===i&&("number"!=typeof n&&"number"!=typeof a||n===a)||(r(o),l>=0&&l===s&&u())}var Lf,Ff=n(24),zf=n.n(Ff),Uf=function(){return Fc()((function e(t){var n=t.cellCount,r=t.cellSizeGetter,o=t.estimatedCellSize;jc()(this,e),qc()(this,"_cellSizeAndPositionData",{}),qc()(this,"_lastMeasuredIndex",-1),qc()(this,"_lastBatchedIndex",-1),qc()(this,"_cellCount",void 0),qc()(this,"_cellSizeGetter",void 0),qc()(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=o}),[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index ".concat(e," is outside of range 0..").concat(this._cellCount));if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell ".concat(r," of value ").concat(o));null===o?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:n,size:o},n+=o,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;if(r<=0)return 0;var a,s=this.getSizeAndPositionOfCell(i),l=s.offset,u=l-r+s.size;switch(n){case"start":a=l;break;case"end":a=u;break;case"center":a=l-(r-s.size)/2;break;default:a=Math.max(u,Math.min(l,o))}var c=this.getTotalSize();return Math.max(0,Math.min(c-r,a))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};var r=n+t,o=this._findNearestCell(n),i=this.getSizeAndPositionOfCell(o);n=i.offset+i.size;for(var a=o;n<r&&a<this._cellCount-1;)a++,n+=this.getSizeAndPositionOfCell(a).size;return{start:o,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var r=t+Math.floor((e-t)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===n)return r;o<n?t=r+1:o>n&&(e=r-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset ".concat(e," specified"));e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}])}(),Bf=function(){return"undefined"!=typeof window&&window.chrome?16777100:15e5},Vf=["maxScrollSize"],Gf=function(){return Fc()((function e(t){var n=t.maxScrollSize,r=void 0===n?Bf():n,o=zf()(t,Vf);jc()(this,e),qc()(this,"_cellSizeAndPositionManager",void 0),qc()(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new Uf(o),this._maxScrollSize=r}),[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(o-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;o=this._safeOffsetToOffset({containerSize:r,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset,r=e.totalSize;return r<=t?0:n/(r-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(i*(o-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(r-t))}}])}();function Hf(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,r=e.previousCellsCount,o=e.previousCellSize,i=e.previousScrollToAlignment,a=e.previousScrollToIndex,s=e.previousSize,l=e.scrollOffset,u=e.scrollToAlignment,c=e.scrollToIndex,f=e.size,d=e.sizeJustIncreasedFromZero,h=e.updateScrollIndexCallback,p=n.getCellCount(),m=c>=0&&c<p;m&&(f!==s||d||!o||"number"==typeof t&&t!==o||u!==i||c!==a)?h(c):!m&&p>0&&(f<s||p<r)&&l>n.getTotalSize()-f&&h(p-1)}var Wf=(Lf="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||Lf.webkitRequestAnimationFrame||Lf.mozRequestAnimationFrame||Lf.oRequestAnimationFrame||Lf.msRequestAnimationFrame||function(e){return Lf.setTimeout(e,1e3/60)},qf=Lf.cancelAnimationFrame||Lf.webkitCancelAnimationFrame||Lf.mozCancelAnimationFrame||Lf.oCancelAnimationFrame||Lf.msCancelAnimationFrame||function(e){Lf.clearTimeout(e)},$f=Wf,Kf=qf,Xf=function(e){return Kf(e.id)},Yf=function(e,t){var n;Promise.resolve().then((function(){n=Date.now()}));var r=function(){Date.now()-n>=t?e.call():o.id=$f(r)},o={id:$f(r)};return o};function Qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qf(Object(n),!0).forEach((function(t){qc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zf(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}var ed="observed",td="requested",nd=function(e){function t(e){var n;jc()(this,t),n=Zf(this,t,[e]),qc()(n,"_onGridRenderedMemoizer",gf()),qc()(n,"_onScrollMemoizer",gf(!1)),qc()(n,"_deferredInvalidateColumnIndex",null),qc()(n,"_deferredInvalidateRowIndex",null),qc()(n,"_recomputeScrollLeftFlag",!1),qc()(n,"_recomputeScrollTopFlag",!1),qc()(n,"_horizontalScrollBarSize",0),qc()(n,"_verticalScrollBarSize",0),qc()(n,"_scrollbarPresenceChanged",!1),qc()(n,"_scrollingContainer",void 0),qc()(n,"_childrenToDisplay",void 0),qc()(n,"_columnStartIndex",void 0),qc()(n,"_columnStopIndex",void 0),qc()(n,"_rowStartIndex",void 0),qc()(n,"_rowStopIndex",void 0),qc()(n,"_renderedColumnStartIndex",0),qc()(n,"_renderedColumnStopIndex",0),qc()(n,"_renderedRowStartIndex",0),qc()(n,"_renderedRowStopIndex",0),qc()(n,"_initialScrollTop",void 0),qc()(n,"_initialScrollLeft",void 0),qc()(n,"_disablePointerEventsTimeoutId",void 0),qc()(n,"_styleCache",{}),qc()(n,"_cellCache",{}),qc()(n,"_debounceScrollEndedCallback",(function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})})),qc()(n,"_invokeOnGridRenderedHelper",(function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})})),qc()(n,"_setScrollingContainerRef",(function(e){n._scrollingContainer=e,"function"==typeof n.props.elementRef?n.props.elementRef(e):"object"===Df()(n.props.elementRef)&&(n.props.elementRef.current=e)})),qc()(n,"_onScroll",(function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)}));var r=new Gf({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)},estimatedCellSize:t._getEstimatedColumnSize(e)}),o=new Gf({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),e.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return Hc()(t,e),Fc()(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,r=e.columnIndex,o=void 0===r?this.props.scrollToColumn:r,i=e.rowIndex,a=void 0===i?this.props.scrollToRow:i,s=Jf(Jf({},this.props),{},{scrollToAlignment:n,scrollToColumn:o,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,o=void 0===r?0:r;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,s=i.autoWidth,l=i.height,u=i.width,c=this.state.instanceProps,f=c.scrollbarSize,d=c.rowSizeAndPositionManager.getTotalSize(),h=c.columnSizeAndPositionManager.getTotalSize(),p=Math.min(Math.max(0,h-u+f),n),m=Math.min(Math.max(0,d-l+f),o);if(this.state.scrollLeft!==p||this.state.scrollTop!==m){var g={isScrolling:!0,scrollDirectionHorizontal:p!==this.state.scrollLeft?p>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:ed};a||(g.scrollTop=m),s||(g.scrollLeft=p),g.needToResetStyleCache=!1,this.setState(g)}this._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:m,totalColumnsWidth:h,totalRowsHeight:d})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r,i=this.props,a=i.scrollToColumn,s=i.scrollToRow,l=this.state.instanceProps;l.columnSizeAndPositionManager.resetCell(n),l.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=a>=0&&(1===this.state.scrollDirectionHorizontal?n<=a:n>=a),this._recomputeScrollTopFlag=s>=0&&(1===this.state.scrollDirectionVertical?o<=s:o>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,r=this.props.columnCount,o=this.props;r>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(Jf(Jf({},o),{},{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow(Jf(Jf({},o),{},{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.getScrollbarSize,r=e.height,o=e.scrollLeft,i=e.scrollToColumn,a=e.scrollTop,s=e.scrollToRow,l=e.width,u=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),u.scrollbarSizeMeasured||this.setState((function(e){var t=Jf(Jf({},e),{},{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=n(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"==typeof o&&o>=0||"number"==typeof a&&a>=0){var c=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:a});c&&(c.needToResetStyleCache=!1,this.setState(c))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var f=r>0&&l>0;i>=0&&f&&this._updateScrollLeftForScrollToColumn(),s>=0&&f&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:a||0,totalColumnsWidth:u.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:u.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,o=r.autoHeight,i=r.autoWidth,a=r.columnCount,s=r.height,l=r.rowCount,u=r.scrollToAlignment,c=r.scrollToColumn,f=r.scrollToRow,d=r.width,h=this.state,p=h.scrollLeft,m=h.scrollPositionChangeReason,g=h.scrollTop,v=h.instanceProps;this._handleInvalidatedGridSize();var y=a>0&&0===e.columnCount||l>0&&0===e.rowCount;m===td&&(!i&&p>=0&&(p!==this._scrollingContainer.scrollLeft||y)&&(this._scrollingContainer.scrollLeft=p),!o&&g>=0&&(g!==this._scrollingContainer.scrollTop||y)&&(this._scrollingContainer.scrollTop=g));var b=(0===e.width||0===e.height)&&s>0&&d>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Hf({cellSizeAndPositionManager:v.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:p,scrollToAlignment:u,scrollToIndex:c,size:d,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Hf({cellSizeAndPositionManager:v.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:g,scrollToAlignment:u,scrollToIndex:f,size:s,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),p!==t.scrollLeft||g!==t.scrollTop){var _=v.rowSizeAndPositionManager.getTotalSize(),w=v.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:g,totalColumnsWidth:w,totalRowsHeight:_})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Xf(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,o=e.autoWidth,i=e.className,a=e.containerProps,s=e.containerRole,l=e.containerStyle,u=e.height,c=e.id,f=e.noContentRenderer,d=e.role,h=e.style,p=e.tabIndex,m=e.width,g=this.state,v=g.instanceProps,y=g.needToResetStyleCache,b=this._isScrolling(),_={boxSizing:"border-box",direction:"ltr",height:n?"auto":u,position:"relative",width:o?"auto":m,WebkitOverflowScrolling:"touch",willChange:"transform"};y&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var w=v.columnSizeAndPositionManager.getTotalSize(),S=v.rowSizeAndPositionManager.getTotalSize(),E=S>u?v.scrollbarSize:0,T=w>m?v.scrollbarSize:0;T===this._horizontalScrollBarSize&&E===this._verticalScrollBarSize||(this._horizontalScrollBarSize=T,this._verticalScrollBarSize=E,this._scrollbarPresenceChanged=!0),_.overflowX=w+E<=m?"hidden":"auto",_.overflowY=S+T<=u?"hidden":"auto";var k=this._childrenToDisplay,x=0===k.length&&u>0&&m>0;return r.createElement("div",hf()({ref:this._setScrollingContainerRef},a,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:mf("ReactVirtualized__Grid",i),id:c,onScroll:this._onScroll,role:d,style:Jf(Jf({},_),h),tabIndex:p}),k.length>0&&r.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:s,style:Jf({width:t?"auto":w,height:S,maxWidth:w,maxHeight:S,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"},l)},k),x&&f())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,r=e.cellRangeRenderer,o=e.columnCount,i=e.deferredMeasurementCache,a=e.height,s=e.overscanColumnCount,l=e.overscanIndicesGetter,u=e.overscanRowCount,c=e.rowCount,f=e.width,d=e.isScrollingOptOut,h=t.scrollDirectionHorizontal,p=t.scrollDirectionVertical,m=t.instanceProps,g=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,v=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,y=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&f>0){var b=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:f,offset:v}),_=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:g}),w=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:f,offset:v}),S=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:g});this._renderedColumnStartIndex=b.start,this._renderedColumnStopIndex=b.stop,this._renderedRowStartIndex=_.start,this._renderedRowStopIndex=_.stop;var E=l({direction:"horizontal",cellCount:o,overscanCellsCount:s,scrollDirection:h,startIndex:"number"==typeof b.start?b.start:0,stopIndex:"number"==typeof b.stop?b.stop:-1}),T=l({direction:"vertical",cellCount:c,overscanCellsCount:u,scrollDirection:p,startIndex:"number"==typeof _.start?_.start:0,stopIndex:"number"==typeof _.stop?_.stop:-1}),k=E.overscanStartIndex,x=E.overscanStopIndex,C=T.overscanStartIndex,P=T.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var O=C;O<=P;O++)if(!i.has(O,0)){k=0,x=o-1;break}if(!i.hasFixedWidth())for(var I=k;I<=x;I++)if(!i.has(0,I)){C=0,P=c-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:k,columnStopIndex:x,deferredMeasurementCache:i,horizontalOffsetAdjustment:w,isScrolling:y,isScrollingOptOut:d,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:C,rowStopIndex:P,scrollLeft:v,scrollTop:g,styleCache:this._styleCache,verticalOffsetAdjustment:S,visibleColumnIndices:b,visibleRowIndices:_}),this._columnStartIndex=k,this._columnStopIndex=x,this._rowStartIndex=C,this._rowStopIndex=P}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Xf(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=Yf(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,o=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var n=e.scrollLeft,r=e.scrollTop,o=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:r});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollLeftForScrollToColumnStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i="".concat(r,"-").concat(o);this._styleCache[i]=e[i],n&&(this._cellCache[i]=t[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollTopForScrollToRowStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var r={};0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(e.scrollLeft!==n.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==n.scrollTop&&e.scrollToRow<0)&&Object.assign(r,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var o,i,a=n.instanceProps;return r.needToResetStyleCache=!1,e.columnWidth===a.prevColumnWidth&&e.rowHeight===a.prevRowHeight||(r.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==a.prevColumnCount&&0!==a.prevRowCount||(a.prevColumnCount=0,a.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===a.prevIsScrolling&&Object.assign(r,{isScrolling:!1}),jf({cellCount:a.prevColumnCount,cellSize:"number"==typeof a.prevColumnWidth?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),jf({cellCount:a.prevRowCount,cellSize:"number"==typeof a.prevRowHeight?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){i=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),a.prevColumnCount=e.columnCount,a.prevColumnWidth=e.columnWidth,a.prevIsScrolling=!0===e.isScrolling,a.prevRowCount=e.rowCount,a.prevRowHeight=e.rowHeight,a.prevScrollToColumn=e.scrollToColumn,a.prevScrollToRow=e.scrollToRow,a.scrollbarSize=e.getScrollbarSize(),void 0===a.scrollbarSize?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,r.instanceProps=a,Jf(Jf(Jf({},r),o),i)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,r=e.scrollTop,o={scrollPositionChangeReason:td};return"number"==typeof n&&n>=0&&(o.scrollDirectionHorizontal=n>t.scrollLeft?1:-1,o.scrollLeft=n),"number"==typeof r&&r>=0&&(o.scrollDirectionVertical=r>t.scrollTop?1:-1,o.scrollTop=r),"number"==typeof n&&n>=0&&n!==t.scrollLeft||"number"==typeof r&&r>=0&&r!==t.scrollTop?o:{}}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,r=e.height,o=e.scrollToAlignment,i=e.scrollToColumn,a=e.width,s=t.scrollLeft,l=t.instanceProps;if(n>0){var u=n-1,c=i<0?u:Math.min(u,i),f=l.rowSizeAndPositionManager.getTotalSize(),d=l.scrollbarSizeMeasured&&f>r?l.scrollbarSize:0;return l.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-d,currentOffset:s,targetIndex:c})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var r=n.scrollLeft,o=t._getCalculatedScrollLeft(e,n);return"number"==typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:o,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,r=e.rowCount,o=e.scrollToAlignment,i=e.scrollToRow,a=e.width,s=t.scrollTop,l=t.instanceProps;if(r>0){var u=r-1,c=i<0?u:Math.min(u,i),f=l.columnSizeAndPositionManager.getTotalSize(),d=l.scrollbarSizeMeasured&&f>a?l.scrollbarSize:0;return l.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n-d,currentOffset:s,targetIndex:c})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var r=n.scrollTop,o=t._getCalculatedScrollTop(e,n);return"number"==typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:o}):{}}}])}(r.PureComponent);qc()(nd,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,n=e.cellRenderer,r=e.columnSizeAndPositionManager,i=e.columnStartIndex,a=e.columnStopIndex,s=e.deferredMeasurementCache,l=e.horizontalOffsetAdjustment,u=e.isScrolling,c=e.isScrollingOptOut,f=e.parent,d=e.rowSizeAndPositionManager,h=e.rowStartIndex,p=e.rowStopIndex,m=e.styleCache,g=e.verticalOffsetAdjustment,v=e.visibleColumnIndices,y=e.visibleRowIndices,b=[],_=r.areOffsetsAdjusted()||d.areOffsetsAdjusted(),w=!u&&!_,S=h;S<=p;S++)for(var E=d.getSizeAndPositionOfCell(S),T=i;T<=a;T++){var k=r.getSizeAndPositionOfCell(T),x=T>=v.start&&T<=v.stop&&S>=y.start&&S<=y.stop,C="".concat(S,"-").concat(T),P=void 0;w&&m[C]?P=m[C]:s&&!s.has(S,T)?P={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(P={height:E.size,left:k.offset+l,position:"absolute",top:E.offset+g,width:k.size},m[C]=P);var O={columnIndex:T,isScrolling:u,isVisible:x,key:C,parent:f,rowIndex:S,style:P},I=void 0;!c&&!u||l||g?I=n(O):(t[C]||(t[C]=n(O)),I=t[C]),null!=I&&!1!==I&&(I.props.role||(I=o.a.cloneElement(I,{role:"gridcell"})),b.push(I))}return b},containerRole:"row",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:bf,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return 1===r?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),Yc(nd);var rd=nd;function od(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return n=Math.max(1,n),1===r?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i+1)}}var id=n(69),ad=n.n(id);function sd(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}var ld=function(e){function t(e,n){var r;return jc()(this,t),(r=sd(this,t,[e,n]))._loadMoreRowsMemoizer=gf(),r._onRowsRendered=r._onRowsRendered.bind(r),r._registerChild=r._registerChild.bind(r),r}return Hc()(t,e),Fc()(t,[{key:"resetLoadMoreRowsCache",value:function(e){this._loadMoreRowsMemoizer=gf(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(e){var t=this,n=this.props.loadMoreRows;e.forEach((function(e){var r=n(e);r&&r.then((function(){var n,r,o,i,a;n={lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:e.startIndex,stopIndex:e.stopIndex},r=n.lastRenderedStartIndex,o=n.lastRenderedStopIndex,i=n.startIndex,a=n.stopIndex,i>o||a<r||t._registeredChild&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="function"==typeof e.recomputeGridSize?e.recomputeGridSize:e.recomputeRowHeights;n?n.call(e,t):e.forceUpdate()}(t._registeredChild,t._lastRenderedStartIndex)}))}))}},{key:"_onRowsRendered",value:function(e){var t=e.startIndex,n=e.stopIndex;this._lastRenderedStartIndex=t,this._lastRenderedStopIndex=n,this._doStuff(t,n)}},{key:"_doStuff",value:function(e,t){var n,r=this,o=this.props,i=o.isRowLoaded,a=o.minimumBatchSize,s=o.rowCount,l=o.threshold,u=function(e){for(var t=e.isRowLoaded,n=e.minimumBatchSize,r=e.rowCount,o=e.startIndex,i=e.stopIndex,a=[],s=null,l=null,u=o;u<=i;u++){t({index:u})?null!==l&&(a.push({startIndex:s,stopIndex:l}),s=l=null):(l=u,null===s&&(s=u))}if(null!==l){for(var c=Math.min(Math.max(l,s+n-1),r-1),f=l+1;f<=c&&!t({index:f});f++)l=f;a.push({startIndex:s,stopIndex:l})}if(a.length)for(var d=a[0];d.stopIndex-d.startIndex+1<n&&d.startIndex>0;){var h=d.startIndex-1;if(t({index:h}))break;d.startIndex=h}return a}({isRowLoaded:i,minimumBatchSize:a,rowCount:s,startIndex:Math.max(0,e-l),stopIndex:Math.min(s-1,t+l)}),c=(n=[]).concat.apply(n,ad()(u.map((function(e){return[e.startIndex,e.stopIndex]}))));this._loadMoreRowsMemoizer({callback:function(){r._loadUnloadedRanges(u)},indices:{squashedUnloadedRanges:c}})}},{key:"_registerChild",value:function(e){this._registeredChild=e}}])}(r.PureComponent);qc()(ld,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15}),ld.propTypes={};function ud(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}var cd=function(e){function t(){var e;jc()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=ud(this,t,[].concat(r)),qc()(e,"Grid",void 0),qc()(e,"_cellRenderer",(function(t){var n=t.parent,r=t.rowIndex,o=t.style,i=t.isScrolling,a=t.isVisible,s=t.key,l=e.props.rowRenderer,u=Object.getOwnPropertyDescriptor(o,"width");return u&&u.writable&&(o.width="100%"),l({index:r,style:o,isScrolling:i,isVisible:a,key:s,parent:n})})),qc()(e,"_setRef",(function(t){e.Grid=t})),qc()(e,"_onScroll",(function(t){var n=t.clientHeight,r=t.scrollHeight,o=t.scrollTop;(0,e.props.onScroll)({clientHeight:n,scrollHeight:r,scrollTop:o})})),qc()(e,"_onSectionRendered",(function(t){var n=t.rowOverscanStartIndex,r=t.rowOverscanStopIndex,o=t.rowStartIndex,i=t.rowStopIndex;(0,e.props.onRowsRendered)({overscanStartIndex:n,overscanStopIndex:r,startIndex:o,stopIndex:i})})),e}return Hc()(t,e),Fc()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.noRowsRenderer,o=e.scrollToIndex,i=e.width,a=mf("ReactVirtualized__List",t);return r.createElement(rd,hf()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:a,columnWidth:i,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:o}))}}])}(r.PureComponent);qc()(cd,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:od,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var fd=n(70),dd=n.n(fd);var hd={ge:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=n+1;t<=n;){var a=t+n>>>1;o(e[a],r)>=0?(i=a,n=a-1):t=a+1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=n+1;t<=n;){var i=t+n>>>1;e[i]>=r?(o=i,n=i-1):t=i+1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},gt:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=n+1;t<=n;){var a=t+n>>>1;o(e[a],r)>0?(i=a,n=a-1):t=a+1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=n+1;t<=n;){var i=t+n>>>1;e[i]>r?(o=i,n=i-1):t=i+1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},lt:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=t-1;t<=n;){var a=t+n>>>1;o(e[a],r)<0?(i=a,t=a+1):n=a-1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=t-1;t<=n;){var i=t+n>>>1;e[i]<r?(o=i,t=i+1):n=i-1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},le:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=t-1;t<=n;){var a=t+n>>>1;o(e[a],r)<=0?(i=a,t=a+1):n=a-1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=t-1;t<=n;){var i=t+n>>>1;e[i]<=r?(o=i,t=i+1):n=i-1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},eq:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(;t<=n;){var i=t+n>>>1,a=o(e[i],r);if(0===a)return i;a<=0?t=i+1:n=i-1}return-1}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(;t<=n;){var o=t+n>>>1,i=e[o];if(i===r)return o;i<=r?t=o+1:n=o-1}return-1}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)}};function pd(e,t,n,r,o){this.mid=e,this.left=t,this.right=n,this.leftPoints=r,this.rightPoints=o,this.count=(t?t.count:0)+(n?n.count:0)+r.length}var md=pd.prototype;function gd(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function vd(e,t){var n=xd(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function yd(e,t){var n=e.intervals([]);n.push(t),vd(e,n)}function bd(e,t){var n=e.intervals([]),r=n.indexOf(t);return r<0?0:(n.splice(r,1),vd(e,n),1)}function _d(e,t,n){for(var r=0;r<e.length&&e[r][0]<=t;++r){var o=n(e[r]);if(o)return o}}function wd(e,t,n){for(var r=e.length-1;r>=0&&e[r][1]>=t;--r){var o=n(e[r]);if(o)return o}}function Sd(e,t){for(var n=0;n<e.length;++n){var r=t(e[n]);if(r)return r}}function Ed(e,t){return e-t}function Td(e,t){var n=e[0]-t[0];return n||e[1]-t[1]}function kd(e,t){var n=e[1]-t[1];return n||e[0]-t[0]}function xd(e){if(0===e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(Ed);var r=t[t.length>>1],o=[],i=[],a=[];for(n=0;n<e.length;++n){var s=e[n];s[1]<r?o.push(s):r<s[0]?i.push(s):a.push(s)}var l=a,u=a.slice();return l.sort(Td),u.sort(kd),new pd(r,xd(o),xd(i),l,u)}function Cd(e){this.root=e}md.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},md.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?yd(this,e):this.left.insert(e):this.left=xd([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?yd(this,e):this.right.insert(e):this.right=xd([e]);else{var n=hd.ge(this.leftPoints,e,Td),r=hd.ge(this.rightPoints,e,kd);this.leftPoints.splice(n,0,e),this.rightPoints.splice(r,0,e)}},md.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(t-1)?bd(this,e):2===(i=this.left.remove(e))?(this.left=null,this.count-=1,1):(1===i&&(this.count-=1),i):0;if(e[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(t-1)?bd(this,e):2===(i=this.right.remove(e))?(this.right=null,this.count-=1,1):(1===i&&(this.count-=1),i):0;if(1===this.count)return this.leftPoints[0]===e?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var n=this,r=this.left;r.right;)n=r,r=r.right;if(n===this)r.right=this.right;else{var o=this.left,i=this.right;n.count-=r.count,n.right=r.left,r.left=o,r.right=i}gd(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?gd(this,this.left):gd(this,this.right);return 1}for(o=hd.ge(this.leftPoints,e,Td);o<this.leftPoints.length&&this.leftPoints[o][0]===e[0];++o)if(this.leftPoints[o]===e){this.count-=1,this.leftPoints.splice(o,1);for(i=hd.ge(this.rightPoints,e,kd);i<this.rightPoints.length&&this.rightPoints[i][1]===e[1];++i)if(this.rightPoints[i]===e)return this.rightPoints.splice(i,1),1}return 0},md.queryPoint=function(e,t){if(e<this.mid){if(this.left)if(n=this.left.queryPoint(e,t))return n;return _d(this.leftPoints,e,t)}if(e>this.mid){var n;if(this.right)if(n=this.right.queryPoint(e,t))return n;return wd(this.rightPoints,e,t)}return Sd(this.leftPoints,t)},md.queryInterval=function(e,t,n){var r;if(e<this.mid&&this.left&&(r=this.left.queryInterval(e,t,n)))return r;if(t>this.mid&&this.right&&(r=this.right.queryInterval(e,t,n)))return r;return t<this.mid?_d(this.leftPoints,t,n):e>this.mid?wd(this.rightPoints,e,n):Sd(this.leftPoints,n)};var Pd=Cd.prototype;Pd.insert=function(e){this.root?this.root.insert(e):this.root=new pd(e[0],null,null,[e],[e])},Pd.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),0!==t}return!1},Pd.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},Pd.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(Pd,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(Pd,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var Od=function(){return Fc()((function e(){var t;jc()(this,e),qc()(this,"_columnSizeMap",{}),qc()(this,"_intervalTree",t&&0!==t.length?new Cd(xd(t)):new Cd(null)),qc()(this,"_leftMap",{})}),[{key:"estimateTotalHeight",value:function(e,t,n){var r=e-this.count;return this.tallestColumnSize+Math.ceil(r/t)*n}},{key:"range",value:function(e,t,n){var r=this;this._intervalTree.queryInterval(e,e+t,(function(e){var t=dd()(e,3),o=t[0],i=(t[1],t[2]);return n(i,r._leftMap[i],o)}))}},{key:"setPosition",value:function(e,t,n,r){this._intervalTree.insert([n,n+r,e]),this._leftMap[e]=t;var o=this._columnSizeMap,i=o[t];o[t]=void 0===i?n+r:Math.max(i,n+r)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var r=e[n];t=0===t?r:Math.min(t,r)}return t}},{key:"tallestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var r=e[n];t=Math.max(t,r)}return t}}])}();function Id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Id(Object(n),!0).forEach((function(t){qc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Id(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ad(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}var Md=function(e){function t(){var e;jc()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=Ad(this,t,[].concat(r)),qc()(e,"state",{isScrolling:!1,scrollTop:0}),qc()(e,"_debounceResetIsScrollingId",void 0),qc()(e,"_invalidateOnUpdateStartIndex",null),qc()(e,"_invalidateOnUpdateStopIndex",null),qc()(e,"_positionCache",new Od),qc()(e,"_startIndex",null),qc()(e,"_startIndexMemoized",null),qc()(e,"_stopIndex",null),qc()(e,"_stopIndexMemoized",null),qc()(e,"_debounceResetIsScrollingCallback",(function(){e.setState({isScrolling:!1})})),qc()(e,"_setScrollingContainerRef",(function(t){e._scrollingContainer=t})),qc()(e,"_onScroll",(function(t){var n=e.props.height,r=t.currentTarget.scrollTop,o=Math.min(Math.max(0,e._getEstimatedTotalHeight()-n),r);r===o&&(e._debounceResetIsScrolling(),e.state.scrollTop!==o&&e.setState({isScrolling:!0,scrollTop:o}))})),e}return Hc()(t,e),Fc()(t,[{key:"clearCellPositions",value:function(){this._positionCache=new Od,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=t,this._invalidateOnUpdateStopIndex=t):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,t),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,t))}},{key:"recomputeCellPositions",value:function(){var e=this._positionCache.count-1;this._positionCache=new Od,this._populatePositionCache(0,e),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(e,t){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==e.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&Xf(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.autoHeight,i=n.cellCount,a=n.cellMeasurerCache,s=n.cellRenderer,l=n.className,u=n.height,c=n.id,f=n.keyMapper,d=n.overscanByPixels,h=n.role,p=n.style,m=n.tabIndex,g=n.width,v=n.rowDirection,y=this.state,b=y.isScrolling,_=y.scrollTop,w=[],S=this._getEstimatedTotalHeight(),E=this._positionCache.shortestColumnSize,T=this._positionCache.count,k=0;if(this._positionCache.range(Math.max(0,_-d),u+2*d,(function(n,r,o){void 0===e?(k=n,e=n):(k=Math.min(k,n),e=Math.max(e,n)),w.push(s({index:n,isScrolling:b,key:f(n),parent:t,style:qc()(qc()(qc()(qc()({height:a.getHeight(n)},"ltr"===v?"left":"right",r),"position","absolute"),"top",o),"width",a.getWidth(n))}))})),E<_+u+d&&T<i)for(var x=Math.min(i-T,Math.ceil((_+u+d-E)/a.defaultHeight*g/a.defaultWidth)),C=T;C<T+x;C++)e=C,w.push(s({index:C,isScrolling:b,key:f(C),parent:this,style:{width:a.getWidth(C)}}));return this._startIndex=k,this._stopIndex=e,r.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:mf("ReactVirtualized__Masonry",l),id:c,onScroll:this._onScroll,role:h,style:Rd({boxSizing:"border-box",direction:"ltr",height:o?"auto":u,overflowX:"hidden",overflowY:S<u?"hidden":"auto",position:"relative",width:g,WebkitOverflowScrolling:"touch",willChange:"transform"},p),tabIndex:m},r.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:S,maxWidth:"100%",maxHeight:S,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"}},w))}},{key:"_checkInvalidateOnUpdate",value:function(){if("number"==typeof this._invalidateOnUpdateStartIndex){var e=this._invalidateOnUpdateStartIndex,t=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(e,t),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var e=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&Xf(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=Yf(this._debounceResetIsScrollingCallback,e)}},{key:"_getEstimatedTotalHeight",value:function(){var e=this.props,t=e.cellCount,n=e.cellMeasurerCache,r=e.width,o=Math.max(1,Math.floor(r/n.defaultWidth));return this._positionCache.estimateTotalHeight(t,o,n.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var e=this.props,t=e.height,n=e.onScroll,r=this.state.scrollTop;this._onScrollMemoized!==r&&(n({clientHeight:t,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:r}),this._onScrollMemoized=r)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(e,t){for(var n=this.props,r=n.cellMeasurerCache,o=n.cellPositioner,i=e;i<=t;i++){var a=o(i),s=a.left,l=a.top;this._positionCache.setPosition(i,s,l,r.getHeight(i))}}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.scrollTop&&t.scrollTop!==e.scrollTop?{isScrolling:!0,scrollTop:e.scrollTop}:null}}])}(r.PureComponent);function Nd(){}qc()(Md,"defaultProps",{autoHeight:!1,keyMapper:function(e){return e},onCellsRendered:Nd,onScroll:Nd,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"}),Yc(Md);var Dd=function(){return Fc()((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};jc()(this,e),qc()(this,"_cellMeasurerCache",void 0),qc()(this,"_columnIndexOffset",void 0),qc()(this,"_rowIndexOffset",void 0),qc()(this,"columnWidth",(function(e){var n=e.index;t._cellMeasurerCache.columnWidth({index:n+t._columnIndexOffset})})),qc()(this,"rowHeight",(function(e){var n=e.index;t._cellMeasurerCache.rowHeight({index:n+t._rowIndexOffset})}));var r=n.cellMeasurerCache,o=n.columnIndexOffset,i=void 0===o?0:o,a=n.rowIndexOffset,s=void 0===a?0:a;this._cellMeasurerCache=r,this._columnIndexOffset=i,this._rowIndexOffset=s}),[{key:"clear",value:function(e,t){this._cellMeasurerCache.clear(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"set",value:function(e,t,n,r){this._cellMeasurerCache.set(e+this._rowIndexOffset,t+this._columnIndexOffset,n,r)}}])}(),jd=["rowIndex"],Ld=["columnIndex","rowIndex"],Fd=["columnIndex"],zd=["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"];function Ud(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ud(Object(n),!0).forEach((function(t){qc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ud(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vd(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}var Gd=function(e){function t(e,n){var o;jc()(this,t),o=Vd(this,t,[e,n]),qc()(o,"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),qc()(o,"_deferredInvalidateColumnIndex",null),qc()(o,"_deferredInvalidateRowIndex",null),qc()(o,"_bottomLeftGridRef",(function(e){o._bottomLeftGrid=e})),qc()(o,"_bottomRightGridRef",(function(e){o._bottomRightGrid=e})),qc()(o,"_cellRendererBottomLeftGrid",(function(e){var t=e.rowIndex,n=zf()(e,jd),i=o.props,a=i.cellRenderer,s=i.fixedRowCount;return t===i.rowCount-s?r.createElement("div",{key:n.key,style:Bd(Bd({},n.style),{},{height:20})}):a(Bd(Bd({},n),{},{parent:o,rowIndex:t+s}))})),qc()(o,"_cellRendererBottomRightGrid",(function(e){var t=e.columnIndex,n=e.rowIndex,r=zf()(e,Ld),i=o.props,a=i.cellRenderer,s=i.fixedColumnCount,l=i.fixedRowCount;return a(Bd(Bd({},r),{},{columnIndex:t+s,parent:o,rowIndex:n+l}))})),qc()(o,"_cellRendererTopRightGrid",(function(e){var t=e.columnIndex,n=zf()(e,Fd),i=o.props,a=i.cellRenderer,s=i.columnCount,l=i.fixedColumnCount;return t===s-l?r.createElement("div",{key:n.key,style:Bd(Bd({},n.style),{},{width:20})}):a(Bd(Bd({},n),{},{columnIndex:t+l,parent:o}))})),qc()(o,"_columnWidthRightGrid",(function(e){var t=e.index,n=o.props,r=n.columnCount,i=n.fixedColumnCount,a=n.columnWidth,s=o.state,l=s.scrollbarSize;return s.showHorizontalScrollbar&&t===r-i?l:"function"==typeof a?a({index:t+i}):a})),qc()(o,"_onScroll",(function(e){var t=e.scrollLeft,n=e.scrollTop;o.setState({scrollLeft:t,scrollTop:n});var r=o.props.onScroll;r&&r(e)})),qc()(o,"_onScrollbarPresenceChange",(function(e){var t=e.horizontal,n=e.size,r=e.vertical,i=o.state,a=i.showHorizontalScrollbar,s=i.showVerticalScrollbar;if(t!==a||r!==s){o.setState({scrollbarSize:n,showHorizontalScrollbar:t,showVerticalScrollbar:r});var l=o.props.onScrollbarPresenceChange;"function"==typeof l&&l({horizontal:t,size:n,vertical:r})}})),qc()(o,"_onScrollLeft",(function(e){var t=e.scrollLeft;o._onScroll({scrollLeft:t,scrollTop:o.state.scrollTop})})),qc()(o,"_onScrollTop",(function(e){var t=e.scrollTop;o._onScroll({scrollTop:t,scrollLeft:o.state.scrollLeft})})),qc()(o,"_rowHeightBottomGrid",(function(e){var t=e.index,n=o.props,r=n.fixedRowCount,i=n.rowCount,a=n.rowHeight,s=o.state,l=s.scrollbarSize;return s.showVerticalScrollbar&&t===i-r?l:"function"==typeof a?a({index:t+r}):a})),qc()(o,"_topLeftGridRef",(function(e){o._topLeftGrid=e})),qc()(o,"_topRightGridRef",(function(e){o._topRightGrid=e}));var i=e.deferredMeasurementCache,a=e.fixedColumnCount,s=e.fixedRowCount;return o._maybeCalculateCachedStyles(!0),i&&(o._deferredMeasurementCacheBottomLeftGrid=s>0?new Dd({cellMeasurerCache:i,columnIndexOffset:0,rowIndexOffset:s}):i,o._deferredMeasurementCacheBottomRightGrid=a>0||s>0?new Dd({cellMeasurerCache:i,columnIndexOffset:a,rowIndexOffset:s}):i,o._deferredMeasurementCacheTopRightGrid=a>0?new Dd({cellMeasurerCache:i,columnIndexOffset:a,rowIndexOffset:0}):i),o}return Hc()(t,e),Fc()(t,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r,i=this.props,a=i.fixedColumnCount,s=i.fixedRowCount,l=Math.max(0,n-a),u=Math.max(0,o-s);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:u}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:l,rowIndex:u}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:o}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:l,rowIndex:o}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.scrollLeft,n=e.scrollTop;if(t>0||n>0){var r={};t>0&&(r.scrollLeft=t),n>0&&(r.scrollTop=n),this.setState(r)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var e=this.props,t=e.onScroll,n=e.onSectionRendered,o=(e.onScrollbarPresenceChange,e.scrollLeft,e.scrollToColumn),i=(e.scrollTop,e.scrollToRow),a=zf()(e,zd);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var s=this.state,l=s.scrollLeft,u=s.scrollTop;return r.createElement("div",{style:this._containerOuterStyle},r.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(a),this._renderTopRightGrid(Bd(Bd({},a),{},{onScroll:t,scrollLeft:l}))),r.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(Bd(Bd({},a),{},{onScroll:t,scrollTop:u})),this._renderBottomRightGrid(Bd(Bd({},a),{},{onScroll:t,onSectionRendered:n,scrollLeft:l,scrollToColumn:o,scrollToRow:i,scrollTop:u}))))}},{key:"_getBottomGridHeight",value:function(e){return e.height-this._getTopGridHeight(e)}},{key:"_getLeftGridWidth",value:function(e){var t=e.fixedColumnCount,n=e.columnWidth;if(null==this._leftGridWidth)if("function"==typeof n){for(var r=0,o=0;o<t;o++)r+=n({index:o});this._leftGridWidth=r}else this._leftGridWidth=n*t;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(e){return e.width-this._getLeftGridWidth(e)}},{key:"_getTopGridHeight",value:function(e){var t=e.fixedRowCount,n=e.rowHeight;if(null==this._topGridHeight)if("function"==typeof n){for(var r=0,o=0;o<t;o++)r+=n({index:o});this._topGridHeight=r}else this._topGridHeight=n*t;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(e){var t=this.props,n=t.columnWidth,r=t.enableFixedColumnScroll,o=t.enableFixedRowScroll,i=t.height,a=t.fixedColumnCount,s=t.fixedRowCount,l=t.rowHeight,u=t.style,c=t.styleBottomLeftGrid,f=t.styleBottomRightGrid,d=t.styleTopLeftGrid,h=t.styleTopRightGrid,p=t.width,m=e||i!==this._lastRenderedHeight||p!==this._lastRenderedWidth,g=e||n!==this._lastRenderedColumnWidth||a!==this._lastRenderedFixedColumnCount,v=e||s!==this._lastRenderedFixedRowCount||l!==this._lastRenderedRowHeight;(e||m||u!==this._lastRenderedStyle)&&(this._containerOuterStyle=Bd({height:i,overflow:"visible",width:p},u)),(e||m||v)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:p},this._containerBottomStyle={height:i-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:p}),(e||c!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=Bd({left:0,overflowX:"hidden",overflowY:r?"auto":"hidden",position:"absolute"},c)),(e||g||f!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=Bd({left:this._getLeftGridWidth(this.props),position:"absolute"},f)),(e||d!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=Bd({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},d)),(e||g||h!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=Bd({left:this._getLeftGridWidth(this.props),overflowX:o?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},h)),this._lastRenderedColumnWidth=n,this._lastRenderedFixedColumnCount=a,this._lastRenderedFixedRowCount=s,this._lastRenderedHeight=i,this._lastRenderedRowHeight=l,this._lastRenderedStyle=u,this._lastRenderedStyleBottomLeftGrid=c,this._lastRenderedStyleBottomRightGrid=f,this._lastRenderedStyleTopLeftGrid=d,this._lastRenderedStyleTopRightGrid=h,this._lastRenderedWidth=p}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(e){var t=e.enableFixedColumnScroll,n=e.fixedColumnCount,o=e.fixedRowCount,i=e.rowCount,a=e.hideBottomLeftGridScrollbar,s=this.state.showVerticalScrollbar;if(!n)return null;var l=s?1:0,u=this._getBottomGridHeight(e),c=this._getLeftGridWidth(e),f=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,d=a?c+f:c,h=r.createElement(rd,hf()({},e,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:n,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:u,onScroll:t?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,i-o)+l,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:d}));return a?r.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:Bd(Bd({},this._bottomLeftGridStyle),{},{height:u,width:c,overflowY:"hidden"})},h):h}},{key:"_renderBottomRightGrid",value:function(e){var t=e.columnCount,n=e.fixedColumnCount,o=e.fixedRowCount,i=e.rowCount,a=e.scrollToColumn,s=e.scrollToRow;return r.createElement(rd,hf()({},e,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,t-n),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(e),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,i-o),rowHeight:this._rowHeightBottomGrid,scrollToColumn:a-n,scrollToRow:s-o,style:this._bottomRightGridStyle,width:this._getRightGridWidth(e)}))}},{key:"_renderTopLeftGrid",value:function(e){var t=e.fixedColumnCount,n=e.fixedRowCount;return t&&n?r.createElement(rd,hf()({},e,{className:this.props.classNameTopLeftGrid,columnCount:t,height:this._getTopGridHeight(e),ref:this._topLeftGridRef,rowCount:n,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)})):null}},{key:"_renderTopRightGrid",value:function(e){var t=e.columnCount,n=e.enableFixedRowScroll,o=e.fixedColumnCount,i=e.fixedRowCount,a=e.scrollLeft,s=e.hideTopRightGridScrollbar,l=this.state,u=l.showHorizontalScrollbar,c=l.scrollbarSize;if(!i)return null;var f=u?1:0,d=this._getTopGridHeight(e),h=this._getRightGridWidth(e),p=u?c:0,m=d,g=this._topRightGridStyle;s&&(m=d+p,g=Bd(Bd({},this._topRightGridStyle),{},{left:0}));var v=r.createElement(rd,hf()({},e,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,t-o)+f,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:m,onScroll:n?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:i,scrollLeft:a,style:g,tabIndex:null,width:h}));return s?r.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:Bd(Bd({},this._topRightGridStyle),{},{height:d,width:h,overflowX:"hidden"})},v):v}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft&&e.scrollLeft>=0?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop&&e.scrollTop>=0?e.scrollTop:t.scrollTop}:null}}])}(r.PureComponent);qc()(Gd,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1}),Gd.propTypes={},Yc(Gd);function Hd(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}var Wd=function(e){function t(e,n){var r;return jc()(this,t),(r=Hd(this,t,[e,n])).state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},r._onScroll=r._onScroll.bind(r),r}return Hc()(t,e),Fc()(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.clientHeight,r=t.clientWidth,o=t.scrollHeight,i=t.scrollLeft,a=t.scrollTop,s=t.scrollWidth;return e({clientHeight:n,clientWidth:r,onScroll:this._onScroll,scrollHeight:o,scrollLeft:i,scrollTop:a,scrollWidth:s})}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.clientWidth,r=e.scrollHeight,o=e.scrollLeft,i=e.scrollTop,a=e.scrollWidth;this.setState({clientHeight:t,clientWidth:n,scrollHeight:r,scrollLeft:o,scrollTop:i,scrollWidth:a})}}])}(r.PureComponent);Wd.propTypes={};var qd={ASC:"ASC",DESC:"DESC"};function $d(e){var t=e.sortDirection,n=mf("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":t===qd.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":t===qd.DESC});return r.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},t===qd.ASC?r.createElement("path",{d:"M7 14l5-5 5 5z"}):r.createElement("path",{d:"M7 10l5 5 5-5z"}),r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function Kd(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}$d.propTypes={};var Xd=function(e){function t(){return jc()(this,t),Kd(this,t,arguments)}return Hc()(t,e),Fc()(t)}(r.Component);function Yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yd(Object(n),!0).forEach((function(t){qc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jd(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}qc()(Xd,"defaultProps",{cellDataGetter:function(e){var t=e.dataKey,n=e.rowData;return"function"==typeof n.get?n.get(t):n[t]},cellRenderer:function(e){var t=e.cellData;return null==t?"":String(t)},defaultSortDirection:qd.ASC,flexGrow:0,flexShrink:1,headerRenderer:function(e){var t=e.dataKey,n=e.label,o=e.sortBy,i=e.sortDirection,a=o===t,s=[r.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:"string"==typeof n?n:null},n)];return a&&s.push(r.createElement($d,{key:"SortIndicator",sortDirection:i})),s},style:{}}),Xd.propTypes={};var Zd=function(e){function t(e){var n;return jc()(this,t),(n=Jd(this,t,[e])).state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(n),n._createRow=n._createRow.bind(n),n._onScroll=n._onScroll.bind(n),n._onSectionRendered=n._onSectionRendered.bind(n),n._setRef=n._setRef.bind(n),n._setGridElementRef=n._setGridElementRef.bind(n),n}return Hc()(t,e),Fc()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"getScrollbarWidth",value:function(){if(this.GridElement){var e=this.GridElement,t=e.clientWidth||0;return(e.offsetWidth||0)-t}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.className,i=t.disableHeader,a=t.gridClassName,s=t.gridStyle,l=t.headerHeight,u=t.headerRowRenderer,c=t.height,f=t.id,d=t.noRowsRenderer,h=t.rowClassName,p=t.rowStyle,m=t.scrollToIndex,g=t.style,v=t.width,y=this.state.scrollbarWidth,b=i?c:c-l,_="function"==typeof h?h({index:-1}):h,w="function"==typeof p?p({index:-1}):p;return this._cachedColumnStyles=[],r.Children.toArray(n).forEach((function(t,n){var r=e._getFlexStyleForColumn(t,t.props.style||Xd.defaultProps.style);e._cachedColumnStyles[n]=Qd({overflow:"hidden"},r)})),r.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":r.Children.toArray(n).length,"aria-rowcount":this.props.rowCount,className:mf("ReactVirtualized__Table",o),id:f,role:"grid",style:g},!i&&u({className:mf("ReactVirtualized__Table__headerRow",_),columns:this._getHeaderColumns(),style:Qd({height:l,overflow:"hidden",paddingRight:y,width:v},w)}),r.createElement(rd,hf()({},this.props,{elementRef:this._setGridElementRef,"aria-readonly":null,autoContainerWidth:!0,className:mf("ReactVirtualized__Table__Grid",a),cellRenderer:this._createRow,columnWidth:v,columnCount:1,height:b,id:void 0,noContentRenderer:d,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:y,scrollToRow:m,style:Qd(Qd({},s),{},{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(e){var t=e.column,n=e.columnIndex,o=e.isScrolling,i=e.parent,a=e.rowData,s=e.rowIndex,l=this.props.onColumnClick,u=t.props,c=u.cellDataGetter,f=u.cellRenderer,d=u.className,h=u.columnData,p=u.dataKey,m=u.id,g=f({cellData:c({columnData:h,dataKey:p,rowData:a}),columnData:h,columnIndex:n,dataKey:p,isScrolling:o,parent:i,rowData:a,rowIndex:s}),v=this._cachedColumnStyles[n],y="string"==typeof g?g:null;return r.createElement("div",{"aria-colindex":n+1,"aria-describedby":m,className:mf("ReactVirtualized__Table__rowColumn",d),key:"Row"+s+"-Col"+n,onClick:function(e){l&&l({columnData:h,dataKey:p,event:e})},role:"gridcell",style:v,title:y},g)}},{key:"_createHeader",value:function(e){var t,n,o,i,a,s=e.column,l=e.index,u=this.props,c=u.headerClassName,f=u.headerStyle,d=u.onHeaderClick,h=u.sort,p=u.sortBy,m=u.sortDirection,g=s.props,v=g.columnData,y=g.dataKey,b=g.defaultSortDirection,_=g.disableSort,w=g.headerRenderer,S=g.id,E=g.label,T=!_&&h,k=mf("ReactVirtualized__Table__headerColumn",c,s.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:T}),x=this._getFlexStyleForColumn(s,Qd(Qd({},f),s.props.headerStyle)),C=w({columnData:v,dataKey:y,disableSort:_,label:E,sortBy:p,sortDirection:m});if(T||d){var P=p!==y?b:m===qd.DESC?qd.ASC:qd.DESC,O=function(e){T&&h({defaultSortDirection:b,event:e,sortBy:y,sortDirection:P}),d&&d({columnData:v,dataKey:y,event:e})};a=s.props["aria-label"]||E||y,i="none",o=0,t=O,n=function(e){"Enter"!==e.key&&" "!==e.key||O(e)}}return p===y&&(i=m===qd.ASC?"ascending":"descending"),r.createElement("div",{"aria-label":a,"aria-sort":i,className:k,id:S,key:"Header-Col"+l,onClick:t,onKeyDown:n,role:"columnheader",style:x,tabIndex:o},C)}},{key:"_createRow",value:function(e){var t=this,n=e.rowIndex,o=e.isScrolling,i=e.key,a=e.parent,s=e.style,l=this.props,u=l.children,c=l.onRowClick,f=l.onRowDoubleClick,d=l.onRowRightClick,h=l.onRowMouseOver,p=l.onRowMouseOut,m=l.rowClassName,g=l.rowGetter,v=l.rowRenderer,y=l.rowStyle,b=this.state.scrollbarWidth,_="function"==typeof m?m({index:n}):m,w="function"==typeof y?y({index:n}):y,S=g({index:n}),E=r.Children.toArray(u).map((function(e,r){return t._createColumn({column:e,columnIndex:r,isScrolling:o,parent:a,rowData:S,rowIndex:n,scrollbarWidth:b})})),T=mf("ReactVirtualized__Table__row",_),k=Qd(Qd({},s),{},{height:this._getRowHeight(n),overflow:"hidden",paddingRight:b},w);return v({className:T,columns:E,index:n,isScrolling:o,key:i,onRowClick:c,onRowDoubleClick:f,onRowRightClick:d,onRowMouseOver:h,onRowMouseOut:p,rowData:S,style:k})}},{key:"_getFlexStyleForColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(e.props.flexGrow," ").concat(e.props.flexShrink," ").concat(e.props.width,"px"),r=Qd(Qd({},t),{},{flex:n,msFlex:n,WebkitFlex:n});return e.props.maxWidth&&(r.maxWidth=e.props.maxWidth),e.props.minWidth&&(r.minWidth=e.props.minWidth),r}},{key:"_getHeaderColumns",value:function(){var e=this,t=this.props,n=t.children;return(t.disableHeader?[]:r.Children.toArray(n)).map((function(t,n){return e._createHeader({column:t,index:n})}))}},{key:"_getRowHeight",value:function(e){var t=this.props.rowHeight;return"function"==typeof t?t({index:e}):t}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.scrollHeight,r=e.scrollTop;(0,this.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:r})}},{key:"_onSectionRendered",value:function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,r=e.rowStartIndex,o=e.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:r,stopIndex:o})}},{key:"_setRef",value:function(e){this.Grid=e}},{key:"_setGridElementRef",value:function(e){this.GridElement=e}},{key:"_setScrollbarWidth",value:function(){var e=this.getScrollbarWidth();this.setState({scrollbarWidth:e})}}])}(r.PureComponent);qc()(Zd,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:od,overscanRowCount:10,rowRenderer:function(e){var t=e.className,n=e.columns,o=e.index,i=e.key,a=e.onRowClick,s=e.onRowDoubleClick,l=e.onRowMouseOut,u=e.onRowMouseOver,c=e.onRowRightClick,f=e.rowData,d=e.style,h={"aria-rowindex":o+1};return(a||s||l||u||c)&&(h["aria-label"]="row",h.tabIndex=0,a&&(h.onClick=function(e){return a({event:e,index:o,rowData:f})}),s&&(h.onDoubleClick=function(e){return s({event:e,index:o,rowData:f})}),l&&(h.onMouseOut=function(e){return l({event:e,index:o,rowData:f})}),u&&(h.onMouseOver=function(e){return u({event:e,index:o,rowData:f})}),c&&(h.onContextMenu=function(e){return c({event:e,index:o,rowData:f})})),r.createElement("div",hf()({},h,{className:t,key:i,role:"row",style:d}),n)},headerRowRenderer:function(e){var t=e.className,n=e.columns,o=e.style;return r.createElement("div",{className:t,role:"row",style:o},n)},rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}}),Zd.propTypes={};var eh=[],th=null,nh=null;function rh(){nh&&(nh=null,document.body&&null!=th&&(document.body.style.pointerEvents=th),th=null)}function oh(){rh(),eh.forEach((function(e){return e.__resetIsScrolling()}))}function ih(e){e.currentTarget===window&&null==th&&document.body&&(th=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function(){nh&&Xf(nh);var e=0;eh.forEach((function(t){e=Math.max(e,t.props.scrollingResetTimeInterval)})),nh=Yf(oh,e)}(),eh.forEach((function(t){t.props.scrollElement===e.currentTarget&&t.__handleWindowScrollEvent()}))}function ah(e,t){eh.some((function(e){return e.props.scrollElement===t}))||t.addEventListener("scroll",ih),eh.push(e)}function sh(e,t){(eh=eh.filter((function(t){return t!==e}))).length||(t.removeEventListener("scroll",ih),nh&&(Xf(nh),rh()))}var lh=function(e){return e===window},uh=function(e){return e.getBoundingClientRect()};function ch(e,t){if(e){if(lh(e)){var n=window,r=n.innerHeight,o=n.innerWidth;return{height:"number"==typeof r?r:0,width:"number"==typeof o?o:0}}return uh(e)}return{height:t.serverHeight,width:t.serverWidth}}function fh(e,t){if(lh(t)&&document.documentElement){var n=document.documentElement,r=uh(e),o=uh(n);return{top:r.top-o.top,left:r.left-o.left}}var i=dh(t),a=uh(e),s=uh(t);return{top:a.top+i.top-s.top,left:a.left+i.left-s.left}}function dh(e){return lh(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}function hh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ph(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hh(Object(n),!0).forEach((function(t){qc()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mh(e,t,n){return t=Vc()(t),Uc()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Vc()(e).constructor):t.apply(e,n))}var gh=function(){return"undefined"!=typeof window?window:void 0},vh=function(e){function t(){var e;jc()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=mh(this,t,[].concat(o)),qc()(e,"_window",gh()),qc()(e,"_isMounted",!1),qc()(e,"_positionFromTop",0),qc()(e,"_positionFromLeft",0),qc()(e,"_detectElementResize",void 0),qc()(e,"_child",void 0),qc()(e,"_windowScrollerRef",r.createRef()),qc()(e,"state",ph(ph({},ch(e.props.scrollElement,e.props)),{},{isScrolling:!1,scrollLeft:0,scrollTop:0})),qc()(e,"_registerChild",(function(t){!t||t instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),e._child=t,e.updatePosition()})),qc()(e,"_onChildScroll",(function(t){var n=t.scrollTop;if(e.state.scrollTop!==n){var r=e.props.scrollElement;r&&("function"==typeof r.scrollTo?r.scrollTo(0,n+e._positionFromTop):r.scrollTop=n+e._positionFromTop)}})),qc()(e,"_registerResizeListener",(function(t){t===window?window.addEventListener("resize",e._onResize,!1):e._detectElementResize.addResizeListener(t,e._onResize)})),qc()(e,"_unregisterResizeListener",(function(t){t===window?window.removeEventListener("resize",e._onResize,!1):t&&e._detectElementResize.removeResizeListener(t,e._onResize)})),qc()(e,"_onResize",(function(){e.updatePosition()})),qc()(e,"__handleWindowScrollEvent",(function(){if(e._isMounted){var t=e.props.onScroll,n=e.props.scrollElement;if(n){var r=dh(n),o=Math.max(0,r.left-e._positionFromLeft),i=Math.max(0,r.top-e._positionFromTop);e.setState({isScrolling:!0,scrollLeft:o,scrollTop:i}),t({scrollLeft:o,scrollTop:i})}}})),qc()(e,"__resetIsScrolling",(function(){e.setState({isScrolling:!1})})),e}return Hc()(t,e),Fc()(t,[{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,t=this.props.onResize,n=this.state,r=n.height,o=n.width,i=this._child||this._windowScrollerRef.current;if(i instanceof Element&&e){var a=fh(i,e);this._positionFromTop=a.top,this._positionFromLeft=a.left}var s=ch(e,this.props);r===s.height&&o===s.width||(this.setState({height:s.height,width:s.width}),t({height:s.height,width:s.width})),!0===this.props.updateScrollTopOnUpdatePosition&&(this.__handleWindowScrollEvent(),this.__resetIsScrolling())}},{key:"componentDidMount",value:function(){var e=this.props.scrollElement;this._detectElementResize=Object(nf.a)(),this.updatePosition(e),e&&(ah(this,e),this._registerResizeListener(e)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.scrollElement,r=e.scrollElement;r!==n&&null!=r&&null!=n&&(this.updatePosition(n),sh(this,r),ah(this,n),this._unregisterResizeListener(r),this._registerResizeListener(n))}},{key:"componentWillUnmount",value:function(){var e=this.props.scrollElement;e&&(sh(this,e),this._unregisterResizeListener(e)),this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.isScrolling,o=t.scrollTop,i=t.scrollLeft,a=t.height,s=t.width;return r.createElement("div",{ref:this._windowScrollerRef},e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:a,isScrolling:n,scrollLeft:i,scrollTop:o,width:s}))}}])}(r.PureComponent);qc()(vh,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:gh(),serverHeight:0,serverWidth:0});n(137);function yh(e){return(yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bh(Object(n),!0).forEach((function(t){wh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=yh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yh(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Eh(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Th=function(e){var t=e.currContext,n=e.currIdx,a=e.onSongClick,s=e.itemList,l=e.songContext,u=e.rowRenderer,c=e.isSorted,f=e.scrollContainerRef,d=e.listRef,h=Object(r.useRef)(),p=Object(_.f)(),m=Sh(Object(r.useState)(0),2),g=m[0],v=m[1],y=Sh(Object(r.useState)(20),2),b=y[0],w=y[1],S=Object(r.useRef)();Object(r.useEffect)((function(){if(f.current){var e=getComputedStyle(f.current).getPropertyValue("--rowHeight");e&&w(parseInt(e,10))}}),[f]),Object(r.useEffect)((function(){S.current=function(){if(f.current){var e=_h(_h({},p.location.state),{},{selectedRow:g,scrollTop:Math.round(f.current.scrollTop)});p.replace(p.location.pathname+p.location.search,e)}}}),[g,f,p]),Object(r.useEffect)((function(){var e=p.block((function(e,t){S.current&&"PUSH"===t&&S.current()}));return function(){return e()}}),[p,S]);var E=Object(r.useCallback)((function(e){var t,n=s[e],r=null!==(t=n.idx)&&void 0!==t?t:e;return"directory"===n.type?function(e){e.preventDefault(),n.isBackLink?p.goBack():p.push(n.href,{prevPathname:window.location.pathname})}:a(null,l,r)}),[p,s,l,a]),T=Object(r.useCallback)((function(e){var t=e.scrollToRow;v(t)}),[v]);return Object(r.useEffect)((function(){var e,t,n=(null===(e=p.location.state)||void 0===e?void 0:e.scrollTop)||0,r=(null===(t=p.location.state)||void 0===t?void 0:t.selectedRow)||0;v(r),d&&Object(i.findDOMNode)(d.current).focus({preventScroll:!0}),setTimeout((function(){f.current.scrollTo(0,n)}),0)}),[p.location.pathname]),o.a.createElement("div",{onKeyDown:function(e){if("INPUT"!==e.target.tagName)if(e.repeat||"Enter"!==e.key&&"Return"!==e.key){if("Backspace"===e.key)p.goBack();else if("Home"===e.key)v(0);else if("End"===e.key)v(s.length-1);else if("PageUp"===e.key)e.preventDefault(),v(Math.max(0,g-10));else if("PageDown"===e.key)e.preventDefault(),v(Math.min(s.length-1,g+10));else if(c&&!1===e.metaKey&&!1===e.ctrlKey&&!1===e.altKey&&"abcdefghijklmnopqrstuvwxyz0123456789".includes(e.key)){e.preventDefault();for(var t,n=e.key.toLowerCase(),r=0,o=s.length-1;r<=o;){t=Math.floor((r+o)/2);var i=s[t].name.toLowerCase();if(i.startsWith(n))break;i.toLowerCase()<n?r=t+1:o=t-1}for(;t>0&&s[t-1].name.toLowerCase()[0]===n;)t--;v(t)}}else{if("BUTTON"===e.target.tagName)return;var a=d.current.props.scrollToIndex;d.current.scrollToRow(a),E(a)(e)}}},o.a.createElement(vh,{scrollElement:f.current,onScroll:function(e){var t=e.scrollTop;d.current.scrollToPosition(t),Object(i.findDOMNode)(d.current).focus({preventScroll:!0})}},(function(r){var i=r.height,a=r.registerChild,l=r.onChildScroll;r.scrollTop;return o.a.createElement(o.a.Fragment,null,e.children,o.a.createElement("div",{ref:a},o.a.createElement(tf,{ref:h,columnCount:1,rowCount:s.length,mode:"cells",isControlled:!0,scrollToRow:g,onScrollToChange:T},(function(e){var r=e.onSectionRendered,a=e.scrollToRow;return o.a.createElement(cd,{ref:d,onRowsRendered:function(e){var t=e.startIndex,n=e.stopIndex;r({rowStartIndex:t,rowStopIndex:n})},scrollToIndex:a,scrollToAlignment:"auto",autoHeight:!0,height:i||0,width:500,onScroll:l,containerProps:{autoFocus:!0},containerStyle:{width:"100%",maxWidth:"100%"},style:{width:"100%"},rowCount:s.length,rowHeight:b,rowRenderer:function(e){var r=e.index,i=e.key,l=e.style,c=s[r],f=t&&t[n]===c.href,d=r===a,h=["BrowseList-row"];f&&h.push("Song-now-playing"),d&&h.push("BrowseList-row-selected"),r%2==0?h.push("even"):h.push("odd");var p=E(r);return o.a.createElement("div",{key:i,style:l,className:h.join(" "),onClick:function(e){var t;v(r),e.preventDefault();for(var n=e.target.parentElement;(null===(o=n)||void 0===o?void 0:o.tabIndex)<0;){var o;n=n.parentElement}null===(t=n)||void 0===t||t.focus({preventScroll:!0})},onDoubleClick:p},u({item:c,onPlay:p}))}})}))))})))};var kh=n(30),xh=n.n(kh),Ch=n(47),Ph=n.n(Ch);function Oh(e){return(Oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ih(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rh(r.key),r)}}function Rh(e){var t=function(e,t){if("object"!=Oh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oh(t)?t:t+""}function Ah(e,t,n){return t=Mh(t),function(e,t){if(t&&("object"==Oh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Mh(e).constructor):t.apply(e,n))}function Mh(e){return(Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nh(e,t){return(Nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Dh=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(n=Ah(this,t,[e])),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nh(e,t)}(t,e),function(e,t,n){return t&&Ih(e.prototype,t),n&&Ih(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){this.navigate()}},{key:"componentDidUpdate",value:function(e,t){this.navigate()}},{key:"handleShufflePlay",value:function(){this.props.handleShufflePlay(this.props.browsePath)}},{key:"navigate",value:function(){var e=this.props,t=e.browsePath,n=e.listing,r=e.fetchDirectory;n||r(t)}},{key:"render",value:function(){var e,t=this.props,n=t.listing,r=t.browsePath,i=t.playContext,a=t.history,s=b.a.parse(window.location.search.slice(1));delete s.q;var l=b.a.stringify(s),u=Ph()(null===(e=a.location.state)||void 0===e?void 0:e.prevPathname,"/"),c=Ph()(window.location.pathname,"/"),f=u===c.slice(0,c.lastIndexOf("/"));return o.a.createElement(Th,{scrollContainerRef:this.props.scrollContainerRef,currContext:this.props.currContext,currIdx:this.props.currIdx,onSongClick:this.props.onSongClick,itemList:n||[],songContext:i,rowRenderer:function(e){var t=e.item,n=e.onPlay;if(t.isBackLink=".."===t.name&&f,"directory"===t.type)return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"BrowseList-colName"},o.a.createElement(ae,{to:t.href,search:l,isBackLink:t.isBackLink},t.name)),o.a.createElement("div",{className:"BrowseList-colDir"},"<DIR>"),o.a.createElement("div",{className:"BrowseList-colCount",title:"Contains ".concat(t.numChildren," direct child items")},t.numChildren),o.a.createElement("div",{className:"BrowseList-colMtime"},t.mtime),o.a.createElement("div",{className:"BrowseList-colSize",title:"Directory size is ".concat(t.size," bytes (recursive)")},null!=t.size&&xh()(t.size,{unitSeparator:" "})));var r=ce(ie.CATALOG_PREFIX,t.path);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"BrowseList-colName"},o.a.createElement(Rc,{href:r}),o.a.createElement("a",{onClick:n,href:r,tabIndex:"-1"},t.name)),o.a.createElement("div",{className:"BrowseList-colMtime"},t.mtime),o.a.createElement("div",{className:"BrowseList-colSize"},xh()(t.size,{unitSeparator:" "})))},listRef:this.props.listRef,isSorted:!0},o.a.createElement("h3",{className:"Browse-topRow"},"/",r," ",o.a.createElement("button",{className:"box-button",title:"Shuffle this directory (and all subdirectories)",onClick:this.handleShufflePlay},"Shuffle Play")))}}])}(o.a.PureComponent);function jh(e){return(jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zh(r.key),r)}}function zh(e){var t=function(e,t){if("object"!=jh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jh(t)?t:t+""}function Uh(e,t,n){return t=Bh(t),function(e,t){if(t&&("object"==jh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Bh(e).constructor):t.apply(e,n))}function Bh(e){return(Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vh(e,t){return(Vh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Gh=n(7).FORMATS.filter((function(e){return"miniusf"!==e})).map((function(e){return".".concat(e)})),Hh=Math.floor(Gh.length/2)-1,Wh="Formats: ".concat(Gh.slice(0,Hh).join(" ")),qh=Gh.slice(Hh).join(" "),$h=function(e){function t(){return Lh(this,t),Uh(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vh(e,t)}(t,e),function(e,t,n){return t&&Fh(e.prototype,t),n&&Fh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){return o.a.createElement("div",{hidden:!this.props.dropzoneProps.isDragActive,className:"message-box-outer"},o.a.createElement("div",{hidden:!this.props.dropzoneProps.isDragActive,className:"message-box drop-message"},o.a.createElement("div",{className:"message-box-inner"},"Drop files to play!",o.a.createElement("br",null),Wh,o.a.createElement("br",null),qh,o.a.createElement("br",null),o.a.createElement("br",null),"Drop a SoundFont (.sf2) to customize MIDI playback.")))}}])}(o.a.PureComponent),Kh=function(e){var t=e.item,n=e.onPlay,r=t.href,i=t.mtime,a=new Date(1e3*i).toISOString().split("T")[0],s=decodeURIComponent(r.split("/").pop());return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"BrowseList-colName"},o.a.createElement(Rc,{href:r}),o.a.createElement("a",{onClick:n,href:r},s)),o.a.createElement("div",{className:"BrowseList-colMtime"},a))},Xh=Object(r.memo)(Yh);function Yh(e){var t=e.scrollContainerRef,n=e.currContext,i=e.currIdx,a=e.onSongClick,s=e.handleShufflePlay,l=e.listRef,u=Object(r.useContext)(Oc),c=u.user,f=u.loadingUser,d=u.faves,h=u.favesContext,p=u.handleLogin,m=Object(r.useCallback)((function(){s("favorites")}),[s]);return f?o.a.createElement("p",null,"Loading user data..."):c?o.a.createElement(Th,{scrollContainerRef:t,currContext:n,currIdx:i,onSongClick:a,listRef:l,itemList:d,songContext:h,rowRenderer:Kh},o.a.createElement("h3",{className:"Browse-topRow"},"Favorite Songs (",d.length,")",d.length>1&&o.a.createElement("button",{className:"box-button",title:"Shuffle all ".concat(d.length," favorites"),onClick:m},"Shuffle Play"))):d.length>0&&t.current?o.a.createElement("div",null,"You don't have any favorites yet.",o.a.createElement("br",null),"Click the  heart icon next to any song to save a favorite."):o.a.createElement("span",null,"You must ",o.a.createElement("a",{href:"#",onClick:p},"login or signup")," to save favorites.")}function Qh(e){return(Qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jh(Object(n),!0).forEach((function(t){ep(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ep(e,t,n){return(t=np(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,np(r.key),r)}}function np(e){var t=function(e,t){if("object"!=Qh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qh(t)?t:t+""}function rp(e,t,n){return t=op(t),function(e,t){if(t&&("object"==Qh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],op(e).constructor):t.apply(e,n))}function op(e){return(op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ip(e,t){return(ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ap={};var sp=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(n=rp(this,t,[e])),n.debouncedDoSearch=Se()(n.doSearch,150),n.textInput=o.a.createRef(),n.state={totalSongs:0,query:null,searching:!1,results:[],resultsContext:[],resultsCount:0},fetch("".concat(ie.API_BASE,"/total")).then((function(e){return e.json()})).then((function(e){return n.setState({totalSongs:e.total})})).catch((function(e){return n.setState({totalSongs:99999})})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ip(e,t)}(t,e),function(e,t,n){return t&&tp(e.prototype,t),n&&tp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){var e=b.a.parse(window.location.search.substr(1)).q;e&&(this.setState({query:e}),this.doSearch(e))}},{key:"onChange",value:function(e){this.onSearchInputChange(e.target.value)}},{key:"onSearchInputChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setState({query:e});var n={q:e?e.trim():void 0},r=Zh(Zh({},b.a.parse(window.location.search.substr(1))),n);Object.keys(r).forEach((function(e){return void 0===r[e]&&delete r[e]}));var o="?"+b.a.stringify(r).replace(/%20/g,"+");this.props.history.replace(o),e.length?t?this.doSearch(e):this.debouncedDoSearch(e):this.showEmptyState()}},{key:"doSearch",value:function(e){var t=this;if(ap[e])this.setState(Zh({searching:!0},ap[e]));else{var n=encodeURIComponent(e),r="".concat(ie.API_BASE,"/search?query=").concat(n,"&limit=").concat(100);this.searchRequest&&this.searchRequest.abort(),this.searchRequest=ge(new XMLHttpRequest),this.searchRequest.open("GET",r),this.searchRequest.send().then((function(e){return t.searchRequest=null,JSON.parse(e.responseText)})).then((function(n){var r=n.items,o=n.total,i=r.map((function(e,t){var n=e.file;return{idx:t,path:n,name:decodeURIComponent(n.substring(n.lastIndexOf("/")+1)),href:ce(ie.CATALOG_PREFIX,n.replace("%","%25").replace("#","%23")),type:"file"}})),a=i.map((function(e){return e.href})),s=[],l=null;i.forEach((function(e){var t=e.path,n=t.substring(0,t.lastIndexOf("/")+1);n!==l&&(l=n,s.push({type:"directory",href:ce("/browse",n),name:decodeURIComponent(n)})),s.push(e)})),ap[e]={resultsCount:o,resultsContext:a,results:s},t.setState(Zh({searching:!0},ap[e]))}))}}},{key:"handleClear",value:function(){var e=b.a.parse(window.location.search.substr(1));delete e.q;var t=b.a.stringify(e);window.history.replaceState(null,"",t?"?".concat(t):"./"),this.setState({query:null,searching:!1,results:[],resultsContext:[],resultsCount:0}),this.textInput.current.focus()}},{key:"showEmptyState",value:function(){this.setState({searching:!1,results:[]})}},{key:"renderResultItem",value:function(e){var t=e.item,n=e.onPlay;return"directory"===t.type?o.a.createElement(ae,{dim:!0,to:t.href},t.name):o.a.createElement(o.a.Fragment,null,o.a.createElement(Rc,{href:t.href}),o.a.createElement("a",{onClick:n,href:t.href,tabIndex:"-1"},t.name))}},{key:"render",value:function(){var e=this.state.totalSongs?"".concat(this.state.totalSongs," tunes"):"Loading catalog...",t=this.props,n=t.onSongClick,i=t.currContext,a=t.currIdx,s=t.scrollContainerRef,l=t.listRef;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Th,{currContext:i,currIdx:a,onSongClick:n,itemList:this.state.results,songContext:this.state.resultsContext,rowRenderer:this.renderResultItem,isSorted:!1,scrollContainerRef:s,listRef:l},o.a.createElement("h3",{className:"Browse-topRow"},o.a.createElement("label",{className:"Search-label"},"Search:"," ",o.a.createElement("input",{type:"text",placeholder:e,spellCheck:"false",autoComplete:"off",autoCorrect:"false",autoCapitalize:"none",autoFocus:!0,ref:this.textInput,className:"Search-input",value:this.state.totalSongs&&this.state.query||"",onChange:this.onChange}),this.state.searching&&o.a.createElement(r.Fragment,null,o.a.createElement("button",{className:"Search-clearButton",onClick:this.handleClear})," ",o.a.createElement("span",{className:"Search-resultsLabel"},this.state.resultsCount," result",1!==this.state.resultsCount&&"s"))))),this.state.searching||this.props.children)}}])}(r.PureComponent),lp=n(71),up=n.n(lp),cp=n(72);function fp(e){return(fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vp(r.key),r)}}function hp(e,t,n){return t=pp(t),function(e,t){if(t&&("object"==fp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],pp(e).constructor):t.apply(e,n))}function pp(e){return(pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mp(e,t){return(mp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gp(e,t,n){return(t=vp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vp(e){var t=function(e,t){if("object"!=fp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fp(t)?t:t+""}var yp=["Linear FFT","Log FFT","Constant Q"],bp=[{label:"None",description:"No attenuation"},{label:"A-Weighting",description:"Darkens low and high frequencies to approximate sensitivity of human hearing."}],_p=[512,1024,2048,4096,8192],wp=["512","1K","2K","4K","8K","16K"],Sp=[1,2,4],Ep=["Lo","Med","Hi"],Tp=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gp(n=hp(this,t,[e]),"handleModeClick",(function(e){var t=parseInt(e.target.value,10);n.setState({vizMode:t}),n.spectrogram.setMode(t)})),gp(n,"handleWeightingModeClick",(function(e){var t=parseInt(e.target.value,10);n.setState({weightingMode:t}),n.spectrogram.setWeighting(t)})),gp(n,"handleFFTSizeClick",(function(e){var t=parseInt(e.target.value,10);n.setState({fftSize:t}),n.spectrogram.setFFTSize(t)})),gp(n,"handleSpeedClick",(function(e){var t=parseInt(e.target.value,10);n.setState({speed:t}),n.spectrogram.setSpeed(t)})),gp(n,"handleToggleVisualizer",(function(e){var t="true"===e.target.value;n.setState({enabled:t})})),n.state={vizMode:2,weightingMode:1,fftSize:2048,speed:2,enabled:!1},n.freqCanvasRef=o.a.createRef(),n.specCanvasRef=o.a.createRef(),n.pianoKeysRef=o.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mp(e,t)}(t,e),function(e,t,n){return t&&dp(e.prototype,t),n&&dp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){this.spectrogram=new cp.a(this.props.chipCore,this.props.audioCtx,this.props.sourceNode,this.freqCanvasRef.current,this.specCanvasRef.current,this.pianoKeysRef.current),this.spectrogram.setMode(this.state.vizMode),this.spectrogram.setWeighting(this.state.weightingMode),this.spectrogram.setSpeed(this.state.speed)}},{key:"componentDidUpdate",value:function(e){this.spectrogram.setPaused(!this.state.enabled||this.props.paused)}},{key:"render",value:function(){var e=this,t={display:this.state.enabled?"block":"none",width:448,boxSizing:"border-box"};return o.a.createElement("div",{className:"Visualizer"},o.a.createElement("h3",{className:"Visualizer-toggle"},"Visualizer"," ",o.a.createElement("input",{onClick:this.handleToggleVisualizer,id:"vis-on",type:"radio",value:!0,defaultChecked:!0===this.state.enabled,name:"visualizer-enabled"}),o.a.createElement("label",{htmlFor:"vis-on",className:"inline"},"On"),o.a.createElement("input",{onClick:this.handleToggleVisualizer,id:"vis-off",type:"radio",value:!1,defaultChecked:!1===this.state.enabled,name:"visualizer-enabled"}),o.a.createElement("label",{htmlFor:"vis-off",className:"inline"},"Off")),o.a.createElement("div",{className:"Visualizer-options",style:t},o.a.createElement("div",null,o.a.createElement("span",{className:"VisualizerParams-label"},"Mode:"),yp.map((function(t,n){return o.a.createElement("label",{key:"m_"+n,className:"inline"},o.a.createElement("input",{onClick:e.handleModeClick,type:"radio",name:"spectrogram-mode",defaultChecked:e.state.vizMode===n,value:n}),t)}))),2===this.state.vizMode?o.a.createElement("div",null,o.a.createElement("span",{className:"VisualizerParams-label"},"Weighting:"),bp.map((function(t,n){return o.a.createElement(r.Fragment,{key:"w_"+n},o.a.createElement("input",{onClick:e.handleWeightingModeClick,type:"radio",id:"w_"+n,name:"weighting-mode",defaultChecked:e.state.weightingMode===n,value:n}),o.a.createElement("label",{htmlFor:"w_"+n,title:t.description,className:"inline"},t.label))}))):o.a.createElement("div",null,o.a.createElement("span",{className:"VisualizerParams-label"},"FFT Size:"),_p.map((function(t,n){return o.a.createElement(r.Fragment,{key:"f_"+n},o.a.createElement("input",{onClick:e.handleFFTSizeClick,type:"radio",id:"f_"+n,name:"fft-size",defaultChecked:e.state.fftSize===t,value:t}),o.a.createElement("label",{htmlFor:"f_"+n,className:"inline"},wp[n]))}))),o.a.createElement("div",{title:"Vertical scrolling speed (pixels per frame)"},o.a.createElement("span",{className:"VisualizerParams-label"},"Speed:"),Sp.map((function(t,n){return o.a.createElement(r.Fragment,{key:"s_"+n},o.a.createElement("input",{onClick:e.handleSpeedClick,type:"radio",id:"s_"+n,name:"speed",defaultChecked:e.state.speed===t,value:t}),o.a.createElement("label",{htmlFor:"s_"+n,className:"inline"},Ep[n]))})))),o.a.createElement("canvas",{style:t,className:"Visualizer-analyzer",width:448,height:60,ref:this.freqCanvasRef}),o.a.createElement("canvas",{style:t,className:"Visualizer-spectrogram",width:448,height:800,ref:this.specCanvasRef}),o.a.createElement("img",{src:up.a,className:"Visualizer-overlay",ref:this.pianoKeysRef,alt:"Piano keys",style:{display:this.state.enabled&&2===this.state.vizMode?"block":"none",width:448}}))}}])}(r.PureComponent);function kp(e){return function(e){if(Array.isArray(e))return Pp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||Cp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cp(e,t){if(e){if("string"==typeof e)return Pp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pp(e,t):void 0}}function Pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Op=Object(r.createContext)(),Ip=function(e){var t=e.children,n=xp(Object(r.useState)([]),2),i=n[0],a=n[1],s=Object(r.useRef)(),l=Object(r.useCallback)((function(){a(i.slice(1))}),[i]);return Object(r.useEffect)((function(){return i.length>0&&(clearTimeout(s.current),s.current=setTimeout((function(){return l()}),6e3)),function(){return clearTimeout(s.current)}}),[i,l]),o.a.createElement(Op.Provider,{value:{enqueueToast:function(e,t){for(;i.length>=5;)i.splice(0,1);a([].concat(kp(i),[{message:e,level:t}]))},clearCurrentToast:l,currentToast:i[0],toastCount:i.length}},t)},Rp={INFO:{label:"Info",className:"toast-info"},ERROR:{label:"Error",className:"toast-error"}};var Ap=function(){var e,t,n=Object(r.useContext)(Op),i=n.clearCurrentToast,a=n.currentToast,s=n.toastCount,l=(e=a,t=Object(r.useRef)(),Object(r.useEffect)((function(){t.current=e})),t.current),u=a||l||{},c=u.message,f=u.level,d=void 0===f?Rp.INFO:f,h=["toast-box",null==d?void 0:d.className].join(" "),p=s>1?" (".concat(s,")"):"";return o.a.createElement("div",{hidden:!a,className:"toast-box-outer"},o.a.createElement("div",{className:h},o.a.createElement("div",{className:"message"},null==d?void 0:d.label,": ",c),o.a.createElement("button",{className:"box-button message-box-button",onClick:i},"Dismiss",p)))},Mp=Object(r.memo)(Ap);function Np(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var jp=Object(r.memo)(Lp);function Lp(e){var t=e.infoTexts,n=void 0===t?[]:t,i=e.showInfo,a=e.toggleInfo,s=Np(Object(r.useState)(0),2),l=s[0],u=s[1],c=(n[l]||"").trim(),f=Math.min(40,c.split("\n").length+6);Object(r.useEffect)((function(){u(0)}),[n]);var d=Object(r.useCallback)((function(){u(Math.max(0,l-1))}),[l]),h=Object(r.useCallback)((function(){u(Math.min(n.length-1,l+1))}),[n,l]);return o.a.createElement("div",{hidden:!i,className:"message-box-outer"},o.a.createElement("div",{hidden:!i,className:"message-box",style:{height:i?"calc(".concat(f," * var(--charH))"):0}},o.a.createElement("div",{className:"message-box-inner info-text"},c),o.a.createElement("div",{className:"message-box-footer"},o.a.createElement("button",{className:"box-button message-box-button",onClick:a},"Close"),n.length>1&&o.a.createElement("span",null,o.a.createElement("button",{disabled:0===l,className:"box-button message-box-button",onClick:d},o.a.createElement("span",{className:"inline-icon icon-back"}))," ",o.a.createElement("button",{disabled:l===n.length-1,className:"box-button message-box-button",onClick:h},o.a.createElement("span",{className:"inline-icon icon-forward"}))))))}function Fp(e){return(Fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zp(e){return function(e){if(Array.isArray(e))return Up(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Up(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Up(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Up(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vp(r.key),r)}}function Vp(e){var t=function(e,t){if("object"!=Fp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fp(t)?t:t+""}function Gp(e,t,n){return t=Hp(t),function(e,t){if(t&&("object"==Fp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Hp(e).constructor):t.apply(e,n))}function Hp(e){return(Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wp(e,t){return(Wp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var qp=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(n=Gp(this,t,[e])),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wp(e,t)}(t,e),function(e,t,n){return t&&Bp(e.prototype,t),n&&Bp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"handleVoiceToggle",value:function(e,t){var n=this.props.voiceMask;(e=e.nativeEvent||{}).altKey||e.shiftKey||e.metaKey?n.every((function(e,n){return n===t===e}))?n.fill(!0):(n.fill(!1),n[t]=!0):n[t]=!n[t],this.props.handleSetVoiceMask(n)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"PlayerParams"},o.a.createElement("span",{className:"PlayerParams-param PlayerParams-group"},o.a.createElement("label",{htmlFor:"tempo",className:"PlayerParams-label"},"Speed:"," "),o.a.createElement("input",{id:"tempo",disabled:this.props.ejected,type:"range",value:this.props.tempo,min:"0.3",max:"2.0",step:"0.05",onInput:this.props.handleTempoChange,onChange:this.props.handleTempoChange})," ",this.props.tempo.toFixed(2)),this.props.voiceGroups.length>0?this.props.voiceGroups.map((function(t,n){return o.a.createElement("span",{className:"PlayerParams-param PlayerParams-group",key:t.name},o.a.createElement("label",{className:"PlayerParams-group-title",title:"Sound chip"},t.icon&&o.a.createElement("span",{className:"inline-icon dim-icon icon-chip"}),t.name,":"),o.a.createElement("div",{className:"PlayerParams-voiceList"},t.voices.map((function(t,r){return o.a.createElement("div",{key:t.idx,className:"App-voice-label"},o.a.createElement("input",{title:"Alt+click to solo. Alt+click again to unmute all.",type:"checkbox",id:"v_"+n+r,onChange:function(n){return e.handleVoiceToggle(n,t.idx)},checked:e.props.voiceMask[t.idx]}),o.a.createElement("label",{htmlFor:"v_"+n+r},t.name))}))))})):this.props.numVoices>1&&o.a.createElement("span",{className:"PlayerParams-param PlayerParams-group"},o.a.createElement("label",{className:"PlayerParams-group-title"},"Voices:"),o.a.createElement("div",{className:"PlayerParams-voiceList"},zp(Array(this.props.numVoices)).map((function(t,n){return o.a.createElement("div",{key:n,className:"App-voice-label"},o.a.createElement("input",{title:"Alt+click to solo. Alt+click again to unmute all.",type:"checkbox",id:"v_"+n,onChange:function(t){return e.handleVoiceToggle(t,n)},checked:e.props.voiceMask[n]}),o.a.createElement("label",{htmlFor:"v_"+n},e.props.voiceNames[n]))})))),this.props.paramDefs.map((function(t){var n=e.props.getParameter(t.id),r=t.dependsOn;if(r&&e.props.getParameter(r.param)!==r.value)return null;switch(t.type){case"enum":return o.a.createElement("span",{key:t.id,className:"PlayerParams-param"},o.a.createElement("label",{htmlFor:t.id,title:t.hint,className:"PlayerParams-label"},t.label,":"," "),o.a.createElement("select",{id:t.id,onChange:function(n){e.props.setParameter(t.id,n.target.value),e.forceUpdate()},value:n},t.options.map((function(e){return o.a.createElement("optgroup",{key:e.label,label:e.label},e.items.map((function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.label)})))}))));case"number":return o.a.createElement("span",{key:t.id,className:"PlayerParams-param"},o.a.createElement("label",{htmlFor:t.id,title:t.hint,className:"PlayerParams-label"},t.label,":"," "),o.a.createElement("input",{id:t.id,type:"range",title:t.hint,min:t.min,max:t.max,step:t.step,onChange:function(n){e.props.setParameter(t.id,n.target.value),e.forceUpdate()},value:n})," ",void 0!==n&&t.step>=1?n:n.toFixed(2));case"toggle":return o.a.createElement("span",{key:t.id,className:"PlayerParams-param"},o.a.createElement("input",{type:"checkbox",id:t.id,onChange:function(n){e.props.setParameter(t.id,n.target.checked),e.forceUpdate()},checked:n}),o.a.createElement("label",{htmlFor:t.id,title:t.hint},t.label));case"button":return o.a.createElement("button",{key:t.id,title:t.hint,className:"box-button",onClick:function(){e.props.setParameter(t.id,!0)}},t.label);default:return null}})))}}])}(r.PureComponent),$p=Object(r.memo)(Kp);function Kp(e){var t,n=e.ejected,r=e.tempo,i=e.currentSongNumVoices,a=e.voiceMask,s=e.voiceNames,l=e.voiceGroups,u=e.handleSetVoiceMask,c=e.handleTempoChange,f=e.sequencer;return o.a.createElement("div",{className:"Settings"},o.a.createElement("h3",null,(null==f||null===(t=f.getPlayer())||void 0===t?void 0:t.name)||"Player"," Settings"),null!=f&&f.getPlayer()?o.a.createElement(qp,{ejected:n,tempo:r,numVoices:i,voiceMask:a,voiceNames:s,voiceGroups:l,handleTempoChange:c,handleSetVoiceMask:u,getParameter:f.getPlayer().getParameter,setParameter:f.getPlayer().setParameter,paramDefs:f.getPlayer().getParamDefs()}):o.a.createElement("div",null,"(No active player)"))}var Xp=ie.FORMATS.filter((function(e){return"miniusf"!==e})).map((function(e){return".".concat(e)})),Yp=Math.floor(Xp.length/2),Qp=Xp.slice(0,Yp).join(" "),Jp=Xp.slice(Yp).join(" "),Zp=Object(r.memo)(em);function em(e){var t=e.listing,n=e.currContext,i=e.playContext,a=e.currIdx,s=e.onSongClick,l=e.onDelete,u=e.loading,c=Object(r.useCallback)((function(e){var t=e.currentTarget.dataset.href;(e.shiftKey||window.confirm("Are you sure you want to remove this file from browser storage?\n(Shift-click to remove without confirmation.)"))&&l(t)}),[l]);return o.a.createElement("div",null,o.a.createElement("h3",{className:"Browse-topRow"},"Local Files (",t.length,")"),u?"Loading local files...":0===t.length?o.a.createElement("div",null,o.a.createElement("p",null,"You don't have any Local Files yet."),o.a.createElement("p",null,"Files dropped here will be persisted in your local browser.",o.a.createElement("br",null),"(Keep a copy - your browser might lose this data.)",o.a.createElement("br",null),"Local Files can't be added to Favorites."),o.a.createElement("p",null,"Supported formats:"),o.a.createElement("p",null,Qp,o.a.createElement("br",null),Jp,o.a.createElement("br",null))):o.a.createElement("div",null,t.map((function(e,t){var r=e.path,l=decodeURIComponent(r.split("/").pop()),u=n===i&&a===t;return o.a.createElement("div",{key:l,className:u?"Song-now-playing BrowseList-row":"BrowseList-row"},o.a.createElement("button",{className:"Trash-button",title:"Delete",onClick:c,"data-href":r},o.a.createElement("span",{className:"inline-icon icon-trash"})),o.a.createElement("div",{className:"BrowseList-colName"},o.a.createElement("a",{onClick:s(r,i,t),href:r},l)),o.a.createElement("div",{className:"BrowseList-colMtime"},e.mtime),o.a.createElement("div",{className:"BrowseList-colSize"},xh()(e.size,{unitSeparator:" "})))}))))}function tm(){return o.a.createElement("div",{className:"Announcements",style:{maxWidth:544}},o.a.createElement("p",{style:{font:"var(--fontPxPlusChipPlayer)",whiteSpace:"pre-wrap"}},"\n     W h a t ' s    N e w      \n\n"),o.a.createElement("h3",null,"2025-02-24"),o.a.createElement("p",null,"Added ",o.a.createElement("a",{href:"/browse/Battle%20of%20the%20Bits"},"Battle of the Bits")," to the catalog. (2356 tunes so far)",o.a.createElement("br",null),"Added ",o.a.createElement("a",{href:"/browse/Nintendo%20Game%20Boy"},"Nintendo Game Boy")," (.gbs) to the catalog. (1559 + 39 homebrew)",o.a.createElement("br",null)),o.a.createElement("h3",null,"2025-02-16"),o.a.createElement("p",null,"Experimental: themes. Try out ",o.a.createElement("a",{href:"?theme=winamp"},"Winamp theme")," or switch back to ",o.a.createElement("a",{href:"?theme=msdos"},"MSDOS"),"."),o.a.createElement("h3",null,"2025-01-25"),o.a.createElement("p",null,"Updated game-music-emu from a 2018 fork to the latest upstream (0.6.4). Among other things, this adds support for glitched SPC files (i.e. from ",o.a.createElement("a",{href:"/browse/Contemporary/SNES%20Romhacks%20(SPC)"},"SMWCentral romhacks"),").",o.a.createElement("br",null),o.a.createElement("br",null),"New for Game Music Emu player settings:",o.a.createElement("br",null),"- stereoWidth (now built into game-music-emu)",o.a.createElement("br",null),"- disableEcho (for SNES)"),o.a.createElement("h3",null,"2025-01-20"),o.a.createElement("p",null,'Added song list keyboard interaction. Use arrow keys to navigate, enter to play, and double click to play. Upgraded Favorites tab to a virtualized list. And added Winamp-style "list view" affordances. This includes:',o.a.createElement("br",null),o.a.createElement("br",null),'- click to select a row (the "cursor")',o.a.createElement("br",null),"- press arrow keys to move cursor up/down",o.a.createElement("br",null),"- double click to play/navigate cursor",o.a.createElement("br",null),"- press enter to play/navigate cursor",o.a.createElement("br",null),"- restore scroll position and cursor when navigating back",o.a.createElement("br",null),"- backspace to navigate back",o.a.createElement("br",null),"- press a letter to jump to the first song starting with that letter",o.a.createElement("br",null)),o.a.createElement("h3",null,"2024-07-16"),o.a.createElement("p",null,"Migrate all players to load file data from the Emscripten heap (instead of stack). This fixes playback for the largest files in the catalog, e.g. ",o.a.createElement("a",{href:"?play=Contemporary/AM4N/crystal_guardian.vgm"},"VGM files north of 5 MB"),"."),o.a.createElement("h3",null,"2024-06-25"),o.a.createElement("p",null,"Improved voice naming for LibVGM and MDX players. Now grouped by sound chip."))}function nm(e){return(nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rm(){return(rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function om(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function im(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?om(Object(n),!0).forEach((function(t){vm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):om(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function am(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=lm(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function sm(e){return function(e){if(Array.isArray(e))return um(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lm(e,t){if(e){if("string"==typeof e)return um(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?um(e,t):void 0}}function um(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function cm(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */cm=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:k(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",h="executing",p="completed",m={};function g(){}function v(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,a)&&(b=w);var S=y.prototype=g.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==nm(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function k(t,n,r){var o=d;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=x(s,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?p:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(nm(t)+" is not iterable")}return v.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=u(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),u(S,l,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function fm(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function dm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fm(i,r,o,a,s,"next",e)}function s(e){fm(i,r,o,a,s,"throw",e)}a(void 0)}))}}function hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ym(r.key),r)}}function pm(e,t,n){return t=mm(t),function(e,t){if(t&&("object"==nm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],mm(e).constructor):t.apply(e,n))}function mm(e){return(mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gm(e,t){return(gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vm(e,t,n){return(t=ym(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ym(e){var t=function(e,t){if("object"!=nm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nm(t)?t:t+""}var bm=document.location.origin,_m=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vm(n=pm(this,t,[e]),"onDrop",(function(e){var t=e.map((function(t){return new Promise((function(r,o){var i=new FileReader;i.onerror=function(e){return o(e.target.error)},i.onload=dm(cm().mark((function a(){var s,l,u;return cm().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("sf2"!==(s=v.a.extname(t.name).toLowerCase().substring(1))){a.next=19;break}if(n.midiPlayer){a.next=6;break}o("MIDIPlayer has not been created - unable to load SoundFont."),a.next=17;break;case 6:if(1===e.length){a.next=10;break}o("Soundfonts must be added one at a time, separate from other files."),a.next=17;break;case 10:return l="user/".concat(t.name),a.next=13,pe(n.chipCore,"".concat(ie.SOUNDFONT_MOUNTPOINT,"/").concat(l),new Uint8Array(i.result),!0);case 13:n.midiPlayer.updateSoundfontParamDefs(),n.midiPlayer.setParameter("soundfont",l,!1),n.forceUpdate(),r(0);case 17:a.next=20;break;case 19:ie.FORMATS.includes(s)?(u=i.result,n.localFilesManager.write(v.a.join("local",t.name),u),r(1)):o('The file format ".'.concat(s,'" was not recognized.'));case 20:case"end":return a.stop()}}),a)}))),i.readAsArrayBuffer(t)}))}));Promise.allSettled(t).then((function(e){if(e.filter((function(e){return"fulfilled"===e.status})).reduce((function(e,t){return e+t.value}),0)>0){var t,r=(null===(t=n.sequencer)||void 0===t?void 0:t.getCurrContext())===n.playContexts.local;n.updateLocalFiles(),n.props.history.push("/local"),r&&(n.sequencer.context=n.playContexts.local),n.forceUpdate()}e.filter((function(e){return"rejected"===e.status})).reduce((function(e,t){return e.includes(t.reason)?e:[].concat(sm(e),[t.reason])}),[]).forEach((function(e,t){return setTimeout((function(){return n.props.toastContext.enqueueToast(e,Rp.ERROR)}),1500*t)}))}))})),vm(n,"handleLocalFileDelete",(function(e){var t;Array.isArray(e)||(e=[e]);var r=(null===(t=n.sequencer)||void 0===t?void 0:t.getCurrContext())===n.playContexts.local,o=!1;e.forEach((function(e){if(n.localFilesManager.delete(e)&&r){var t=n.playContexts.local.indexOf(e);t===n.sequencer.currIdx&&(o=!0),t<=n.sequencer.currIdx&&n.sequencer.currIdx--}})),n.updateLocalFiles(),r&&(n.sequencer.context=n.playContexts.local),o&&n.sequencer.nextSong()})),vm(n,"handleCopyLink",(function(e){navigator.clipboard.writeText(e),n.props.toastContext.enqueueToast("Copied song link to clipboard.",Rp.INFO)})),u(n),n.attachMediaKeyHandlers(),n.contentAreaRef=o.a.createRef(),n.listRef=o.a.createRef(),n.playContexts={},n.midiPlayer=null,window.ChipPlayer=n;var r=n.audioCtx=window.audioCtx=new(window.AudioContext||window.webkitAudioContext)({latencyHint:"playback"});if(r.sampleRate>ie.MAX_SAMPLE_RATE){console.warn("AudioContext default sample rate was too high (%s). Limiting to %s.",r.sampleRate,ie.MAX_SAMPLE_RATE);for(var i=r.sampleRate;i>ie.MAX_SAMPLE_RATE;)i/=2;r=n.audioCtx=window.audioCtx=new(window.AudioContext||window.webkitAudioContext)({latencyHint:"playback",sampleRate:i})}var a=Math.max(Math.pow(2,Math.ceil(Math.log2((r.baseLatency||.001)*r.sampleRate))),2048),s=n.gainNode=r.createGain();s.gain.value=1,s.connect(r.destination);var l=n.playerNode=r.createScriptProcessor(a,0,2);return l.connect(s),function(e){if(console.log("AudioContext initial state is %s.",e.state),"suspended"===e.state){var t=["touchstart","touchend","mousedown","mouseup"],n=function(){return e.resume().then((function(){return t.forEach((function(e){return document.body.removeEventListener(e,n)}))}))};t.forEach((function(e){return document.body.addEventListener(e,n,!1)}))}}(r),console.log("Sample rate: %d hz. Base latency: %d. Buffer size: %d.",r.sampleRate,r.baseLatency*r.sampleRate,a),n.state={loading:!0,loadingLocalFiles:!0,paused:!0,ejected:!0,currentSongMetadata:{},currentSongNumVoices:0,currentSongNumSubtunes:0,currentSongSubtune:0,currentSongDurationMs:1,currentSongPositionMs:0,tempo:1,voiceMask:Array(ie.MAX_VOICES).fill(!0),voiceNames:Array(ie.MAX_VOICES).fill(""),imageUrl:null,infoTexts:[],showInfo:!1,songUrl:null,volume:100,repeat:0,shuffle:0,directories:{},hasPlayer:!1,paramDefs:[],localFiles:[]},n.initChipCore(r,l,a),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gm(e,t)}(t,e),function(e,t,n){return t&&hm(e.prototype,t),n&&hm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"initChipCore",value:(n=dm(cm().mark((function e(t,n,r){var o,i,a,s,l,u,c,f,d,h=this;return cm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new oe({locateFile:function(e,t){return e.endsWith(".wasm")||e.endsWith(".wast")?"".concat(bm,"/").concat(e):t+e},print:function(e){return console.debug("[stdout] "+e)},printErr:function(e){return console.debug("[stderr] "+e)}});case 3:this.chipCore=e.sent,e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),this.setState({loading:!1}),this.props.toastContext.enqueueToast({message:"Error loading player engine. Old browser?",level:Rp.ERROR}),e.abrupt("return");case 11:o=b.a.parse(window.location.search.substring(1)).debug,i=[rn,bt,On,gn,qn,sr,br].map((function(e){return new e(h.chipCore,t.sampleRate,r,o)})),this.midiPlayer=i[0],n.onaudioprocess=function(e){for(var t=[],n=0;n<e.outputBuffer.numberOfChannels;n++)t.push(e.outputBuffer.getChannelData(n));var r,o=am(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.stopped||a.processAudio(t)}}catch(e){o.e(e)}finally{o.f()}},this.localFilesManager=new xe(this.chipCore.FS,"local"),this.chipCore.FS.syncfs(!0,(function(e){e&&console.log("Error populating FS from indexeddb.",e),i.forEach((function(e){return e.handleFileSystemReady()})),h.updateLocalFiles(),h.setState({loadingLocalFiles:!1})})),this.sequencer=new Ge(i,this.localFilesManager),this.sequencer.on("sequencerStateUpdate",this.handleSequencerStateUpdate),this.sequencer.on("playerError",(function(e){return h.props.toastContext.enqueueToast(e,Rp.ERROR)})),(a=b.a.parse(window.location.search.substring(1))).play&&(s=a.play,l=a.subtune?parseInt(a.subtune,10):0,u=a.t?parseInt(a.t,10):0,delete a.play,delete a.subtune,delete a.t,c=b.a.stringify(a),f=c?"?".concat(c):"",d=v.a.dirname(s),this.fetchDirectory(d).then((function(){h.props.history.replace("".concat(ce("/browse",d)).concat(f));var e=ie.CATALOG_PREFIX+s,t=h.playContexts[d].indexOf(e);h.playContext(h.playContexts[d],t,l),u&&setTimeout((function(){h.sequencer.getPlayer()&&h.sequencer.getPlayer().seekMs(u)}),100)}))),this.setState({loading:!1});case 23:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t,r){return n.apply(this,arguments)})},{key:"attachMediaKeyHandlers",value:function(){var e=this;"mediaSession"in navigator&&(console.log("Attaching Media Key event handlers."),this.mediaSessionAudio=document.createElement("audio"),this.mediaSessionAudio.src=bm+"/5-seconds-of-silence.mp3",this.mediaSessionAudio.loop=!0,this.mediaSessionAudio.volume=0,navigator.mediaSession.setActionHandler("play",(function(){return e.togglePause()})),navigator.mediaSession.setActionHandler("pause",(function(){return e.togglePause()})),navigator.mediaSession.setActionHandler("previoustrack",(function(){return e.prevSong()})),navigator.mediaSession.setActionHandler("nexttrack",(function(){return e.nextSong()})),navigator.mediaSession.setActionHandler("seekbackward",(function(){return e.seekRelative(-5e3)})),navigator.mediaSession.setActionHandler("seekforward",(function(){return e.seekRelative(5e3)}))),document.addEventListener("keydown",(function(t){if(!t.ctrlKey&&!t.metaKey){switch(t.key){case"Escape":e.setState({showInfo:!1}),t.target.blur()}if("INPUT"!==t.target.tagName||"text"!==t.target.type){switch(t.key){case" ":e.togglePause(),t.preventDefault();break;case"-":e.setSpeedRelative(-.1);break;case"_":e.setSpeedRelative(-.01);break;case"=":e.setSpeedRelative(.1);break;case"+":e.setSpeedRelative(.01)}if("INPUT"!==t.target.tagName||"range"!==t.target.type)switch(t.key){case"ArrowLeft":e.seekRelative(-5e3),t.preventDefault();break;case"ArrowRight":e.seekRelative(5e3),t.preventDefault()}}}}))}},{key:"playContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.sequencer.playContext(e,t,n)}},{key:"prevSong",value:function(){this.sequencer.prevSong()}},{key:"nextSong",value:function(){this.sequencer.nextSong()}},{key:"prevSubtune",value:function(){this.sequencer.prevSubtune()}},{key:"nextSubtune",value:function(){this.sequencer.nextSubtune()}},{key:"handleSequencerStateUpdate",value:function(e){var n=this,r=e.isEjected;if(console.debug("App.handleSequencerStateUpdate(isEjected=%s)",r),r)this.setState({ejected:!0,currentSongSubtune:0,currentSongMetadata:{},currentSongNumVoices:0,currentSongPositionMs:0,currentSongDurationMs:1,currentSongNumSubtunes:0,imageUrl:null,songUrl:null}),"mediaSession"in navigator&&(this.mediaSessionAudio.pause(),navigator.mediaSession.playbackState="none","MediaMetadata"in window&&(navigator.mediaSession.metadata=new window.MediaMetadata({})));else{var o,i=this.sequencer.getPlayer(),a=this.sequencer.getCurrUrl();if(a){if(a!==this.state.songUrl){var s=function(e){return de(fe(e))}(a);_e.fetchCached(s).then((function(e){var t=e.imageUrl,r=e.infoTexts,o=[].concat(sm(r),sm(n.state.infoTexts));n.setState({imageUrl:t,infoTexts:o}),"mediaSession"in navigator&&(navigator.mediaSession.metadata.artwork=null==t?[]:[{src:t,sizes:"512x512"}])})).catch((function(e){n.setState({imageUrl:null})}))}}else this.setState({imageUrl:null});var l,u,c=i.getMetadata();if("mediaSession"in navigator)if(this.mediaSessionAudio.play(),"MediaMetadata"in window)navigator.mediaSession.metadata=new window.MediaMetadata({title:c.title||(null===(l=c.formatted)||void 0===l?void 0:l.title),artist:c.artist||(null===(u=c.formatted)||void 0===u?void 0:u.subtitle),album:c.game,artwork:[]});this.setState(im(im({},t.mapSequencerStateToAppState(e)),{},{showInfo:this.state.showInfo&&(null===(o=i.getInfoTexts())||void 0===o?void 0:o.length)>0}))}}},{key:"togglePause",value:function(){if(!this.state.ejected&&this.sequencer.getPlayer()){var e=this.sequencer.getPlayer().togglePause();"mediaSession"in navigator&&(e?this.mediaSessionAudio.pause():this.mediaSessionAudio.play()),this.setState({paused:e})}}},{key:"handleTimeSliderChange",value:function(e){if(this.sequencer.getPlayer()){var t=e.target?e.target.value:e,n=Math.floor(t*this.state.currentSongDurationMs);if(this.seekRelativeInner(n),ie.REPLACE_STATE_ON_SEEK){var r=im(im({},b.a.parse(window.location.search.substr(1))),{},{t:n}),o="?"+b.a.stringify(r).replace(/%20/g,"+").replace(/%2F/g,"/");window.history.replaceState(null,"",o)}}}},{key:"seekRelative",value:function(e){if(this.sequencer.getPlayer()){var t=this.state.currentSongDurationMs,n=h()(this.sequencer.getPlayer().getPositionMs()+e,0,t);this.seekRelativeInner(n)}}},{key:"seekRelativeInner",value:function(e){var t=this;this.sequencer.getPlayer().seekMs(e),this.setState({currentSongPositionMs:e}),setTimeout((function(){t.sequencer.getPlayer().isPlaying()&&t.setState({currentSongPositionMs:t.sequencer.getPlayer().getPositionMs()})}),100)}},{key:"handleSetVoiceMask",value:function(e){this.sequencer.getPlayer()&&(this.sequencer.getPlayer().setVoiceMask(e),this.setState({voiceMask:sm(e)}))}},{key:"handleTempoChange",value:function(e){if(this.sequencer.getPlayer()){var t=parseFloat(e.target?e.target.value:e)||1;this.sequencer.getPlayer().setTempo(t),this.setState({tempo:t})}}},{key:"setSpeedRelative",value:function(e){if(this.sequencer.getPlayer()){var t=h()(this.state.tempo+e,.1,2);this.sequencer.getPlayer().setTempo(t),this.setState({tempo:t})}}},{key:"handleShufflePlay",value:function(e){var t=this;"favorites"===e?this.sequencer.playContext(m()(this.props.userContext.favesContext)):"local"===e?this.sequencer.playContext(m()(this.playContexts.local)):fetch("".concat(ie.API_BASE,"/shuffle?path=").concat(encodeURI(e),"&limit=100")).then((function(e){return e.json()})).then((function(e){return e.items.map(t.pathToHref)})).then((function(e){return t.sequencer.playContext(e)}))}},{key:"handleCycleShuffle",value:function(){var e=(this.state.shuffle+1)%2;this.setState({shuffle:e}),this.sequencer.setShuffle(e)}},{key:"handleSongClick",value:function(e,t,n){var r=this;return function(o){o.preventDefault(),t?r.playContext(t,n):r.sequencer.playSonglist([e])}}},{key:"handleVolumeChange",value:function(e){this.setState({volume:e}),this.gainNode.gain.value=Math.max(0,Math.min(2,.01*e))}},{key:"handleCycleRepeat",value:function(){var e=(this.state.repeat+1)%3;this.setState({repeat:e}),this.sequencer.setRepeat(e)}},{key:"toggleInfo",value:function(){this.setState({showInfo:!this.state.showInfo})}},{key:"directoryListingToContext",value:function(e){var t=this;return e.filter((function(e){return"file"===e.type})).map((function(e){return t.pathToHref(e.path)}))}},{key:"pathToHref",value:function(e){return ce(ie.CATALOG_PREFIX,e.replace("%","%25").replace("#","%23"))}},{key:"fetchDirectory",value:function(e){var t=this,n=ce("/",e);return fetch("".concat(ie.API_BASE,"/browse?path=").concat(encodeURIComponent(n))).then((function(e){return e.json()})).then((function(n){if(t.playContexts[e]=t.directoryListingToContext(n),n.forEach((function(e){e.mtime=new Date(1e3*e.mtime).toISOString().split("T")[0],e.name=e.path.split("/").pop(),e.path.replace("%","%25").replace("#","%23"),"file"===e.type?e.href=ce(ie.CATALOG_PREFIX,e.path):e.href=ce("/browse",e.path)})),""!==e){var r=e.substring(0,e.lastIndexOf("/"));n.unshift({type:"directory",path:r,href:ce("/browse",r),name:".."})}var o=im(im({},t.state.directories),{},vm({},e,n));t.setState({directories:o})}))}},{key:"getCurrentSongLink",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=null===(e=this.sequencer)||void 0===e?void 0:e.getCurrUrl();if(!n)return null;var r=bm+"/?play="+encodeURIComponent(ce("/",n.replace(ie.CATALOG_PREFIX,"")));if(t){var o,i=null===(o=this.sequencer)||void 0===o?void 0:o.getSubtune();0!==i&&(r+="&subtune="+i)}return r}},{key:"updateLocalFiles",value:function(){var e=this.localFilesManager.readAll();e.forEach((function(e){return e.mtime=new Date(1e3*e.mtime).toISOString().split("T")[0]})),this.playContexts.local=e.map((function(e){return e.path})),this.setState({localFiles:e})}},{key:"render",value:function(){var e,t,n,r=this,i=(n=this.state.currentSongMetadata).formatted?n.formatted:{title:ue(n.artist," - ")+n.title,subtitle:[n.game,n.system].filter((function(e){return e})).join(" - ")+ue(" (",n.copyright,")")},a=i.title,s=i.subtitle,l=null===(e=this.sequencer)||void 0===e?void 0:e.getCurrContext(),u=null===(t=this.sequencer)||void 0===t?void 0:t.getCurrIdx(),c={search:window.location.search},d=this.props.userContext,h=d.showPlayerSettings,p=d.handleToggleSettings;return o.a.createElement(te,{disableClick:!0,style:{},onDrop:this.onDrop},(function(e){return o.a.createElement("div",{className:"App"},o.a.createElement($h,{dropzoneProps:e}),o.a.createElement(jp,{showInfo:r.state.showInfo,infoTexts:r.state.infoTexts,toggleInfo:r.toggleInfo}),o.a.createElement(Mp,null),o.a.createElement(Nc,null),o.a.createElement("div",{className:"App-main"},o.a.createElement("div",{className:"App-main-inner"},o.a.createElement("div",{className:"tab-container"},o.a.createElement(D,{className:"tab",activeClassName:"tab-selected",to:im({pathname:"/"},c),exact:!0},"Search"),o.a.createElement(D,{className:"tab",activeClassName:"tab-selected",to:im({pathname:"/browse"},c)},"Browse"),o.a.createElement(D,{className:"tab",activeClassName:"tab-selected",to:im({pathname:"/favorites"},c)},"Favorites"),o.a.createElement(D,{className:"tab",activeClassName:"tab-selected",to:im({pathname:"/local"},c)},"Local"),o.a.createElement("button",{className:"tab tab-settings ".concat(h?"tab-selected":""),onClick:p},"Settings")),o.a.createElement("div",{className:"App-main-content-and-settings"},o.a.createElement("div",{className:"App-main-content-area",ref:r.contentAreaRef},o.a.createElement(_.c,null,o.a.createElement(_.a,{path:"/favorites",render:function(){return o.a.createElement(Xh,{scrollContainerRef:r.contentAreaRef,handleShufflePlay:r.handleShufflePlay,onSongClick:r.handleSongClick,currContext:l,currIdx:u,listRef:r.listRef})}}),o.a.createElement(_.a,{path:"/browse/:browsePath*",render:function(e){var t,n=e.history,i=e.match,a=e.location,s=(null===(t=i.params)||void 0===t||null===(t=t.browsePath)||void 0===t?void 0:t.replace("%25","%"))||"";return r.contentAreaRef.current&&o.a.createElement(Dh,{currContext:l,currIdx:u,history:n,locationKey:a.key,browsePath:s,listing:r.state.directories[s],playContext:r.playContexts[s],fetchDirectory:r.fetchDirectory,onSongClick:r.handleSongClick,handleShufflePlay:r.handleShufflePlay,scrollContainerRef:r.contentAreaRef,listRef:r.listRef})}}),o.a.createElement(_.a,{path:"/local",render:function(){return o.a.createElement(Zp,{loading:r.state.loadingLocalFiles,handleShufflePlay:r.handleShufflePlay,onSongClick:r.handleSongClick,onDelete:r.handleLocalFileDelete,playContext:r.playContexts.local,currContext:l,currIdx:u,listing:r.state.localFiles})}}),">",o.a.createElement(_.a,{path:"/settings",render:function(){return o.a.createElement($p,{ejected:r.state.ejected,tempo:r.state.tempo,currentSongNumVoices:r.state.currentSongNumVoices,voiceMask:r.state.voiceMask,voiceNames:r.state.voiceNames,handleSetVoiceMask:r.handleSetVoiceMask,handleTempoChange:r.handleTempoChange,sequencer:r.sequencer})}}),o.a.createElement(_.a,{render:function(e){var t=e.history;return r.contentAreaRef.current&&o.a.createElement(sp,{history:t,currContext:l,currIdx:u,onSongClick:r.handleSongClick,scrollContainerRef:r.contentAreaRef,listRef:r.listRef},r.state.loading&&o.a.createElement("p",null,"Loading player engine..."),o.a.createElement(tm,null))}}))),h&&o.a.createElement("div",{className:"App-main-content-area settings"},o.a.createElement($p,{ejected:r.state.ejected,tempo:r.state.tempo,currentSongNumVoices:r.state.currentSongNumVoices,voiceMask:r.state.voiceMask,voiceNames:r.state.voiceNames,voiceGroups:r.state.voiceGroups,handleSetVoiceMask:r.handleSetVoiceMask,handleTempoChange:r.handleTempoChange,sequencer:r.sequencer})))),!f.a.phone&&!r.state.loading&&o.a.createElement(Tp,{audioCtx:r.audioCtx,sourceNode:r.playerNode,chipCore:r.chipCore,paused:r.state.ejected||r.state.paused})),o.a.createElement(Ac,{currentSongDurationMs:r.state.currentSongDurationMs,currentSongNumSubtunes:r.state.currentSongNumSubtunes,currentSongNumVoices:r.state.currentSongNumVoices,currentSongSubtune:r.state.currentSongSubtune,ejected:r.state.ejected,getCurrentSongLink:r.getCurrentSongLink,handleCopyLink:r.handleCopyLink,handleCycleRepeat:r.handleCycleRepeat,handleCycleShuffle:r.handleCycleShuffle,handleSetVoiceMask:r.handleSetVoiceMask,handleTempoChange:r.handleTempoChange,handleTimeSliderChange:r.handleTimeSliderChange,handleVolumeChange:r.handleVolumeChange,imageUrl:r.state.imageUrl,infoTexts:r.state.infoTexts,nextSong:r.nextSong,nextSubtune:r.nextSubtune,paused:r.state.paused,prevSong:r.prevSong,prevSubtune:r.prevSubtune,repeat:r.state.repeat,shuffle:r.state.shuffle,sequencer:r.sequencer,songUrl:r.state.songUrl,subtitle:s,tempo:r.state.tempo,title:a,toggleInfo:r.toggleInfo,togglePause:r.togglePause,voiceNames:r.state.voiceNames,voiceMask:r.state.voiceMask,volume:r.state.volume}))}))}}],[{key:"mapSequencerStateToAppState",value:function(e){var t={ejected:"isEjected",paused:"isPaused",currentSongSubtune:"subtune",currentSongMetadata:"metadata",currentSongNumVoices:"numVoices",currentSongPositionMs:"positionMs",currentSongDurationMs:"durationMs",currentSongNumSubtunes:"numSubtunes",tempo:"tempo",voiceNames:"voiceNames",voiceMask:"voiceMask",voiceGroups:"voiceGroups",songUrl:"url",hasPlayer:"hasPlayer",paramDefs:"paramDefs",infoTexts:"infoTexts"},n={};for(var r in t){var o=t[r];o in e&&(n[r]=e[o])}return n}}]);var n}(o.a.Component),wm=Object(_.g)((function(e){var t=Object(r.useContext)(Oc),n=Object(r.useContext)(Op);return o.a.createElement(_m,rm({},e,{userContext:t,toastContext:n}))}));a.a.render(o.a.createElement(x,{basename:""},o.a.createElement(Ip,null,o.a.createElement(Ic,null,o.a.createElement(wm,null)))),document.getElementById("root"));var Sm=new URLSearchParams(window.location.search).get("theme");function Em(e){var t=document.querySelector("meta[name='theme-color']");t||((t=document.createElement("meta")).name="theme-color",document.head.appendChild(t)),t.content=e}Sm?(document.documentElement.setAttribute("data-theme",Sm),"winamp"===Sm&&Em("#1e1e2f")):(document.documentElement.setAttribute("data-theme","msdos"),Em("#000088"))}]);
//# sourceMappingURL=main.a6ded6f4.js.map